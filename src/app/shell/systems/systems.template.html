<div class="container" [class.show]="show_sidebar">
    <div class="sidebar" (tapped)="showSidebar()">
        <sidebar
            heading="Systems"
            [total]="total"
            [module]="module"
            [list]="list"
            [loading]="loading"
            [close]="show_sidebar"
            (searchChange)="search($event)"
            (event)="sidebarEvent($event)"
        ></sidebar>
    </div>
    <main (touchrelease)="showSidebar(false)">
        <item-display
            name="system"
            [item]="item"
            [loading]="loading_item"
            [tabs]="[
                { id: 'about', name: 'About', template: about, icon: { class: 'material-icons', value: 'info' } },
                {
                    id: 'devices',
                    name: 'Devices',
                    count: devices,
                    template: devices,
                    icon: { class: 'material-icons', value: 'devices_other' }
                },
                { id: 'zones', name: 'Zones', count: zones, template: zones, icon: { class: 'material-icons', value: 'device_hub' } },
                { id: 'triggers', name: 'Triggers', count: triggers, template: triggers, icon: { class: 'material-icons', value: 'timer' } }
            ]"
            [active]="tab"
            (event)="itemEvent($event)"
        >
            <ng-template #about>
                <system-about [item]="item"></system-about>
            </ng-template>
            <ng-template #devices>
                <system-devices [item]="item"></system-devices>
            </ng-template>
            <ng-template #zones>
                <system-zones [item]="item"></system-zones>
            </ng-template>
            <ng-template #triggers>
                <system-triggers [item]="item"></system-triggers>
            </ng-template>
        </item-display>
    </main>
</div>
