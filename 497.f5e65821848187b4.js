(self.webpackChunkbackoffice=self.webpackChunkbackoffice||[]).push([[497],{8497:(it,se,C)=>{"use strict";C.r(se),C.d(se,{AppZonesModule:()=>gt});var M=C(8267),S=C(9902),z=C(525),Ae=C(1292),G=C(3083),re=C(8806),P=C(8999),W=C(1119),le=C(899),ze=C(8252),Ce=C(9820),V=C(9026),R=C(8377),ee=C(592),ce=C(8537),Re=C(4452),Ee=C(6133),Le=C(2378),U=C(3829),_e=C(129),e=C(2222),Fe=C(6298);let Y=(()=>{class r{constructor(u,_){this._service=u,this._dialog=_,this._loading=new W.X(!1),this._change=new W.X(!1),this.loading=this._loading.asObservable(),this.item=this._service.item,this.counts=(0,le.aj)([this._service.all_item,this._change]).pipe((0,Ce.b)(300),(0,V.w)(p=>(0,re.mG)(this,void 0,void 0,function*(){const[f]=p;if(!(f instanceof P.TT8))return{};this._loading.next(!0);const y=yield Promise.all([(0,P.vIL)({zone_id:f.id,limit:1}).pipe((0,R.U)(k=>k.total)).toPromise().catch(k=>0),(0,P.Vgq)(f.id).pipe((0,R.U)(k=>k.total)).toPromise().catch(k=>0),(0,P.Eio)(f.id).pipe((0,R.U)(k=>k.length)).toPromise().catch(k=>0),(0,P.I0G)({parent:f.id,limit:1}).pipe((0,R.U)(k=>k.total)).toPromise().catch(k=>0)]),[$,Ie,ke,we]=y;return this._loading.next(!1),{systems:$,triggers:Ie,metadata:ke,children:we}}))),this.systems=this.item.pipe((0,V.w)(p=>p instanceof P.TT8?(0,P.vIL)({zone_id:p.id}):[]),(0,R.U)(p=>p.data),(0,ee.K)(p=>[]),(0,ce.d)()),this.triggers=this.item.pipe((0,V.w)(p=>p instanceof P.TT8?(0,P.Vgq)(p.id):[]),(0,R.U)(p=>p.data),(0,ee.K)(p=>[]),(0,ce.d)()),this.metadata=this.item.pipe((0,V.w)(p=>p instanceof P.TT8?(0,P.Eio)(p.id):(0,ze.of)([])),(0,ee.K)(p=>[]),(0,ce.d)(1)),this.children=this.item.pipe((0,V.w)(p=>p instanceof P.TT8?(0,P.I0G)({parent:p.id}):[]),(0,R.U)(p=>p.data),(0,ee.K)(p=>[]),(0,ce.d)()),setTimeout(()=>this._change.next(!this._change.getValue()),1e3)}get active_item(){return this._service.active_item}selectTrigger(){return(0,re.mG)(this,void 0,void 0,function*(){const u=this._dialog.open(_e.f,{data:{service_name:"Triggers",query_fn:f=>(0,P.$Um)({q:f}).pipe((0,R.U)(y=>y.data))}}),_=yield Promise.race([u.componentInstance.event.pipe((0,Re.P)(f=>"action"===f.reason)).toPromise(),u.afterClosed().toPromise()]);if(!_||!_.reason)return u.close();const p=yield this.addTrigger(u.componentInstance.item);u.close(),p&&this._service.replaceItem(p)})}addTrigger(u){return(0,re.mG)(this,void 0,void 0,function*(){return(0,P.BfP)(this.active_item.id,Object.assign(Object.assign({},this.active_item),{triggers:(0,Ee.Tw)([...this.active_item.triggers,u.id])})).toPromise()})}removeTrigger(u){return(0,re.mG)(this,void 0,void 0,function*(){const _=yield(0,Ee._5)({title:"Remove trigger",content:`<p>Are you sure you want remove trigger "${u.name}"?</p><p>Configuration will be updated <strong>immediately</strong>.</p>`,icon:{type:"icon",class:"backoffice-trash"}},this._dialog);if(!_||!_.reason)return;const p=yield(0,P.BfP)(this.active_item.id,Object.assign(Object.assign({},this.active_item),{triggers:this.active_item.triggers.filter(f=>f!==u.id)})).toPromise().catch(f=>{throw _.close(),(0,U.cB)(`Error removing trigger ${u.id} from zone. Error: ${f.statusText||f.message||f}`),f});_.close(),(0,U.t5)("Successfully removed trigger from zone."),p&&this._service.replaceItem(p)})}}return r.\u0275fac=function(u){return new(u||r)(e.LFG(Le.L),e.LFG(Fe.uw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ve=C(2016),qe=C(2874);let Ue=(()=>{class r extends Ae.K{constructor(u,_,p){super(),this._service=u,this._route=_,this._router=p,this.name="zones",this.tab_list=[]}get extensions(){return(0,G.fq)(this._service.active_item,this.name)}updateTabList(u){console.log("Details:",u),this.tab_list=[{id:"about",name:"About",icon:{class:"backoffice-info-with-circle"}},{id:"systems",name:"Systems",count:u.systems,icon:{class:"backoffice-documents"}},{id:"triggers",name:"Triggers",count:u.triggers,icon:{class:"backoffice-stopwatch"}},{id:"metadata",name:"Metadata",count:u.metadata,icon:{class:"backoffice-gist"}},{id:"children",name:"Children",count:u.children,icon:{class:"backoffice-flow-tree"}},{id:"history",name:"Settings History",icon:{class:"backoffice-clock"}}].concat(this.extensions)}ngOnInit(){this.subscription("item",this._service.counts.subscribe(u=>this.updateTabList(u))),this.updateTabList({})}}return r.\u0275fac=function(u){return new(u||r)(e.Y36(Y),e.Y36(z.gz),e.Y36(z.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-zones"]],features:[e.qOj],decls:3,vars:1,consts:[[1,"flex-1","flex-col","sm:flex-row","flex","h-full","w-full","relative"],["heading","Zones","name","zones",1,"absolute","top-0","left-0","h-12","w-full","sm:h-full","sm:static"],["name","zone","route","zones",1,"flex-1","relative","mt-12","sm:mt-0","w-full","sm:w-1/2",3,"tabs"]],template:function(u,_){1&u&&(e.TgZ(0,"div",0),e._UZ(1,"sidebar",1),e._UZ(2,"item-display",2),e.qZA()),2&u&&(e.xp6(2),e.Q6J("tabs",_.tab_list))},directives:[ve.k,qe.s],styles:["sidebar[_ngcontent-%COMP%]{transition:height .3s}@media screen and (min-width: 640px){sidebar[_ngcontent-%COMP%]{width:20em!important}}\n/*# sourceMappingURL=zones.component.ts-angular-inline--43.css.map*/"]}),r})();var Je=C(4344),J=C(6752),Ge=C(1036),Ke=C(2157),Xe=C(9688),B=C(1933),Ye=C(2433),Q=C(9372),j=C(6835);function I(r,d){1&r&&(e.TgZ(0,"header",7),e.SDv(1,12),e.qZA())}function Qe(r,d){if(1&r&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&r){const u=d.$implicit;e.Q6J("value",u),e.xp6(1),e.hij(" ",u.name," ")}}function Te(r,d){if(1&r&&e._UZ(0,"execute-method-field",19),2&r){const u=e.oxw(2);e.Q6J("system",u.active_system)}}function je(r,d){if(1&r){const u=e.EpF();e.TgZ(0,"section",13),e.TgZ(1,"mat-form-field",14),e.TgZ(2,"mat-select",15),e.NdJ("ngModelChange",function(p){return e.CHM(u),e.oxw().active_system=p}),e.YNc(3,Qe,2,2,"mat-option",16),e.ALo(4,"async"),e.qZA(),e.qZA(),e.YNc(5,Te,1,1,"execute-method-field",17),e.qZA()}if(2&r){const u=e.oxw();e.xp6(2),e.Q6J("ngModel",u.active_system),e.xp6(1),e.Q6J("ngForOf",e.lcZ(4,3,u.systems)),e.xp6(2),e.Q6J("ngIf",u.active_system&&u.active_system.id)}}const fe=function(r){return["/zones",r,"about"]};function te(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,21),e.qZA(),e.TgZ(3,"div",22),e.TgZ(4,"a",23),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.Q6J("routerLink",e.VKq(2,fe,null==u.item?null:u.item.parent_id)),e.xp6(1),e.Oqu(null==u.item?null:u.item.parent_id)}}function b(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,24),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.ALo(5,"dateFrom"),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,1,1e3*(null==u.item?null:u.item.created_at))," ")}}function K(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,26),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.ALo(5,"dateFrom"),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,1,1e3*(null==u.item?null:u.item.updated_at))," ")}}function E(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,27),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.Oqu(null==u.item?null:u.item.location)}}function h(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,28),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.Oqu(null==u.item?null:u.item.code)}}function be(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,29),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.Oqu(null==u.item?null:u.item.type)}}function He(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,30),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.Oqu(null==u.item?null:u.item.count)}}function pe(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,31),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(4),e.Oqu(null==u.item?null:u.item.capacity)}}function ne(r,d){if(1&r&&(e.TgZ(0,"div",20),e.TgZ(1,"label"),e.SDv(2,32),e.qZA(),e.TgZ(3,"a",33),e._uU(4),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(3),e.Q6J("href",null==u.item?null:u.item.map_id,e.LSH),e.xp6(1),e.Oqu(null==u.item?null:u.item.map_id)}}function Ze(r,d){1&r&&(e.TgZ(0,"header",7),e.SDv(1,34),e.qZA())}function We(r,d){if(1&r&&e._UZ(0,"section",35),2&r){const u=e.oxw();e.Q6J("innerHTML",u.parsed_description,e.oJD)}}function Se(r,d){if(1&r&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&r){const u=d.$implicit;e.xp6(1),e.Oqu(u)}}function ie(r,d){if(1&r&&(e.TgZ(0,"div",25),e.TgZ(1,"mat-chip-list",40),e.YNc(2,Se,2,1,"mat-chip",41),e.qZA(),e.qZA()),2&r){const u=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",u.tag_list)}}function Ve(r,d){if(1&r&&(e.TgZ(0,"section",36),e.TgZ(1,"label",37),e.SDv(2,38),e.qZA(),e.YNc(3,ie,3,1,"div",39),e.qZA()),2&r){const u=e.oxw(),_=e.MAs(24);e.xp6(3),e.Q6J("ngIf",u.tag_list&&u.tag_list.length)("ngIfElse",_)}}function xe(r,d){if(1&r&&(e.TgZ(0,"section"),e._UZ(1,"a-settings-form",42),e.qZA()),2&r){const u=e.oxw();e.xp6(1),e.Q6J("merge",!0)("id",null==u.item?null:u.item.id)("settings",null==u.item?null:u.item.settings)}}function ge(r,d){1&r&&(e.TgZ(0,"div",43),e._UZ(1,"mat-spinner",44),e.TgZ(2,"p"),e.SDv(3,45),e.qZA(),e.qZA())}function De(r,d){1&r&&(e.TgZ(0,"p",46),e.SDv(1,47),e.qZA())}let Oe=(()=>{class r{constructor(u){this._service=u,this.systems=this._service.systems}get item(){return this._service.active_item}get parsed_description(){var u;return this.item?Je(null===(u=this.item)||void 0===u?void 0:u.description):""}get tag_list(){var u;return this.item?null===(u=this.item)||void 0===u?void 0:u.tags:[]}}return r.\u0275fac=function(u){return new(u||r)(e.Y36(Y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["zone-about"]],decls:25,vars:20,consts:function(){let d,u,_,p,f,y,$,Ie,ke,we,k,ut,at,ot,st;return d=$localize`:@@settingsLabel␟5ba97a3f90a79c4d7720b941ae416c8c84337e38␟180274732945114229: Settings `,u=$localize`:@@execHeader␟6e9fe55331b587290e95336846799c928c323b8f␟5406219849635212445: Execute Command `,_=$localize`:@@zoneParentLabel␟8dce5a1b53185785ceb8eaece03a45f95a1058ae␟1730450554195977822:Parent ID:`,p=$localize`:@@zoneCreatedAtLabel␟a5ed099ffc9e96f6970df843289ade8a7d20ab9f␟1616250945945379783:Created:`,f=$localize`:@@zoneUpdatedAtLabel␟f94240161f912dbd8758b858877cddeab80f36cb␟1116759395536210856:Updated:`,y=$localize`:@@zoneLocationLabel␟4bebbae34f84157c0b5b852529f0bc2c39a5a38a␟4510013877734913501:Location:`,$=$localize`:@@zoneCodeLabel␟08a3263c58aafca24f31b3f312d90934a14069e5␟4793952596010266372:Code:`,Ie=$localize`:@@zoneTypeLabel␟b2ec946dbfa29aa3430b9999250edf9a2a6e3552␟2473796624751549543:Type: `,ke=$localize`:@@zoneCountLabel␟e684046d73bcee88e82f7ff01e2852789a05fc32␟6836949342567686088:Count:`,we=$localize`:@@zoneCapacityLabel␟a1170e85d1897210d5fe03d1f363587de15d02cd␟8062822823331512246:Capacity:`,k=$localize`:@@zoneMapLabel␟b59ac98267a9fea534d729d6021e4ad108b9166e␟5947091241433737383:Map:`,ut=$localize`:@@descriptionLabel␟91d130f4d03590d2ab82ec6ccd644aaff7dbf49c␟7630730180260398735: Description `,at=$localize`:@@zoneTagsLabel␟d1c4e9d07d3789fb1c66dec61f2d52c6b81b10f6␟7952806382632077864:Tags:`,ot=$localize`:@@zoneLoadingLabel␟adb8ef1c4f047ddce91397fb4d8f83acc47f4649␟1768664919049731907:Loading zone settings...`,st=$localize`:@@zoneTagsEmpty␟48171f6d8b15daa87a49496d685bd03bb4f84253␟1765229228159298837: <No Tags> `,[["class","font-medium text-lg",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"space-y-2"],["class","flex items-center space-x-2",4,"ngIf"],["class","description",3,"innerHTML",4,"ngIf"],["class","flex space-x-2 mt-1",4,"ngIf"],[1,"my-4"],[1,"font-medium","text-lg"],d,[4,"ngIf","ngIfElse"],["load_state",""],["empty_tag_state",""],u,[1,"mb-4"],["appearance","outline",1,"h-12"],["placeholder","Select system",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"system",4,"ngIf"],[3,"value"],[3,"system"],[1,"flex","items-center","space-x-2"],_,[1,"value","underline"],[3,"routerLink"],p,[1,"value"],f,y,$,Ie,ke,we,k,[1,"underline",3,"href"],ut,[1,"description",3,"innerHTML"],[1,"flex","space-x-2","mt-1"],["for","tags",1,"my-1"],at,["class","value",4,"ngIf","ngIfElse"],["name","tags"],[4,"ngFor","ngForOf"],[3,"merge","id","settings"],[1,"flex","flex-col","items-center","p-8"],["diameter","48",1,"mb-4"],ot,[1,"text-center","py-1"],st]},template:function(u,_){if(1&u&&(e.YNc(0,I,2,0,"header",0),e.ALo(1,"async"),e.YNc(2,je,6,5,"section",1),e.ALo(3,"async"),e.TgZ(4,"section",2),e.YNc(5,te,6,4,"div",3),e.YNc(6,b,6,3,"div",3),e.YNc(7,K,6,3,"div",3),e.YNc(8,E,5,1,"div",3),e.YNc(9,h,5,1,"div",3),e.YNc(10,be,5,1,"div",3),e.YNc(11,He,5,1,"div",3),e.YNc(12,pe,5,1,"div",3),e.YNc(13,ne,5,2,"div",3),e.qZA(),e.YNc(14,Ze,2,0,"header",0),e.YNc(15,We,1,1,"section",4),e.YNc(16,Ve,4,2,"section",5),e._UZ(17,"hr",6),e.TgZ(18,"header",7),e.SDv(19,8),e.qZA(),e.YNc(20,xe,2,3,"section",9),e.YNc(21,ge,4,0,"ng-template",null,10,e.W1O),e.YNc(23,De,2,0,"ng-template",null,11,e.W1O)),2&u){const p=e.MAs(22);let f,y;e.Q6J("ngIf",null==(f=e.lcZ(1,16,_.systems))?null:f.length),e.xp6(2),e.Q6J("ngIf",null==(y=e.lcZ(3,18,_.systems))?null:y.length),e.xp6(3),e.Q6J("ngIf",null==_.item?null:_.item.parent_id),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.created_at),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.updated_at),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.location),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.code),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.type),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.count),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.capacity),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.map_id),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.description),e.xp6(1),e.Q6J("ngIf",null==_.item?null:_.item.description),e.xp6(1),e.Q6J("ngIf",_.item&&_.tag_list),e.xp6(4),e.Q6J("ngIf",null==_.item?null:_.item.settings)("ngIfElse",p)}},directives:[M.O5,J.KE,Ge.gD,S.JJ,S.On,M.sg,Ke.ey,Xe.Q,z.yS,B.qn,B.HS,Ye.v,Q.$g],pipes:[M.Ov,j.R],styles:["[_nghost-%COMP%]{padding:1rem;height:100%;width:100%}\n/*# sourceMappingURL=zone-about.component.ts-angular-inline--44.css.map*/"]}),r})();var ue=C(9499),me=C(8482),he=C(4731);const ae=function(r){return["/systems",r]};function de(r,d){if(1&r&&(e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"a",18),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA(),e.TgZ(6,"div",12),e._uU(7),e.ALo(8,"dateFrom"),e.qZA(),e.qZA()),2&r){const u=d.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(7,ae,u.id))("matTooltip",u.id),e.xp6(1),e.hij(" ",u.name," "),e.xp6(2),e.Oqu(u.modules.length),e.xp6(2),e.Oqu(e.lcZ(8,5,1e3*(null==u?null:u.created_at)))}}function Ne(r,d){if(1&r&&(e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e.SDv(3,9),e.qZA(),e.TgZ(4,"div",10),e.SDv(5,11),e.qZA(),e.TgZ(6,"div",12),e.SDv(7,13),e.qZA(),e.qZA(),e.TgZ(8,"div",14),e.YNc(9,de,9,9,"div",15),e.ALo(10,"async"),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(9),e.Q6J("ngForOf",e.lcZ(10,1,u.systems))}}function Pe(r,d){1&r&&(e.TgZ(0,"div",19),e.TgZ(1,"p"),e.SDv(2,20),e.qZA(),e.qZA())}let et=(()=>{class r{constructor(u){this._state=u,this.filter$=new W.X(""),this.systems=(0,le.aj)([this.filter$,this._state.systems]).pipe((0,R.U)(_=>{const[p,f]=_,y=p.toLowerCase();return p?f.filter($=>$.name.toLowerCase().includes(y)):f}))}}return r.\u0275fac=function(u){return new(u||r)(e.Y36(Y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["zone-systems"]],decls:8,vars:5,consts:function(){let d,u,_,p;return d=$localize`:@@systemTableName␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,u=$localize`:@@systemTablePanelCount␟6c24d3e08bc16576fbd5580dc255a31c4b08c366␟8919524640139321287:No. Modules`,_=$localize`:@@systemTableCreated␟1b051734b0ee9021991c91b3ed4e81c244322462␟4207916966377787111:Created`,p=$localize`:@@systemTableEmpty␟443361e57db2ac76049b227574b4a6b8a67ae879␟6249884397292386469:No systems found`,[[1,"flex"],["appearance","outline",1,"flex-1"],["matPrefix","","className","backoffice-magnifying-glass",1,"text-lg"],["matInput","","name","search-filter","placeholder","Filter Systems",3,"ngModel","ngModelChange"],["role","table",4,"ngIf","ngIfElse"],["empty_state",""],["role","table"],["table-head",""],[1,"flex-1","p-2"],d,[1,"w-28","p-2"],u,[1,"w-32","p-2"],_,["table-body",""],["table-row","",4,"ngFor","ngForOf"],["table-row",""],[1,"flex-1","p-2","underline"],["matTooltipPosition","right",3,"routerLink","matTooltip"],[1,"flex","flex-col","items-center","p-8"],p]},template:function(u,_){if(1&u&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-form-field",1),e._UZ(2,"app-icon",2),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(f){return _.filter$.next(f)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(4,Ne,11,3,"div",4),e.ALo(5,"async"),e.YNc(6,Pe,3,0,"ng-template",null,5,e.W1O)),2&u){const p=e.MAs(7);let f;e.xp6(3),e.Q6J("ngModel",""),e.xp6(1),e.Q6J("ngIf",null==(f=e.lcZ(5,3,_.systems))?null:f.length)("ngIfElse",p)}},directives:[J.KE,ue.o,J.qo,me.Nt,S.Fj,S.JJ,S.On,M.O5,M.sg,z.yS,he.gM],pipes:[M.Ov,j.R],styles:["[_nghost-%COMP%]{padding:1rem;width:100%;height:100%}\n/*# sourceMappingURL=zone-systems.component.ts-angular-inline--45.css.map*/"]}),r})();var ye=C(7752);const tt=function(r){return["/triggers",r]};function v(r,d){if(1&r){const u=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"div",11),e.TgZ(2,"a",19),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.ALo(6,"dateFrom"),e.qZA(),e.TgZ(7,"div",21),e.TgZ(8,"button",22),e.NdJ("click",function(){const f=e.CHM(u).$implicit;return e.oxw(3).deleteTrigger(f)}),e._UZ(9,"app-icon",23),e.qZA(),e.qZA(),e.qZA()}if(2&r){const u=d.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(5,tt,u.id)),e.xp6(1),e.Oqu(u.name),e.xp6(2),e.hij(" ",e.lcZ(6,3,1e3*+u.created_at)," ")}}function nt(r,d){if(1&r&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"div",11),e.SDv(3,12),e.qZA(),e.TgZ(4,"div",13),e.SDv(5,14),e.qZA(),e._UZ(6,"div",15),e.qZA(),e.TgZ(7,"div",16),e.YNc(8,v,10,7,"div",17),e.ALo(9,"async"),e.qZA(),e.qZA()),2&r){const u=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",e.lcZ(9,1,u.triggers))}}function c(r,d){if(1&r&&(e.ynx(0),e.YNc(1,nt,10,3,"div",8),e.ALo(2,"async"),e.BQk()),2&r){const u=e.oxw(),_=e.MAs(12);let p;e.xp6(1),e.Q6J("ngIf",null==(p=e.lcZ(2,2,u.triggers))?null:p.length)("ngIfElse",_)}}function s(r,d){1&r&&(e.TgZ(0,"div",24),e._UZ(1,"mat-spinner",25),e.TgZ(2,"p"),e._uU(3,"Loading triggers..."),e.qZA(),e.qZA()),2&r&&(e.xp6(1),e.Q6J("diameter",48))}function l(r,d){1&r&&(e.TgZ(0,"div",24),e.TgZ(1,"p"),e._uU(2,"No triggers for zone"),e.qZA(),e.qZA())}let t=(()=>{class r{constructor(u){this._state=u,this.filter$=new W.X(""),this.triggers=(0,le.aj)([this.filter$,this._state.triggers]).pipe((0,R.U)(_=>{const[p,f]=_,y=p.toLowerCase();return p?f.filter($=>$.name.toLowerCase().includes(y)):f})),this.loading=this._state.loading,this.selectTrigger=()=>this._state.selectTrigger(),this.deleteTrigger=_=>this._state.removeTrigger(_)}get item(){return this._state.active_item}}return r.\u0275fac=function(u){return new(u||r)(e.Y36(Y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["zone-triggers"]],decls:13,vars:5,consts:function(){let d,u;return d=$localize`:@@nameLabel␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,u=$localize`:@@descriptionLabel␟80e3b490720757978c99a7b5af3885faf202b955␟231679111972850796:Added`,[[1,"flex","items-center","mb-4","space-x-2"],["mat-button","",2,"min-width","8rem",3,"click"],["appearance","outline",1,"h-12","flex-1"],["matPrefix","","className","backoffice-magnifying-glass text-xl mr-2"],["matInput","","placeholder","Filter triggers...",1,"rounded-none",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["load_state",""],["empty_state",""],["role","table","class","overflow-x-auto",4,"ngIf","ngIfElse"],["role","table",1,"overflow-x-auto"],["table-head",""],["flex","",1,"flex-1","p-2"],d,[1,"w-28","p-2"],u,[1,"w-32","p-2"],["table-body","",1,"overflow-y-auto"],["table-row","",4,"ngFor","ngForOf"],["table-row",""],[1,"truncate",3,"routerLink"],["desc","",1,"w-28","p-2"],[1,"w-32","p-2","items-center","justify-center"],["mat-icon-button","",3,"click"],["className","backoffice-trash"],[1,"flex","flex-col","items-center","p-8","mx-auto"],[1,"mb-4",3,"diameter"]]},template:function(u,_){if(1&u&&(e.TgZ(0,"section",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return _.selectTrigger()}),e._uU(2," Add Trigger "),e.qZA(),e.TgZ(3,"mat-form-field",2),e._UZ(4,"app-icon",3),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(f){return _.filter$.next(f)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"section"),e.YNc(7,c,3,4,"ng-container",5),e.ALo(8,"async"),e.qZA(),e.YNc(9,s,4,1,"ng-template",null,6,e.W1O),e.YNc(11,l,3,0,"ng-template",null,7,e.W1O)),2&u){const p=e.MAs(10);e.xp6(5),e.Q6J("ngModel",""),e.xp6(2),e.Q6J("ngIf",!e.lcZ(8,3,_.loading))("ngIfElse",p)}},directives:[ye.lW,J.KE,ue.o,J.qo,me.Nt,S.Fj,S.JJ,S.On,M.O5,M.sg,z.yS,Q.$g],pipes:[M.Ov,j.R],styles:["[_nghost-%COMP%]{padding:1rem;width:100%;height:100%}\n/*# sourceMappingURL=zone-triggers.component.ts-angular-inline--46.css.map*/"]}),r})();const n=function(r){return["/zone",r]};function i(r,d){if(1&r&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"a",16),e._uU(3),e.TgZ(4,"span",17),e._uU(5),e.qZA(),e._uU(6,") "),e.qZA(),e.qZA(),e.TgZ(7,"div",10),e._uU(8),e.qZA(),e.qZA()),2&r){const u=d.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(5,n,u.id))("matTooltip",u.id),e.xp6(1),e.hij(" ",u.name," ("),e.xp6(2),e.Oqu(u.id),e.xp6(3),e.Oqu(u.description)}}function a(r,d){if(1&r&&(e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e.SDv(3,9),e.qZA(),e.TgZ(4,"div",10),e.SDv(5,11),e.qZA(),e.qZA(),e.TgZ(6,"div",12),e.YNc(7,i,9,7,"div",13),e.ALo(8,"async"),e.qZA(),e.qZA()),2&r){const u=e.oxw();e.xp6(7),e.Q6J("ngForOf",e.lcZ(8,1,u.children))}}function o(r,d){1&r&&(e.TgZ(0,"div",18),e.SDv(1,19),e.qZA())}let D=(()=>{class r{constructor(u){this._state=u,this.filter$=new W.X(""),this.children=(0,le.aj)([this.filter$,this._state.children]).pipe((0,R.U)(_=>{const[p,f]=_,y=p.toLowerCase();return p?f.filter($=>$.name.toLowerCase().includes(y)):f})),this.loading=this._state.loading}get item(){return this._state.active_item}}return r.\u0275fac=function(u){return new(u||r)(e.Y36(Y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["zone-children"]],decls:8,vars:5,consts:function(){let d,u,_,p;return d=$localize`:@@zoneChildrenTableFilter␟48b4cc111b7400e0a4602f4805cab66025dbb55d␟8361856721210143570:Filter Zones`,u=$localize`:@@zoneChildrenTableName␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,_=$localize`:@@descriptionLabel␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,p=$localize`:@@zoneChildrenTableEmpty␟1b895a59396d575379143c2deec22ed0c1d65834␟1207585495728440175: No child zones found `,[[1,"flex","items-center"],["appearance","outline",1,"flex-1"],["matPrefix","","className","backoffice-magnifying-glass",1,"text-lg"],["matInput","","name","search-filter","placeholder",d,3,"ngModel","ngModelChange"],["role","table",4,"ngIf","ngIfElse"],["empty_state",""],["role","table"],["table-head",""],[1,"flex-1","p-2"],u,[1,"w-3/5","p-2"],_,["table-body",""],["table-row","",4,"ngFor","ngForOf"],["table-row",""],[1,"flex-1","p-2","underline"],["routerLinkActive","router-link-active",3,"routerLink","matTooltip"],[1,"id"],[1,"flex","flex-col","items-center","p-8"],p]},template:function(u,_){if(1&u&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-form-field",1),e._UZ(2,"app-icon",2),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(f){return _.filter$.next(f)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(4,a,9,3,"div",4),e.ALo(5,"async"),e.YNc(6,o,2,0,"ng-template",null,5,e.W1O)),2&u){const p=e.MAs(7);let f;e.xp6(3),e.Q6J("ngModel",""),e.xp6(1),e.Q6J("ngIf",(null==(f=e.lcZ(5,3,_.children))?null:f.length)>0)("ngIfElse",p)}},directives:[J.KE,ue.o,J.qo,me.Nt,S.Fj,S.JJ,S.On,M.O5,M.sg,z.yS,z.Od,he.gM],pipes:[M.Ov],styles:["[_nghost-%COMP%]{padding:1rem;width:100%;height:100%}\n/*# sourceMappingURL=zone-children.component.ts-angular-inline--47.css.map*/"]}),r})();var g=C(3427),m=C(4307),A=C(395),T=C(6195),x=C(8420),Z=C(3013);function F(r,d){if(1&r){const u=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(p){return p.stopPropagation()})("click",function(){e.CHM(u);const p=e.oxw(3).$implicit;return e.oxw(3).saveMetadata(p)}),e.SDv(1,20),e.qZA()}}function L(r,d){if(1&r&&(e.ynx(0),e.YNc(1,F,2,0,"button",18),e.BQk()),2&r){const u=e.oxw(2).$implicit,_=e.oxw(3),p=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!_.loading[u.name])("ngIfElse",p)}}const H=function(){return{class:"backoffice-trash"}};function X(r,d){if(1&r){const u=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(u);const p=e.oxw(2).$implicit;return e.oxw(3).deleteMetadata(p.name)}),e._UZ(2,"app-icon",14),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("icon",e.DdM(1,H)))}const q=function(){return{class:"backoffice-edit"}};function O(r,d){if(1&r){const u=e.EpF();e.TgZ(0,"mat-expansion-panel",10),e.TgZ(1,"mat-expansion-panel-header"),e.TgZ(2,"mat-panel-title"),e.TgZ(3,"div",11),e._uU(4),e.qZA(),e.YNc(5,L,2,2,"ng-container",12),e.TgZ(6,"button",13),e.NdJ("click",function(p){e.CHM(u);const f=e.oxw().$implicit;return e.oxw(3).editMetadataDetails(f),p.stopPropagation()}),e._UZ(7,"app-icon",14),e.qZA(),e.YNc(8,X,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(9,"div",16),e._UZ(10,"settings-form-field",17),e.qZA(),e.qZA()}if(2&r){const u=e.oxw().$implicit,_=e.oxw(3);e.ekj("no-padding",!0),e.Q6J("formGroup",_.form_map[u.name]),e.xp6(4),e.hij(" ",_.form_map[u.name].controls.name.value," "),e.xp6(1),e.Q6J("ngIf",_.edited[u.name]),e.xp6(2),e.Q6J("icon",e.DdM(9,q)),e.xp6(1),e.Q6J("ngIf",!u.new),e.xp6(2),e.Q6J("schema",_.schema_map[u.name])("readonly",!1)}}function N(r,d){if(1&r&&(e.ynx(0),e.YNc(1,O,11,10,"mat-expansion-panel",9),e.BQk()),2&r){const u=d.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.form_map[u.name])}}function Me(r,d){if(1&r&&(e.TgZ(0,"div",7),e.TgZ(1,"mat-accordion"),e.YNc(2,N,2,1,"ng-container",8),e.qZA(),e.qZA()),2&r){const u=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",u.metadata)}}function oe(r,d){if(1&r){const u=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"button",4),e.NdJ("click",function(){return e.CHM(u),e.oxw().newMetadata()}),e.SDv(2,5),e.qZA(),e.YNc(3,Me,3,1,"div",6),e.qZA()}if(2&r){const u=e.oxw(),_=e.MAs(2);e.xp6(3),e.Q6J("ngIf",null==u.metadata?null:u.metadata.length)("ngIfElse",_)}}function Be(r,d){1&r&&(e.TgZ(0,"div",23),e.SDv(1,24),e.qZA())}function $e(r,d){1&r&&e._UZ(0,"mat-spinner",25)}let rt=(()=>{class r extends Ae.K{constructor(u,_,p){super(),this._dialog=u,this._service=_,this._schemas=p,this.form_map={},this.edited={},this.loading={},this.schema_map={}}get item(){return this._service.active_item}validateName(u){return _=>u.indexOf(_.value)>=0?{name:!0}:null}ngOnInit(){this.subscription("metadata",this._service.metadata.subscribe(u=>{this.metadata=u||[],this.generateForms()}))}newMetadata(){this.metadata||(this.metadata=[]),this.metadata.push({name:`new_field_${Math.floor(999999999*Math.random())}`,description:"",new:!0,details:{}}),this.generateForms()}editMetadataDetails(u){this._dialog.open(m.v,{maxWidth:"95vw",data:{form:this.form_map[u.name]}})}deleteMetadata(u){const _=this._dialog.open(A.z,Object.assign(Object.assign({},A.t),{data:{title:"Kill process",content:`\n                    <p>Are you sure you want delete the metadata property "${u}"?</p>\n                `,icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("confirm",_.componentInstance.event.subscribe(p=>{"done"===p.reason&&(0,P._p1)(this.item.id,{name:u}).subscribe(()=>{(0,U.t5)(`Successfully removed "${u}" metadata.`),this.metadata=this.metadata.filter(f=>f.name!==u),this.generateForms()},f=>(0,U.cB)(`Error removing old "${u}" metadata. Error: ${f.response||f.message||f}`)),_.close()}))}saveMetadata(u){const _=this.form_map[u.name];if(_.markAllAsTouched(),!_.valid)return(0,U.cB)(`JSON for property "${_.controls.name.value}" is invalid`);const p=_.value;this.loading[u.name]=!0,(0,P.Ymr)(this.item.id,Object.assign(Object.assign({},p),{details:JSON.parse(p.details)})).subscribe(f=>{this.loading[u.name]=!1;const y=this.metadata.findIndex($=>$.name===u.name);this.edited[u.name]=!1,u.name!==f.name&&(0,P._p1)(this.item.id,u).toPromise().catch($=>(0,U.cB)(`Error removing old "${u.name}" metadata. Error: ${JSON.stringify($.response||$.message||$)}`)),y>=0&&this.metadata.splice(y,1,Object.assign(Object.assign({},f),{new:!1})),(0,U.t5)(`Saved "${p.name}" metadata.`),this.generateForms()},f=>{this.loading[u.name]=!1,(0,U.cB)(`Error saving "${p.name}" metadata. Error: ${JSON.stringify(f.response||f.message||f)}`)})}generateForms(){delete this.form_map,this.form_map={},this.metadata.forEach(u=>{const _="string"==typeof u.details?JSON.parse(u.details):u.details;this.form_map[u.name]=new S.cw({name:new S.NI(u.name,[S.kI.required,this.validateName(this.metadata.filter(p=>p.name!==u.name).map(p=>p.name))]),description:new S.NI(u.description),editors:new S.NI(u.editors),details:new S.NI(JSON.stringify(_||{},void 0,4),[S.kI.required,g.NS]),schema:new S.NI(u.schema)}),this.subscription(`${u.name}_changes`,this.form_map[u.name].valueChanges.subscribe(()=>this.edited[u.name]=!0)),this.subscription(`${u.name}_schema`,this.form_map[u.name].controls.schema.valueChanges.subscribe(p=>{let f=this._schemas.getSchema(p);if(!f)try{f=JSON.parse(p)}catch(y){f={}}this.schema_map[u.name]=f}))})}}return r.\u0275fac=function(u){return new(u||r)(e.Y36(Fe.uw),e.Y36(Y),e.Y36(T.O))},r.\u0275cmp=e.Xpm({type:r,selectors:[["zone-metadata"]],features:[e.qOj],decls:5,vars:1,consts:function(){let d,u,_;return d=$localize`:@@addMetadataAction␟21539c364f82b6b766d912c3734a014cb30f27a9␟6503325999299484981: Add new Metadata Field `,u=$localize`:@@saveAction␟baa3a276f05a6226cb663918714882c53b84da34␟25086637338905953: Save `,_=$localize`:@@zoneMetadataEmpty␟2bd9761768337769895eb2434531437eff6955ec␟5420436980181509251: No zone metadata found `,[["class","p-4",4,"ngIf"],["empty_state",""],["load_state",""],[1,"p-4"],["mat-button","",3,"click"],d,["class","mt-4",4,"ngIf","ngIfElse"],[1,"mt-4"],[4,"ngFor","ngForOf"],[3,"no-padding","formGroup",4,"ngIf"],[3,"formGroup"],["edit","",1,"flex-1"],[4,"ngIf"],["mat-icon-button","","matTooltip","Edit Metadata Settings",3,"click"],[3,"icon"],["class","contents",4,"ngIf"],[1,"settings"],["formControlName","details","lang","json",3,"schema","readonly"],["mat-button","","save","",3,"click",4,"ngIf","ngIfElse"],["mat-button","","save","",3,"click"],u,[1,"contents"],["mat-icon-button","","matTooltip","Remove Metadata",3,"click"],[1,"p-8","text-center"],_,["diameter","32"]]},template:function(u,_){1&u&&(e.YNc(0,oe,4,2,"div",0),e.YNc(1,Be,2,0,"ng-template",null,1,e.W1O),e.YNc(3,$e,1,0,"ng-template",null,2,e.W1O)),2&u&&e.Q6J("ngIf",_.item)},directives:[M.O5,ye.lW,x.pp,M.sg,x.ib,S.JL,S.sg,x.yz,x.yK,he.gM,ue.o,Z.x,S.JJ,S.u,Q.$g],styles:["[edit][_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}[edit][_ngcontent-%COMP%]:hover   app-icon[_ngcontent-%COMP%]{opacity:1}mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.2em;overflow:visible}mat-panel-title[_ngcontent-%COMP%]   [save][_ngcontent-%COMP%]{font-size:.8em;background:none;border:none;text-decoration:underline;color:inherit}mat-form-field[_ngcontent-%COMP%]{height:3em}.settings[_ngcontent-%COMP%]{width:100%}.contents[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex:1;min-width:2em}.contents[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-decoration:none}\n/*# sourceMappingURL=zone-metadata.component.ts-angular-inline--48.css.map*/"]}),r})();var lt=C(5605),ct=C(8051);const _t=[{path:":id",component:Ue,children:[{path:"about",component:Oe},{path:"systems",component:et},{path:"triggers",component:t},{path:"children",component:D},{path:"metadata",component:rt},{path:"extend/:id",component:lt.z},{path:"history",component:ct.D},{path:"**",redirectTo:"about"}]},{path:"**",redirectTo:"-"}];var pt=C(1226);let gt=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[M.ez,S.u5,S.UX,z.Bz.forChild(_t),pt.X]]}),r})()},4344:function(it){it.exports=function(){"use strict";function se(c,s){for(var l=0;l<s.length;l++){var t=s[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,t.key,t)}}function S(c,s){(null==s||s>c.length)&&(s=c.length);for(var l=0,t=new Array(s);l<s;l++)t[l]=c[l];return t}function z(c,s){var l;if("undefined"==typeof Symbol||null==c[Symbol.iterator]){if(Array.isArray(c)||(l=function(c,s){if(c){if("string"==typeof c)return S(c,s);var l=Object.prototype.toString.call(c).slice(8,-1);if("Object"===l&&c.constructor&&(l=c.constructor.name),"Map"===l||"Set"===l)return Array.from(c);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return S(c,s)}}(c))||s&&c&&"number"==typeof c.length){l&&(c=l);var t=0;return function(){return t>=c.length?{done:!0}:{done:!1,value:c[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(l=c[Symbol.iterator]()).next.bind(l)}var c,s,G=(c=function(c){function s(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}c.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:s,changeDefaults:function(t){c.exports.defaults=t}}},c(s={exports:{}},s.exports),s.exports),re=/[&<>"']/,P=/[&<>"']/g,W=/[<>"']|&(?!#?\w+;)/,le=/[<>"']|&(?!#?\w+;)/g,ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ce=function(s){return ze[s]};var R=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ee(c){return c.replace(R,function(s,l){return"colon"===(l=l.toLowerCase())?":":"#"===l.charAt(0)?"x"===l.charAt(1)?String.fromCharCode(parseInt(l.substring(2),16)):String.fromCharCode(+l.substring(1)):""})}var ce=/(^|[^\[])\^/g;var Ee=/[^\w:]/g,Le=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var _e={},e=/^[^:]+:\/*[^/]*$/,Fe=/^([^:]+:)[\s\S]*$/,Y=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ve(c,s){_e[" "+c]||(_e[" "+c]=e.test(c)?c+"/":J(c,"/",!0));var l=-1===(c=_e[" "+c]).indexOf(":");return"//"===s.substring(0,2)?l?s:c.replace(Fe,"$1")+s:"/"===s.charAt(0)?l?s:c.replace(Y,"$1")+s:c+s}function J(c,s,l){var t=c.length;if(0===t)return"";for(var n=0;n<t;){var i=c.charAt(t-n-1);if(i!==s||l){if(i===s||!l)break;n++}else n++}return c.substr(0,t-n)}var B_escape=function(c,s){if(s){if(re.test(c))return c.replace(P,Ce)}else if(W.test(c))return c.replace(le,Ce);return c},B_unescape=ee,B_edit=function(c,s){c=c.source||c,s=s||"";var l={replace:function(n,i){return i=(i=i.source||i).replace(ce,"$1"),c=c.replace(n,i),l},getRegex:function(){return new RegExp(c,s)}};return l},B_cleanUrl=function(c,s,l){if(c){var t;try{t=decodeURIComponent(ee(l)).replace(Ee,"").toLowerCase()}catch(n){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}s&&!Le.test(l)&&(l=ve(s,l));try{l=encodeURI(l).replace(/%25/g,"%")}catch(n){return null}return l},B_noopTest={exec:function(){}},B_merge=function(c){for(var l,t,s=1;s<arguments.length;s++)for(t in l=arguments[s])Object.prototype.hasOwnProperty.call(l,t)&&(c[t]=l[t]);return c},B_splitCells=function(c,s){var t=c.replace(/\|/g,function(i,a,o){for(var D=!1,g=a;--g>=0&&"\\"===o[g];)D=!D;return D?"|":" |"}).split(/ \|/),n=0;if(t.length>s)t.splice(s);else for(;t.length<s;)t.push("");for(;n<t.length;n++)t[n]=t[n].trim().replace(/\\\|/g,"|");return t},B_findClosingBracket=function(c,s){if(-1===c.indexOf(s[1]))return-1;for(var l=c.length,t=0,n=0;n<l;n++)if("\\"===c[n])n++;else if(c[n]===s[0])t++;else if(c[n]===s[1]&&--t<0)return n;return-1},B_checkSanitizeDeprecation=function(c){c&&c.sanitize&&!c.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},B_repeatString=function(c,s){if(s<1)return"";for(var l="";s>1;)1&s&&(l+=c),s>>=1,c+=c;return l+c},Ye=G.defaults,Q=J,j=B_splitCells,I=B_escape,Qe=B_findClosingBracket;function Te(c,s,l){var t=s.href,n=s.title?I(s.title):null,i=c[1].replace(/\\([\[\]])/g,"$1");return"!"!==c[0].charAt(0)?{type:"link",raw:l,href:t,title:n,text:i}:{type:"image",raw:l,href:t,title:n,text:I(i)}}var fe=function(){function c(l){this.options=l||Ye}var s=c.prototype;return s.space=function(t){var n=this.rules.block.newline.exec(t);if(n)return n[0].length>1?{type:"space",raw:n[0]}:{raw:"\n"}},s.code=function(t){var n=this.rules.block.code.exec(t);if(n){var i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Q(i,"\n")}}},s.fences=function(t){var n=this.rules.block.fences.exec(t);if(n){var i=n[0],a=function(c,s){var l=c.match(/^(\s+)(?:```)/);if(null===l)return s;var t=l[1];return s.split("\n").map(function(n){var i=n.match(/^\s+/);return null===i?n:i[0].length>=t.length?n.slice(t.length):n}).join("\n")}(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim():n[2],text:a}}},s.heading=function(t){var n=this.rules.block.heading.exec(t);if(n){var i=n[2].trim();if(/#$/.test(i)){var a=Q(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i}}},s.nptable=function(t){var n=this.rules.block.nptable.exec(t);if(n){var i={type:"table",header:j(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};if(i.header.length===i.align.length){var o,a=i.align.length;for(o=0;o<a;o++)i.align[o]=/^ *-+: *$/.test(i.align[o])?"right":/^ *:-+: *$/.test(i.align[o])?"center":/^ *:-+ *$/.test(i.align[o])?"left":null;for(a=i.cells.length,o=0;o<a;o++)i.cells[o]=j(i.cells[o],i.header.length);return i}}},s.hr=function(t){var n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}},s.blockquote=function(t){var n=this.rules.block.blockquote.exec(t);if(n){var i=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],text:i}}},s.list=function(t){var n=this.rules.block.list.exec(t);if(n){var A,T,x,Z,F,L,H,X,q,i=n[0],a=n[2],o=a.length>1,D={type:"list",raw:i,ordered:o,start:o?+a.slice(0,-1):"",loose:!1,items:[]},g=n[0].match(this.rules.block.item),m=!1,O=g.length;x=this.rules.block.listItemStart.exec(g[0]);for(var N=0;N<O;N++){if(i=A=g[N],this.options.pedantic||(q=A.match(new RegExp("\\n\\s*\\n {0,"+(x[0].length-1)+"}\\S")))&&(F=A.length-q.index+g.slice(N+1).join("\n").length,D.raw=D.raw.substring(0,D.raw.length-F),i=A=A.substring(0,q.index),O=N+1),N!==O-1){if(Z=this.rules.block.listItemStart.exec(g[N+1]),this.options.pedantic?Z[1].length>x[1].length:Z[1].length>=x[0].length||Z[1].length>3){g.splice(N,2,g[N]+(!this.options.pedantic&&Z[1].length<x[0].length&&!g[N].match(/\n$/)?"":"\n")+g[N+1]),N--,O--;continue}(!this.options.pedantic||this.options.smartLists?Z[2][Z[2].length-1]!==a[a.length-1]:o===(1===Z[2].length))&&(F=g.slice(N+1).join("\n").length,D.raw=D.raw.substring(0,D.raw.length-F),N=O-1),x=Z}T=A.length,~(A=A.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(T-=A.length,A=A.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+T+"}","gm"),"")),A=Q(A,"\n"),N!==O-1&&(i+="\n"),L=m||/\n\n(?!\s*$)/.test(i),N!==O-1&&(m="\n\n"===i.slice(-2),L||(L=m)),L&&(D.loose=!0),this.options.gfm&&(X=void 0,(H=/^\[[ xX]\] /.test(A))&&(X=" "!==A[1],A=A.replace(/^\[[ xX]\] +/,""))),D.items.push({type:"list_item",raw:i,task:H,checked:X,loose:L,text:A})}return D}},s.html=function(t){var n=this.rules.block.html.exec(t);if(n)return{type:this.options.sanitize?"paragraph":"html",raw:n[0],pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):I(n[0]):n[0]}},s.def=function(t){var n=this.rules.block.def.exec(t);if(n)return n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),{type:"def",tag:n[1].toLowerCase().replace(/\s+/g," "),raw:n[0],href:n[2],title:n[3]}},s.table=function(t){var n=this.rules.block.table.exec(t);if(n){var i={type:"table",header:j(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=n[0];var o,a=i.align.length;for(o=0;o<a;o++)i.align[o]=/^ *-+: *$/.test(i.align[o])?"right":/^ *:-+: *$/.test(i.align[o])?"center":/^ *:-+ *$/.test(i.align[o])?"left":null;for(a=i.cells.length,o=0;o<a;o++)i.cells[o]=j(i.cells[o].replace(/^ *\| *| *\| *$/g,""),i.header.length);return i}}},s.lheading=function(t){var n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:"="===n[2].charAt(0)?1:2,text:n[1]}},s.paragraph=function(t){var n=this.rules.block.paragraph.exec(t);if(n)return{type:"paragraph",raw:n[0],text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]}},s.text=function(t){var n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0]}},s.escape=function(t){var n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:I(n[1])}},s.tag=function(t,n,i){var a=this.rules.inline.tag.exec(t);if(a)return!n&&/^<a /i.test(a[0])?n=!0:n&&/^<\/a>/i.test(a[0])&&(n=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(i=!1),{type:this.options.sanitize?"text":"html",raw:a[0],inLink:n,inRawBlock:i,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):I(a[0]):a[0]}},s.link=function(t){var n=this.rules.inline.link.exec(t);if(n){var i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var a=Q(i.slice(0,-1),"\\");if((i.length-a.length)%2==0)return}else{var o=Qe(n[2],"()");if(o>-1){var g=(0===n[0].indexOf("!")?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,g).trim(),n[3]=""}}var m=n[2],A="";if(this.options.pedantic){var T=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(m);T&&(m=T[1],A=T[3])}else A=n[3]?n[3].slice(1,-1):"";return m=m.trim(),/^</.test(m)&&(m=this.options.pedantic&&!/>$/.test(i)?m.slice(1):m.slice(1,-1)),Te(n,{href:m&&m.replace(this.rules.inline._escapes,"$1"),title:A&&A.replace(this.rules.inline._escapes,"$1")},n[0])}},s.reflink=function(t,n){var i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){var a=(i[2]||i[1]).replace(/\s+/g," ");if(!(a=n[a.toLowerCase()])||!a.href){var o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return Te(i,a,i[0])}},s.emStrong=function(t,n,i){void 0===i&&(i="");var a=this.rules.inline.emStrong.lDelim.exec(t);if(a&&(!a[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=a[1]||a[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){var g,m,D=a[0].length-1,A=D,T=0,x="*"===a[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(x.lastIndex=0,n=n.slice(-1*t.length+D);null!=(a=x.exec(n));)if(g=a[1]||a[2]||a[3]||a[4]||a[5]||a[6]){if(m=g.length,a[3]||a[4]){A+=m;continue}if((a[5]||a[6])&&D%3&&!((D+m)%3)){T+=m;continue}if(!((A-=m)>0)){if(A+T-m<=0&&!n.slice(x.lastIndex).match(x)&&(m=Math.min(m,m+A+T)),Math.min(D,m)%2)return{type:"em",raw:t.slice(0,D+a.index+m+1),text:t.slice(1,D+a.index+m)};if(Math.min(D,m)%2==0)return{type:"strong",raw:t.slice(0,D+a.index+m+1),text:t.slice(2,D+a.index+m-1)}}}}}},s.codespan=function(t){var n=this.rules.inline.code.exec(t);if(n){var i=n[2].replace(/\n/g," "),a=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return a&&o&&(i=i.substring(1,i.length-1)),i=I(i,!0),{type:"codespan",raw:n[0],text:i}}},s.br=function(t){var n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}},s.del=function(t){var n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2]}},s.autolink=function(t,n){var a,o,i=this.rules.inline.autolink.exec(t);if(i)return o="@"===i[2]?"mailto:"+(a=I(this.options.mangle?n(i[1]):i[1])):a=I(i[1]),{type:"link",raw:i[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}},s.url=function(t,n){var i;if(i=this.rules.inline.url.exec(t)){var a,o;if("@"===i[2])o="mailto:"+(a=I(this.options.mangle?n(i[0]):i[0]));else{var D;do{D=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(D!==i[0]);a=I(i[0]),o="www."===i[1]?"http://"+a:a}return{type:"link",raw:i[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}},s.inlineText=function(t,n,i){var o,a=this.rules.inline.text.exec(t);if(a)return o=n?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):I(a[0]):a[0]:I(this.options.smartypants?i(a[0]):a[0]),{type:"text",raw:a[0],text:o}},c}(),te=B_noopTest,b=B_edit,K=B_merge,E={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:te,table:te,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};E.def=b(E.def).replace("label",E._label).replace("title",E._title).getRegex(),E.bullet=/(?:[*+-]|\d{1,9}[.)])/,E.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,E.item=b(E.item,"gm").replace(/bull/g,E.bullet).getRegex(),E.listItemStart=b(/^( *)(bull) */).replace("bull",E.bullet).getRegex(),E.list=b(E.list).replace(/bull/g,E.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+E.def.source+")").getRegex(),E._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",E._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,E.html=b(E.html,"i").replace("comment",E._comment).replace("tag",E._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),E.paragraph=b(E._paragraph).replace("hr",E.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",E._tag).getRegex(),E.blockquote=b(E.blockquote).replace("paragraph",E.paragraph).getRegex(),E.normal=K({},E),E.gfm=K({},E.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),E.gfm.nptable=b(E.gfm.nptable).replace("hr",E.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",E._tag).getRegex(),E.gfm.table=b(E.gfm.table).replace("hr",E.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",E._tag).getRegex(),E.pedantic=K({},E.normal,{html:b("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",E._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:te,paragraph:b(E.normal._paragraph).replace("hr",E.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",E.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var h={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:te,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:te,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};h.punctuation=b(h.punctuation).replace(/punctuation/g,h._punctuation).getRegex(),h.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,h.escapedEmSt=/\\\*|\\_/g,h._comment=b(E._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),h.emStrong.lDelim=b(h.emStrong.lDelim).replace(/punct/g,h._punctuation).getRegex(),h.emStrong.rDelimAst=b(h.emStrong.rDelimAst,"g").replace(/punct/g,h._punctuation).getRegex(),h.emStrong.rDelimUnd=b(h.emStrong.rDelimUnd,"g").replace(/punct/g,h._punctuation).getRegex(),h._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,h._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,h._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,h.autolink=b(h.autolink).replace("scheme",h._scheme).replace("email",h._email).getRegex(),h._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,h.tag=b(h.tag).replace("comment",h._comment).replace("attribute",h._attribute).getRegex(),h._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,h._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,h._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,h.link=b(h.link).replace("label",h._label).replace("href",h._href).replace("title",h._title).getRegex(),h.reflink=b(h.reflink).replace("label",h._label).getRegex(),h.reflinkSearch=b(h.reflinkSearch,"g").replace("reflink",h.reflink).replace("nolink",h.nolink).getRegex(),h.normal=K({},h),h.pedantic=K({},h.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",h._label).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",h._label).getRegex()}),h.gfm=K({},h.normal,{escape:b(h.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),h.gfm.url=b(h.gfm.url,"i").replace("email",h.gfm._extended_email).getRegex(),h.breaks=K({},h.gfm,{br:b(h.br).replace("{2,}","*").getRegex(),text:b(h.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var be={block:E,inline:h},He=G.defaults,pe=be.block,ne=be.inline,Ze=B_repeatString;function We(c){return c.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Se(c){var l,t,s="",n=c.length;for(l=0;l<n;l++)t=c.charCodeAt(l),Math.random()>.5&&(t="x"+t.toString(16)),s+="&#"+t+";";return s}var ie=function(){function c(l){this.tokens=[],this.tokens.links=Object.create(null),this.options=l||He,this.options.tokenizer=this.options.tokenizer||new fe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:pe.normal,inline:ne.normal};this.options.pedantic?(t.block=pe.pedantic,t.inline=ne.pedantic):this.options.gfm&&(t.block=pe.gfm,t.inline=this.options.breaks?ne.breaks:ne.gfm),this.tokenizer.rules=t}c.lex=function(t,n){return new c(n).lex(t)},c.lexInline=function(t,n){return new c(n).inlineTokens(t)};var s=c.prototype;return s.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},s.blockTokens=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=!0),this.options.pedantic&&(t=t.replace(/^ +$/gm,""));for(var a,o,D,g;t;)if(a=this.tokenizer.space(t))t=t.substring(a.raw.length),a.type&&n.push(a);else if(a=this.tokenizer.code(t))t=t.substring(a.raw.length),(g=n[n.length-1])&&"paragraph"===g.type?(g.raw+="\n"+a.raw,g.text+="\n"+a.text):n.push(a);else if(a=this.tokenizer.fences(t))t=t.substring(a.raw.length),n.push(a);else if(a=this.tokenizer.heading(t))t=t.substring(a.raw.length),n.push(a);else if(a=this.tokenizer.nptable(t))t=t.substring(a.raw.length),n.push(a);else if(a=this.tokenizer.hr(t))t=t.substring(a.raw.length),n.push(a);else if(a=this.tokenizer.blockquote(t))t=t.substring(a.raw.length),a.tokens=this.blockTokens(a.text,[],i),n.push(a);else if(a=this.tokenizer.list(t)){for(t=t.substring(a.raw.length),D=a.items.length,o=0;o<D;o++)a.items[o].tokens=this.blockTokens(a.items[o].text,[],!1);n.push(a)}else if(a=this.tokenizer.html(t))t=t.substring(a.raw.length),n.push(a);else if(i&&(a=this.tokenizer.def(t)))t=t.substring(a.raw.length),this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});else if(a=this.tokenizer.table(t))t=t.substring(a.raw.length),n.push(a);else if(a=this.tokenizer.lheading(t))t=t.substring(a.raw.length),n.push(a);else if(i&&(a=this.tokenizer.paragraph(t)))t=t.substring(a.raw.length),n.push(a);else if(a=this.tokenizer.text(t))t=t.substring(a.raw.length),(g=n[n.length-1])&&"text"===g.type?(g.raw+="\n"+a.raw,g.text+="\n"+a.text):n.push(a);else if(t){var m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}return n},s.inline=function(t){var n,i,a,o,D,g,m=t.length;for(n=0;n<m;n++)switch(g=t[n],g.type){case"paragraph":case"text":case"heading":g.tokens=[],this.inlineTokens(g.text,g.tokens);break;case"table":for(g.tokens={header:[],cells:[]},o=g.header.length,i=0;i<o;i++)g.tokens.header[i]=[],this.inlineTokens(g.header[i],g.tokens.header[i]);for(o=g.cells.length,i=0;i<o;i++)for(D=g.cells[i],g.tokens.cells[i]=[],a=0;a<D.length;a++)g.tokens.cells[i][a]=[],this.inlineTokens(D[a],g.tokens.cells[i][a]);break;case"blockquote":this.inline(g.tokens);break;case"list":for(o=g.items.length,i=0;i<o;i++)this.inline(g.items[i].tokens)}return t},s.inlineTokens=function(t,n,i,a){void 0===n&&(n=[]),void 0===i&&(i=!1),void 0===a&&(a=!1);var o,D,m,A,T,g=t;if(this.tokens.links){var x=Object.keys(this.tokens.links);if(x.length>0)for(;null!=(m=this.tokenizer.rules.inline.reflinkSearch.exec(g));)x.includes(m[0].slice(m[0].lastIndexOf("[")+1,-1))&&(g=g.slice(0,m.index)+"["+Ze("a",m[0].length-2)+"]"+g.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(m=this.tokenizer.rules.inline.blockSkip.exec(g));)g=g.slice(0,m.index)+"["+Ze("a",m[0].length-2)+"]"+g.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(m=this.tokenizer.rules.inline.escapedEmSt.exec(g));)g=g.slice(0,m.index)+"++"+g.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(A||(T=""),A=!1,o=this.tokenizer.escape(t))t=t.substring(o.raw.length),n.push(o);else if(o=this.tokenizer.tag(t,i,a)){t=t.substring(o.raw.length),i=o.inLink,a=o.inRawBlock;var Z=n[n.length-1];Z&&"text"===o.type&&"text"===Z.type?(Z.raw+=o.raw,Z.text+=o.text):n.push(o)}else if(o=this.tokenizer.link(t))t=t.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,a)),n.push(o);else if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length);var F=n[n.length-1];"link"===o.type?(o.tokens=this.inlineTokens(o.text,[],!0,a),n.push(o)):F&&"text"===o.type&&"text"===F.type?(F.raw+=o.raw,F.text+=o.text):n.push(o)}else if(o=this.tokenizer.emStrong(t,g,T))t=t.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],i,a),n.push(o);else if(o=this.tokenizer.codespan(t))t=t.substring(o.raw.length),n.push(o);else if(o=this.tokenizer.br(t))t=t.substring(o.raw.length),n.push(o);else if(o=this.tokenizer.del(t))t=t.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],i,a),n.push(o);else if(o=this.tokenizer.autolink(t,Se))t=t.substring(o.raw.length),n.push(o);else if(i||!(o=this.tokenizer.url(t,Se))){if(o=this.tokenizer.inlineText(t,a,We))t=t.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(T=o.raw.slice(-1)),A=!0,(D=n[n.length-1])&&"text"===D.type?(D.raw+=o.raw,D.text+=o.text):n.push(o);else if(t){var L="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(L);break}throw new Error(L)}}else t=t.substring(o.raw.length),n.push(o);return n},function(c,s,l){s&&se(c.prototype,s),l&&se(c,l)}(c,null,[{key:"rules",get:function(){return{block:pe,inline:ne}}}]),c}(),Ve=G.defaults,xe=B_cleanUrl,ge=B_escape,De=function(){function c(l){this.options=l||Ve}var s=c.prototype;return s.code=function(t,n,i){var a=(n||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(t,a);null!=o&&o!==t&&(i=!0,t=o)}return t=t.replace(/\n$/,"")+"\n",a?'<pre><code class="'+this.options.langPrefix+ge(a,!0)+'">'+(i?t:ge(t,!0))+"</code></pre>\n":"<pre><code>"+(i?t:ge(t,!0))+"</code></pre>\n"},s.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},s.html=function(t){return t},s.heading=function(t,n,i,a){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+a.slug(i)+'">'+t+"</h"+n+">\n":"<h"+n+">"+t+"</h"+n+">\n"},s.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.list=function(t,n,i){var a=n?"ol":"ul";return"<"+a+(n&&1!==i?' start="'+i+'"':"")+">\n"+t+"</"+a+">\n"},s.listitem=function(t){return"<li>"+t+"</li>\n"},s.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.paragraph=function(t){return"<p>"+t+"</p>\n"},s.table=function(t,n){return n&&(n="<tbody>"+n+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+n+"</table>\n"},s.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},s.tablecell=function(t,n){var i=n.header?"th":"td";return(n.align?"<"+i+' align="'+n.align+'">':"<"+i+">")+t+"</"+i+">\n"},s.strong=function(t){return"<strong>"+t+"</strong>"},s.em=function(t){return"<em>"+t+"</em>"},s.codespan=function(t){return"<code>"+t+"</code>"},s.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.del=function(t){return"<del>"+t+"</del>"},s.link=function(t,n,i){if(null===(t=xe(this.options.sanitize,this.options.baseUrl,t)))return i;var a='<a href="'+ge(t)+'"';return n&&(a+=' title="'+n+'"'),a+">"+i+"</a>"},s.image=function(t,n,i){if(null===(t=xe(this.options.sanitize,this.options.baseUrl,t)))return i;var a='<img src="'+t+'" alt="'+i+'"';return n&&(a+=' title="'+n+'"'),a+(this.options.xhtml?"/>":">")},s.text=function(t){return t},c}(),Oe=function(){function c(){}var s=c.prototype;return s.strong=function(t){return t},s.em=function(t){return t},s.codespan=function(t){return t},s.del=function(t){return t},s.html=function(t){return t},s.text=function(t){return t},s.link=function(t,n,i){return""+i},s.image=function(t,n,i){return""+i},s.br=function(){return""},c}(),ue=function(){function c(){this.seen={}}var s=c.prototype;return s.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},s.getNextSafeSlug=function(t,n){var i=t,a=0;if(this.seen.hasOwnProperty(i)){a=this.seen[t];do{i=t+"-"+ ++a}while(this.seen.hasOwnProperty(i))}return n||(this.seen[t]=a,this.seen[i]=0),i},s.slug=function(t,n){void 0===n&&(n={});var i=this.serialize(t);return this.getNextSafeSlug(i,n.dryrun)},c}(),me=G.defaults,he=B_unescape,ae=function(){function c(l){this.options=l||me,this.options.renderer=this.options.renderer||new De,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Oe,this.slugger=new ue}c.parse=function(t,n){return new c(n).parse(t)},c.parseInline=function(t,n){return new c(n).parseInline(t)};var s=c.prototype;return s.parse=function(t,n){void 0===n&&(n=!0);var a,o,D,g,m,A,T,x,Z,F,L,H,X,q,O,N,Me,oe,i="",Be=t.length;for(a=0;a<Be;a++)switch(F=t[a],F.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":i+=this.renderer.heading(this.parseInline(F.tokens),F.depth,he(this.parseInline(F.tokens,this.textRenderer)),this.slugger);continue;case"code":i+=this.renderer.code(F.text,F.lang,F.escaped);continue;case"table":for(x="",T="",g=F.header.length,o=0;o<g;o++)T+=this.renderer.tablecell(this.parseInline(F.tokens.header[o]),{header:!0,align:F.align[o]});for(x+=this.renderer.tablerow(T),Z="",g=F.cells.length,o=0;o<g;o++){for(T="",m=(A=F.tokens.cells[o]).length,D=0;D<m;D++)T+=this.renderer.tablecell(this.parseInline(A[D]),{header:!1,align:F.align[D]});Z+=this.renderer.tablerow(T)}i+=this.renderer.table(x,Z);continue;case"blockquote":Z=this.parse(F.tokens),i+=this.renderer.blockquote(Z);continue;case"list":for(L=F.ordered,H=F.start,X=F.loose,g=F.items.length,Z="",o=0;o<g;o++)N=(O=F.items[o]).checked,Me=O.task,q="",O.task&&(oe=this.renderer.checkbox(N),X?O.tokens.length>0&&"text"===O.tokens[0].type?(O.tokens[0].text=oe+" "+O.tokens[0].text,O.tokens[0].tokens&&O.tokens[0].tokens.length>0&&"text"===O.tokens[0].tokens[0].type&&(O.tokens[0].tokens[0].text=oe+" "+O.tokens[0].tokens[0].text)):O.tokens.unshift({type:"text",text:oe}):q+=oe),q+=this.parse(O.tokens,X),Z+=this.renderer.listitem(q,Me,N);i+=this.renderer.list(Z,L,H);continue;case"html":i+=this.renderer.html(F.text);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(F.tokens));continue;case"text":for(Z=F.tokens?this.parseInline(F.tokens):F.text;a+1<Be&&"text"===t[a+1].type;)Z+="\n"+((F=t[++a]).tokens?this.parseInline(F.tokens):F.text);i+=n?this.renderer.paragraph(Z):Z;continue;default:var $e='Token with "'+F.type+'" type was not found.';if(this.options.silent)return void console.error($e);throw new Error($e)}return i},s.parseInline=function(t,n){n=n||this.renderer;var a,o,i="",D=t.length;for(a=0;a<D;a++)switch(o=t[a],o.type){case"escape":case"text":i+=n.text(o.text);break;case"html":i+=n.html(o.text);break;case"link":i+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break;case"image":i+=n.image(o.href,o.title,o.text);break;case"strong":i+=n.strong(this.parseInline(o.tokens,n));break;case"em":i+=n.em(this.parseInline(o.tokens,n));break;case"codespan":i+=n.codespan(o.text);break;case"br":i+=n.br();break;case"del":i+=n.del(this.parseInline(o.tokens,n));break;default:var g='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(g);throw new Error(g)}return i},c}(),de=B_merge,Ne=B_checkSanitizeDeprecation,Pe=B_escape,et=G.getDefaults,ye=G.changeDefaults,tt=G.defaults;function v(c,s,l){if(null==c)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof c)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(c)+", string expected");if("function"==typeof s&&(l=s,s=null),s=de({},v.defaults,s||{}),Ne(s),l){var n,t=s.highlight;try{n=ie.lex(c,s)}catch(D){return l(D)}var i=function(g){var m;if(!g)try{m=ae.parse(n,s)}catch(A){g=A}return s.highlight=t,g?l(g):l(null,m)};if(!t||t.length<3||(delete s.highlight,!n.length))return i();var a=0;return v.walkTokens(n,function(D){"code"===D.type&&(a++,setTimeout(function(){t(D.text,D.lang,function(g,m){if(g)return i(g);null!=m&&m!==D.text&&(D.text=m,D.escaped=!0),0==--a&&i()})},0))}),void(0===a&&i())}try{var o=ie.lex(c,s);return s.walkTokens&&v.walkTokens(o,s.walkTokens),ae.parse(o,s)}catch(D){if(D.message+="\nPlease report this to https://github.com/markedjs/marked.",s.silent)return"<p>An error occurred:</p><pre>"+Pe(D.message+"",!0)+"</pre>";throw D}}return v.options=v.setOptions=function(c){return de(v.defaults,c),ye(v.defaults),v},v.getDefaults=et,v.defaults=tt,v.use=function(c){var s=de({},c);if(c.renderer&&function(){var t=v.defaults.renderer||new De,n=function(o){var D=t[o];t[o]=function(){for(var g=arguments.length,m=new Array(g),A=0;A<g;A++)m[A]=arguments[A];var T=c.renderer[o].apply(t,m);return!1===T&&(T=D.apply(t,m)),T}};for(var i in c.renderer)n(i);s.renderer=t}(),c.tokenizer&&function(){var t=v.defaults.tokenizer||new fe,n=function(o){var D=t[o];t[o]=function(){for(var g=arguments.length,m=new Array(g),A=0;A<g;A++)m[A]=arguments[A];var T=c.tokenizer[o].apply(t,m);return!1===T&&(T=D.apply(t,m)),T}};for(var i in c.tokenizer)n(i);s.tokenizer=t}(),c.walkTokens){var l=v.defaults.walkTokens;s.walkTokens=function(t){c.walkTokens(t),l&&l(t)}}v.setOptions(s)},v.walkTokens=function(c,s){for(var t,l=z(c);!(t=l()).done;){var n=t.value;switch(s(n),n.type){case"table":for(var a,i=z(n.tokens.header);!(a=i()).done;)v.walkTokens(a.value,s);for(var g,D=z(n.tokens.cells);!(g=D()).done;)for(var T,A=z(g.value);!(T=A()).done;)v.walkTokens(T.value,s);break;case"list":v.walkTokens(n.items,s);break;default:n.tokens&&v.walkTokens(n.tokens,s)}}},v.parseInline=function(c,s){if(null==c)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof c)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(c)+", string expected");s=de({},v.defaults,s||{}),Ne(s);try{var l=ie.lexInline(c,s);return s.walkTokens&&v.walkTokens(l,s.walkTokens),ae.parseInline(l,s)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",s.silent)return"<p>An error occurred:</p><pre>"+Pe(t.message+"",!0)+"</pre>";throw t}},v.Parser=ae,v.parser=ae.parse,v.Renderer=De,v.TextRenderer=Oe,v.Lexer=ie,v.lexer=ie.lex,v.Tokenizer=fe,v.Slugger=ue,v.parse=v,v}()}}]);
//# sourceMappingURL=497.f5e65821848187b4.js.map