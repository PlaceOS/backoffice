var ke=Object.defineProperty,Ae=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,xe=(pe,de,fe)=>de in pe?ke(pe,de,{enumerable:!0,configurable:!0,writable:!0,value:fe}):pe[de]=fe,_e=(pe,de)=>{for(var fe in de||(de={}))Re.call(de,fe)&&xe(pe,fe,de[fe]);if(Ce)for(var fe of Ce(de))Me.call(de,fe)&&xe(pe,fe,de[fe]);return pe},Ee=(pe,de)=>Ae(pe,Ie(de));(self.webpackChunkbackoffice=self.webpackChunkbackoffice||[]).push([[301],{1301:(pe,de,fe)=>{"use strict";fe.r(de),fe.d(de,{MqttDashboardModule:()=>b});var ge=fe(8267),Se=fe(9902),Te=fe(7752),A=fe(6752),H=fe(1036),j=fe(525),m=fe(1226),v=fe(8644),g=fe(4452),d=fe(8806),o=fe(8999),t=fe(4418),r=fe(1119),e=fe(2222);let c=(()=>{class E{constructor(){this._connected=new r.X(!1),this._topics={},this.connected=this._connected.asObservable(),(0,o.ttN)().pipe((0,g.P)(I=>I)).subscribe(()=>this._init())}_init(){return(0,d.mG)(this,void 0,void 0,function*(){const I=location.protocol.includes("https");this._client=t.connect(`ws${I?"s":""}://${location.host}/api/mqtt`,{username:(0,o.rao)(),password:(0,o.rao)()}),this._client.on("connect",()=>this._connected.next(!0)),this._client.on("message",(R,M)=>{console.log("Message:",R,M.toString()),R in this._topics&&this._topics[R].next(M.toString())})})}query(I,R){if(!this._client)throw new Error("MQTT connection not setup.");if(!this._connected)throw new Error("MQTT connection is pending.");return this._client.publish(I,R),this._topics[I]||(this._topics[I]=new r.X(null)),this._topics[I].asObservable()}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var s=fe(1292);let p=(()=>{class E extends s.K{ngOnInit(){this.updateTime(),this.interval("time",()=>this.updateTime(),1e3)}updateTime(){const I=new Date;this.hour_angle=(I.getHours()%12+I.getMinutes()/60)/12*360,this.minute_angle=(I.getMinutes()+I.getSeconds()/60)/60*360,this.second_angle=I.getSeconds()/60*360}}return E.\u0275fac=function(){let S;return function(R){return(S||(S=e.n5z(E)))(R||E)}}(),E.\u0275cmp=e.Xpm({type:E,selectors:[["clock"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"rounded-full","h-12","w-12","border-2","border-white","relative"],[1,"hand","absolute","bottom-1/2","left-1/2","bg-white","h-3","w-1","rounded"],[1,"hand","absolute","bottom-1/2","left-1/2","bg-white","h-4","minute"],[1,"hand","absolute","bottom-1/2","left-1/2","bg-white","h-5","w-px"],[1,"absolute","top-1/2","left-1/2","h-2","w-2","transform","-translate-x-1/2","-translate-y-1/2","bg-white","rounded-full"]],template:function(I,R){1&I&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e._UZ(2,"div",2),e._UZ(3,"div",3),e._UZ(4,"div",4),e.qZA()),2&I&&(e.xp6(1),e.Udp("transform","translateX(-50%) rotate("+R.hour_angle+"deg)"),e.xp6(1),e.Udp("transform","translateX(-50%) rotate("+R.minute_angle+"deg)"),e.xp6(1),e.Udp("transform","translateX(-50%) rotate("+R.second_angle+"deg)"))},styles:[".hand[_ngcontent-%COMP%]{transform-origin:50% 100%}.minute[_ngcontent-%COMP%]{width:2px;border-radius:1px}\n/*# sourceMappingURL=clock.component.ts-angular-inline--14.css.map*/"]}),E})();var y=fe(9499);const i=[{component:(()=>{class E{constructor(I){this._state=I,this._state.connected.pipe((0,g.P)(R=>R)).subscribe(()=>{this._state.query("placeos/zone-Fhx_ZGLqk2K/state/+/+/+/+/+/+/+/connected","false").subscribe(R=>{console.log("Data:",R)})})}get time(){return(0,v.Z)(Date.now())}}return E.\u0275fac=function(I){return new(I||E)(e.Y36(c))},E.\u0275cmp=e.Xpm({type:E,selectors:[["mqtt-dashboard"]],decls:50,vars:8,consts:[[1,"h-full","w-full","bg-white","dark:bg-[#424242]","flex","flex-col"],[1,"w-full","px-4","py-2","bg-secondary","flex","items-center","justify-between","text-white"],[1,"text-2xl"],[1,"flex","items-center","space-x-2"],[1,"text-right","flex","flex-col","items-center","justify-center"],[1,""],[1,"w-full","h-1/2","flex-1","overflow-auto","p-4","space-y-4"],[1,"divide-y","divide-white/50","border","border-white/50"],[1,"bg-[#212121]","text-white","p-2"],[1,"text-xl"],[1,"bg-red-600","p-2"],[1,"bg-teal-800","p-2"],[1,"bg-red-600","px-2","flex","items-center","text-white"],[1,"w-1/6"],[1,"flex-1"],["mat-icon-button",""],[1,"bg-teal-800","px-2","flex","items-center","text-white"]],template:function(I,R){1&I&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h2",2),e._uU(3,"PlaceOS Alerts"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"clock"),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"h2",9),e._uU(17,"2.30.10 - Activity Space (sys-QjKOiqWK8c)"),e.qZA(),e.qZA(),e._UZ(18,"div",10),e._UZ(19,"div",11),e.qZA(),e.TgZ(20,"div",7),e.TgZ(21,"div",8),e.TgZ(22,"h2",9),e._uU(23,"2.30.11 - Activity Space (sys-QjKOiqWK8c)"),e.qZA(),e.qZA(),e.TgZ(24,"div",12),e.TgZ(25,"div",13),e._uU(26,"Display"),e.qZA(),e.TgZ(27,"div",14),e._uU(28,"Panasonic"),e.qZA(),e.TgZ(29,"div",13),e._uU(30,"10.121.212.10"),e.qZA(),e.TgZ(31,"div",13),e._uU(32,"Disconnected"),e.qZA(),e.TgZ(33,"div",13),e._uU(34,"A year ago"),e.qZA(),e.TgZ(35,"button",15),e.TgZ(36,"app-icon",9),e._uU(37,"done"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",16),e.TgZ(39,"div",13),e._uU(40,"Interface"),e.qZA(),e.TgZ(41,"div",14),e._uU(42,"2 Devices, none connected"),e.qZA(),e.TgZ(43,"div",13),e._uU(44,"Important"),e.qZA(),e.TgZ(45,"div",13),e._uU(46,"A year ago"),e.qZA(),e.TgZ(47,"button",15),e.TgZ(48,"app-icon",9),e._uU(49,"done"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&I&&(e.xp6(8),e.Oqu(e.xi3(9,2,R.time,"shortTime")),e.xp6(3),e.Oqu(e.xi3(12,5,R.time,"EEE, MMM d")))},directives:[p,Te.lW,y.o],pipes:[ge.uU],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{z-index:9999}\n/*# sourceMappingURL=dashboard.component.ts-angular-inline--15.css.map*/"]}),E})(),path:""},{path:"**",redirectTo:""}];let b=(()=>{class E{}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[[ge.ez,j.Bz.forChild(i),Te.ot,A.lN,H.LD,Se.u5,m.X]]}),E})()},4418:(pe,de,fe)=>{pe.exports=function A(H,j,m){function v(o,t){if(!j[o]){if(!H[o]){if(g)return g(o,!0);var e=new Error("Cannot find module '"+o+"'");throw e.code="MODULE_NOT_FOUND",e}var n=j[o]={exports:{}};H[o][0].call(n.exports,function(c){return v(H[o][1][c]||c)},n,n.exports,A,H,j,m)}return j[o].exports}for(var g=void 0,d=0;d<m.length;d++)v(m[d]);return v}({1:[function(A,H,j){(function(m,v){(function(){"use strict";const g=A("events").EventEmitter,d=A("./store"),o=A("./topic-alias-recv"),t=A("./topic-alias-send"),r=A("mqtt-packet"),e=A("./default-message-id-provider"),n=A("readable-stream").Writable,c=A("inherits"),s=A("reinterval"),p=A("rfdc/default"),y=A("./validations"),l=A("xtend"),i=A("debug")("mqttjs:client"),b=m?m.nextTick:function(T){setTimeout(T,0)},E=v.setImmediate||function(T){b(T)},S={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},I=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],R={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function f(T,k){let D;k.properties&&(D=k.properties.topicAlias);let Z=k.topic.toString();if(0===Z.length){if(void 0===D)return new Error("Unregistered Topic Alias");if(Z=T.topicAliasSend.getTopicByAlias(D),void 0===Z)return new Error("Unregistered Topic Alias");k.topic=Z}D&&delete k.properties.topicAlias}function _(T,k,D){i("sendPacket :: packet: %O",k),i("sendPacket :: emitting `packetsend`"),T.emit("packetsend",k),i("sendPacket :: writing to stream");const Z=r.writeToStream(k,T.stream,T.options);i("sendPacket :: writeToStream result %s",Z),!Z&&D?(i("sendPacket :: handle events on `drain` once through callback."),T.stream.once("drain",D)):D&&(i("sendPacket :: invoking cb"),D())}function w(T){T&&(i("flush: queue exists? %b",!!T),Object.keys(T).forEach(function(k){"function"==typeof T[k].cb&&(T[k].cb(new Error("Connection closed")),delete T[k])}))}function K(T,k,D,Z){i("storeAndSend :: store packet with cmd %s to outgoingStore",k.cmd);let re,ie=k;if("publish"===ie.cmd&&(ie=p(k),re=f(T,ie),re))return D&&D(re);T.outgoingStore.put(ie,function(V){if(V)return D&&D(V);Z(),_(T,k,D)})}function Q(T){i("nop ::",T)}function z(T,k){let D;const Z=this;if(!(this instanceof z))return new z(T,k);for(D in this.options=k||{},S)this.options[D]=void 0===this.options[D]?S[D]:k[D];i("MqttClient :: options.protocol",k.protocol),i("MqttClient :: options.protocolVersion",k.protocolVersion),i("MqttClient :: options.username",k.username),i("MqttClient :: options.keepalive",k.keepalive),i("MqttClient :: options.reconnectPeriod",k.reconnectPeriod),i("MqttClient :: options.rejectUnauthorized",k.rejectUnauthorized),i("MqttClient :: options.topicAliasMaximum",k.topicAliasMaximum),this.options.clientId="string"==typeof k.clientId?k.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),i("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===k.protocolVersion&&k.customHandleAcks?k.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=T,this.messageIdProvider=void 0===this.options.messageIdProvider?new e:this.options.messageIdProvider,this.outgoingStore=k.outgoingStore||new d,this.incomingStore=k.incomingStore||new d,this.queueQoSZero=void 0===k.queueQoSZero||k.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,k.topicAliasMaximum>0&&(k.topicAliasMaximum>65535?i("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new o(k.topicAliasMaximum)),this.on("connect",function(){const ie=this.queue;i("connect :: sending queued packets"),function re(){const W=ie.shift();i("deliver :: entry %o",W);let V=null;if(!W)return void Z._resubscribe();V=W.packet,i("deliver :: call _sendPacket for %o",V);let te=!0;V.messageId&&0!==V.messageId&&(Z.messageIdProvider.register(V.messageId)||(te=!1)),te?Z._sendPacket(V,function(J){W.cb&&W.cb(J),re()}):(i("messageId: %d has already used. The message is skipped and removed.",V.messageId),re())}()}),this.on("close",function(){i("close :: connected set to `false`"),this.connected=!1,i("close :: clearing connackTimer"),clearTimeout(this.connackTimer),i("close :: clearing ping timer"),null!==Z.pingTimer&&(Z.pingTimer.clear(),Z.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),i("close :: calling _setupReconnect"),this._setupReconnect()}),g.call(this),i("MqttClient :: setting up stream"),this._setupStream()}c(z,g),z.prototype._setupStream=function(){const T=this,k=new n,D=r.parser(this.options);let Z=null;const ie=[];function re(){if(ie.length)b(W);else{const J=Z;Z=null,J()}}function W(){i("work :: getting next packet in queue");const J=ie.shift();if(J)i("work :: packet pulled from queue"),T._handlePacket(J,re);else{i("work :: no packets in queue");const se=Z;Z=null,i("work :: done flag is %s",!!se),se&&se()}}i("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),i("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),D.on("packet",function(J){i("parser :: on packet push to packets array."),ie.push(J)}),k._write=function(J,se,ne){Z=ne,i("writable stream :: parsing buffer"),D.parse(J),W()},i("_setupStream :: pipe stream to writable stream"),this.stream.pipe(k),this.stream.on("error",function(J){i("streamErrorHandler :: error",J.message),I.includes(J.code)?(i("streamErrorHandler :: emitting error"),T.emit("error",J)):Q(J)}),this.stream.on("close",function(){i("(%s)stream :: on close",T.options.clientId),function(T){T&&(i("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(T).forEach(function(k){T[k].volatile&&"function"==typeof T[k].cb&&(T[k].cb(new Error("Connection closed")),delete T[k])}))}(T.outgoing),i("stream: emit close to MqttClient"),T.emit("close")}),i("_setupStream: sending packet `connect`");const te=Object.create(this.options);if(te.cmd="connect",this.topicAliasRecv&&(te.properties||(te.properties={}),this.topicAliasRecv&&(te.properties.topicAliasMaximum=this.topicAliasRecv.max)),_(this,te),D.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return T.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&_(this,l({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){i("!!connectTimeout hit!! Calling _cleanUp with force `true`"),T._cleanUp(!0)},this.options.connectTimeout)},z.prototype._handlePacket=function(T,k){const D=this.options;if(5===D.protocolVersion&&D.properties&&D.properties.maximumPacketSize&&D.properties.maximumPacketSize<T.length)return this.emit("error",new Error("exceeding packets size "+T.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(i("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",T),T.cmd){case"publish":this._handlePublish(T,k);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(T),k();break;case"pubrel":this._handlePubrel(T,k);break;case"connack":this._handleConnack(T),k();break;case"auth":this._handleAuth(T),k();break;case"pingresp":this._handlePingresp(T),k();break;case"disconnect":this._handleDisconnect(T),k()}},z.prototype._checkDisconnecting=function(T){return this.disconnecting&&(T?T(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},z.prototype.publish=function(T,k,D,Z){i("publish :: message `%s` to topic `%s`",k,T);const ie=this.options;if("function"==typeof D&&(Z=D,D=null),D=l({qos:0,retain:!1,dup:!1},D),this._checkDisconnecting(Z))return this;const W=this,V=function(){let te=0;if((1===D.qos||2===D.qos)&&(te=W._nextId(),null===te))return i("No messageId left"),!1;const J={cmd:"publish",topic:T,payload:k,qos:D.qos,retain:D.retain,messageId:te,dup:D.dup};switch(5===ie.protocolVersion&&(J.properties=D.properties),i("publish :: qos",D.qos),D.qos){case 1:case 2:W.outgoing[J.messageId]={volatile:!1,cb:Z||Q},i("MqttClient:publish: packet cmd: %s",J.cmd),W._sendPacket(J,void 0,D.cbStorePut);break;default:i("MqttClient:publish: packet cmd: %s",J.cmd),W._sendPacket(J,Z,D.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!V())&&this._storeProcessingQueue.push({invoke:V,cbStorePut:D.cbStorePut,callback:Z}),this},z.prototype.subscribe=function(){const T=this,k=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)k[ne]=arguments[ne];const D=[];let Z=k.shift();const ie=Z.resubscribe;let re=k.pop()||Q,W=k.pop();const V=this.options.protocolVersion;delete Z.resubscribe,"string"==typeof Z&&(Z=[Z]),"function"!=typeof re&&(W=re,re=Q);const te=y.validateTopics(Z);if(null!==te)return E(re,new Error("Invalid topic "+te)),this;if(this._checkDisconnecting(re))return i("subscribe: discconecting true"),this;const J={qos:0};if(5===V&&(J.nl=!1,J.rap=!1,J.rh=0),W=l(J,W),Array.isArray(Z)?Z.forEach(function(ne){if(i("subscribe: array topic %s",ne),!Object.prototype.hasOwnProperty.call(T._resubscribeTopics,ne)||T._resubscribeTopics[ne].qos<W.qos||ie){const N={topic:ne,qos:W.qos};5===V&&(N.nl=W.nl,N.rap=W.rap,N.rh=W.rh,N.properties=W.properties),i("subscribe: pushing topic `%s` and qos `%s` to subs list",N.topic,N.qos),D.push(N)}}):Object.keys(Z).forEach(function(ne){if(i("subscribe: object topic %s",ne),!Object.prototype.hasOwnProperty.call(T._resubscribeTopics,ne)||T._resubscribeTopics[ne].qos<Z[ne].qos||ie){const N={topic:ne,qos:Z[ne].qos};5===V&&(N.nl=Z[ne].nl,N.rap=Z[ne].rap,N.rh=Z[ne].rh,N.properties=W.properties),i("subscribe: pushing `%s` to subs list",N),D.push(N)}}),!D.length)return re(null,[]),this;const se=function(){const ne=T._nextId();if(null===ne)return i("No messageId left"),!1;const N={cmd:"subscribe",subscriptions:D,qos:1,retain:!1,dup:!1,messageId:ne};if(W.properties&&(N.properties=W.properties),T.options.resubscribe){i("subscribe :: resubscribe true");const L=[];D.forEach(function(Y){if(T.options.reconnectPeriod>0){const oe={qos:Y.qos};5===V&&(oe.nl=Y.nl||!1,oe.rap=Y.rap||!1,oe.rh=Y.rh||0,oe.properties=Y.properties),T._resubscribeTopics[Y.topic]=oe,L.push(Y.topic)}}),T.messageIdToTopic[N.messageId]=L}return T.outgoing[N.messageId]={volatile:!0,cb:function(L,Y){if(!L){const oe=Y.granted;for(let O=0;O<oe.length;O+=1)D[O].qos=oe[O]}re(L,D)}},i("subscribe :: call _sendPacket"),T._sendPacket(N),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!se())&&this._storeProcessingQueue.push({invoke:se,callback:re}),this},z.prototype.unsubscribe=function(){const T=this,k=new Array(arguments.length);for(let V=0;V<arguments.length;V++)k[V]=arguments[V];let D=k.shift(),Z=k.pop()||Q,ie=k.pop();"string"==typeof D&&(D=[D]),"function"!=typeof Z&&(ie=Z,Z=Q);const re=y.validateTopics(D);if(null!==re)return E(Z,new Error("Invalid topic "+re)),this;if(T._checkDisconnecting(Z))return this;const W=function(){const V=T._nextId();if(null===V)return i("No messageId left"),!1;const te={cmd:"unsubscribe",qos:1,messageId:V};return"string"==typeof D?te.unsubscriptions=[D]:Array.isArray(D)&&(te.unsubscriptions=D),T.options.resubscribe&&te.unsubscriptions.forEach(function(J){delete T._resubscribeTopics[J]}),"object"==typeof ie&&ie.properties&&(te.properties=ie.properties),T.outgoing[te.messageId]={volatile:!0,cb:Z},i("unsubscribe: call _sendPacket"),T._sendPacket(te),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,callback:Z}),this},z.prototype.end=function(T,k,D){const Z=this;function ie(){i("end :: closeStores: closing incoming and outgoing stores"),Z.disconnected=!0,Z.incomingStore.close(function(W){Z.outgoingStore.close(function(V){if(i("end :: closeStores: emitting end"),Z.emit("end"),D){const te=W||V;i("end :: closeStores: invoking callback with args"),D(te)}})}),Z._deferredReconnect&&Z._deferredReconnect()}function re(){i("end :: (%s) :: finish :: calling _cleanUp with force %s",Z.options.clientId,T),Z._cleanUp(T,()=>{i("end :: finish :: calling process.nextTick on closeStores"),b(ie.bind(Z))},k)}return i("end :: (%s)",this.options.clientId),(null==T||"boolean"!=typeof T)&&(D=k||Q,k=T,T=!1,"object"!=typeof k&&(D=k,k=null,"function"!=typeof D&&(D=Q))),"object"!=typeof k&&(D=k,k=null),i("end :: cb? %s",!!D),D=D||Q,this.disconnecting?(D(),this):(this._clearReconnect(),this.disconnecting=!0,!T&&Object.keys(this.outgoing).length>0?(i("end :: (%s) :: calling finish in 10ms once outgoing is empty",Z.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,re,10))):(i("end :: (%s) :: immediately calling finish",Z.options.clientId),re()),this)},z.prototype.removeOutgoingMessage=function(T){const k=this.outgoing[T]?this.outgoing[T].cb:null;return delete this.outgoing[T],this.outgoingStore.del({messageId:T},function(){k(new Error("Message removed"))}),this},z.prototype.reconnect=function(T){i("client reconnect");const k=this,D=function(){T?(k.options.incomingStore=T.incomingStore,k.options.outgoingStore=T.outgoingStore):(k.options.incomingStore=null,k.options.outgoingStore=null),k.incomingStore=k.options.incomingStore||new d,k.outgoingStore=k.options.outgoingStore||new d,k.disconnecting=!1,k.disconnected=!1,k._deferredReconnect=null,k._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=D:D(),this},z.prototype._reconnect=function(){i("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),i("client already connected. disconnecting first.")):(i("_reconnect: calling _setupStream"),this._setupStream())},z.prototype._setupReconnect=function(){const T=this;!T.disconnecting&&!T.reconnectTimer&&T.options.reconnectPeriod>0?(this.reconnecting||(i("_setupReconnect :: emit `offline` state"),this.emit("offline"),i("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),i("_setupReconnect :: setting reconnectTimer for %d ms",T.options.reconnectPeriod),T.reconnectTimer=setInterval(function(){i("reconnectTimer :: reconnect triggered!"),T._reconnect()},T.options.reconnectPeriod)):i("_setupReconnect :: doing nothing...")},z.prototype._clearReconnect=function(){i("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},z.prototype._cleanUp=function(T,k){const D=arguments[2];if(k&&(i("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",k)),i("_cleanUp :: forced? %s",T),T)0===this.options.reconnectPeriod&&this.options.clean&&w(this.outgoing),i("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const Z=l({cmd:"disconnect"},D);i("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(Z,E.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(i("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(i("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),k&&!this.connected&&(i("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",k),k())},z.prototype._sendPacket=function(T,k,D){i("_sendPacket :: (%s) ::  start",this.options.clientId),D=D||Q,k=k||Q;const Z=function(T,k){if(5===T.options.protocolVersion&&"publish"===k.cmd){let D;k.properties&&(D=k.properties.topicAlias);const Z=k.topic.toString();if(T.topicAliasSend)if(D){if(0!==Z.length&&(i("applyTopicAlias :: register topic: %s - alias: %d",Z,D),!T.topicAliasSend.put(Z,D)))return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",Z,D),new Error("Sending Topic Alias out of range")}else 0!==Z.length&&(T.options.autoAssignTopicAlias?(D=T.topicAliasSend.getAliasByTopic(Z),D?(k.topic="",k.properties=Ee(_e({},k.properties),{topicAlias:D}),i("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",Z,D)):(D=T.topicAliasSend.getLruAlias(),T.topicAliasSend.put(Z,D),k.properties=Ee(_e({},k.properties),{topicAlias:D}),i("applyTopicAlias :: auto assign topic: %s - alias: %d",Z,D))):T.options.autoUseTopicAlias&&(D=T.topicAliasSend.getAliasByTopic(Z),D&&(k.topic="",k.properties=Ee(_e({},k.properties),{topicAlias:D}),i("applyTopicAlias :: auto use topic: %s - alias: %d",Z,D))));else if(D)return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",Z,D),new Error("Sending Topic Alias out of range")}}(this,T);if(Z)k(Z);else{if(!this.connected)return"auth"===T.cmd?(this._shiftPingInterval(),void _(this,T,k)):(i("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(T,k,D));switch(this._shiftPingInterval(),T.cmd){case"publish":break;case"pubrel":return void K(this,T,k,D);default:return void _(this,T,k)}switch(T.qos){case 2:case 1:K(this,T,k,D);break;default:_(this,T,k)}i("_sendPacket :: (%s) ::  end",this.options.clientId)}},z.prototype._storePacket=function(T,k,D){i("_storePacket :: packet: %o",T),i("_storePacket :: cb? %s",!!k),D=D||Q;let Z=T;if("publish"===Z.cmd){Z=p(T);const ie=f(this,Z);if(ie)return k&&k(ie)}0===(Z.qos||0)&&this.queueQoSZero||"publish"!==Z.cmd?this.queue.push({packet:Z,cb:k}):Z.qos>0?(k=this.outgoing[Z.messageId]?this.outgoing[Z.messageId].cb:null,this.outgoingStore.put(Z,function(ie){if(ie)return k&&k(ie);D()})):k&&k(new Error("No connection to broker"))},z.prototype._setupPingTimer=function(){i("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const T=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=s(function(){T._checkPing()},1e3*this.options.keepalive))},z.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},z.prototype._checkPing=function(){i("_checkPing :: checking ping..."),this.pingResp?(i("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(i("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},z.prototype._handlePingresp=function(){this.pingResp=!0},z.prototype._handleConnack=function(T){i("_handleConnack");const k=this.options,Z=5===k.protocolVersion?T.reasonCode:T.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,T.properties){if(T.properties.topicAliasMaximum){if(T.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));T.properties.topicAliasMaximum>0&&(this.topicAliasSend=new t(T.properties.topicAliasMaximum))}T.properties.serverKeepAlive&&k.keepalive&&(k.keepalive=T.properties.serverKeepAlive,this._shiftPingInterval()),T.properties.maximumPacketSize&&(k.properties||(k.properties={}),k.properties.maximumPacketSize=T.properties.maximumPacketSize)}if(0===Z)this.reconnecting=!1,this._onConnect(T);else if(Z>0){const ie=new Error("Connection refused: "+R[Z]);ie.code=Z,this.emit("error",ie)}},z.prototype._handleAuth=function(T){const D=this.options.protocolVersion,Z=5===D?T.reasonCode:T.returnCode;if(5!==D){const re=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+D);return re.code=Z,void this.emit("error",re)}const ie=this;this.handleAuth(T,function(re,W){if(re)ie.emit("error",re);else if(24===Z)ie.reconnecting=!1,ie._sendPacket(W);else{const V=new Error("Connection refused: "+R[Z]);re.code=Z,ie.emit("error",V)}})},z.prototype.handleAuth=function(T,k){k()},z.prototype._handlePublish=function(T,k){i("_handlePublish: packet %o",T),k=void 0!==k?k:Q;let D=T.topic.toString();const Z=T.payload,ie=T.qos,re=T.messageId,W=this,V=this.options,te=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let J;if(T.properties&&(J=T.properties.topicAlias),void 0!==J)if(0===D.length){if(!(J>0&&J<=65535))return i("_handlePublish :: topic alias out of range. alias: %d",J),void this.emit("error",new Error("Received Topic Alias is out of range"));{const se=this.topicAliasRecv.getTopicByAlias(J);if(!se)return i("_handlePublish :: unregistered topic alias. alias: %d",J),void this.emit("error",new Error("Received unregistered Topic Alias"));D=se,i("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",D,J)}}else{if(!this.topicAliasRecv.put(D,J))return i("_handlePublish :: topic alias out of range. alias: %d",J),void this.emit("error",new Error("Received Topic Alias is out of range"));i("_handlePublish :: registered topic: %s - alias: %d",D,J)}}switch(i("_handlePublish: qos %d",ie),ie){case 2:V.customHandleAcks(D,Z,T,function(J,se){return J instanceof Error||(se=J,J=null),J?W.emit("error",J):-1===te.indexOf(se)?W.emit("error",new Error("Wrong reason code for pubrec")):void(se?W._sendPacket({cmd:"pubrec",messageId:re,reasonCode:se},k):W.incomingStore.put(T,function(){W._sendPacket({cmd:"pubrec",messageId:re},k)}))});break;case 1:V.customHandleAcks(D,Z,T,function(J,se){return J instanceof Error||(se=J,J=null),J?W.emit("error",J):-1===te.indexOf(se)?W.emit("error",new Error("Wrong reason code for puback")):(se||W.emit("message",D,Z,T),void W.handleMessage(T,function(ne){if(ne)return k&&k(ne);W._sendPacket({cmd:"puback",messageId:re,reasonCode:se},k)}))});break;case 0:this.emit("message",D,Z,T),this.handleMessage(T,k);break;default:i("_handlePublish: unknown QoS. Doing nothing.")}},z.prototype.handleMessage=function(T,k){k()},z.prototype._handleAck=function(T){const k=T.messageId,D=T.cmd;let Z=null;const ie=this.outgoing[k]?this.outgoing[k].cb:null,re=this;let W;if(ie){switch(i("_handleAck :: packet type",D),D){case"pubcomp":case"puback":{const V=T.reasonCode;V&&V>0&&16!==V&&(W=new Error("Publish error: "+R[V]),W.code=V,ie(W,T)),delete this.outgoing[k],this.outgoingStore.del(T,ie),this.messageIdProvider.deallocate(k),this._invokeStoreProcessingQueue();break}case"pubrec":{Z={cmd:"pubrel",qos:2,messageId:k};const V=T.reasonCode;V&&V>0&&16!==V?(W=new Error("Publish error: "+R[V]),W.code=V,ie(W,T)):this._sendPacket(Z);break}case"suback":delete this.outgoing[k],this.messageIdProvider.deallocate(k);for(let V=0;V<T.granted.length;V++)if(0!=(128&T.granted[V])){const te=this.messageIdToTopic[k];te&&te.forEach(function(J){delete re._resubscribeTopics[J]})}this._invokeStoreProcessingQueue(),ie(null,T);break;case"unsuback":delete this.outgoing[k],this.messageIdProvider.deallocate(k),this._invokeStoreProcessingQueue(),ie(null);break;default:re.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else i("_handleAck :: Server sent an ack in error. Ignoring.")},z.prototype._handlePubrel=function(T,k){i("handling pubrel packet"),k=void 0!==k?k:Q;const Z=this,ie={cmd:"pubcomp",messageId:T.messageId};Z.incomingStore.get(T,function(re,W){re?Z._sendPacket(ie,k):(Z.emit("message",W.topic,W.payload,W),Z.handleMessage(W,function(V){if(V)return k(V);Z.incomingStore.del(W,Q),Z._sendPacket(ie,k)}))})},z.prototype._handleDisconnect=function(T){this.emit("disconnect",T)},z.prototype._nextId=function(){return this.messageIdProvider.allocate()},z.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},z.prototype._resubscribe=function(){i("_resubscribe");const T=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&T.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){i("_resubscribe: protocolVersion 5");for(let k=0;k<T.length;k++){const D={};D[T[k]]=this._resubscribeTopics[T[k]],D.resubscribe=!0,this.subscribe(D,{properties:D[T[k]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},z.prototype._onConnect=function(T){if(this.disconnected)return void this.emit("connect",T);const k=this;this.connackPacket=T,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function D(){let Z=k.outgoingStore.createStream();function ie(){k._storeProcessing=!1,k._packetIdsDuringStoreProcessing={}}function re(){Z.destroy(),Z=null,k._flushStoreProcessingQueue(),ie()}k.once("close",re),Z.on("error",function(V){ie(),k._flushStoreProcessingQueue(),k.removeListener("close",re),k.emit("error",V)}),Z.on("end",function(){let V=!0;for(const te in k._packetIdsDuringStoreProcessing)if(!k._packetIdsDuringStoreProcessing[te]){V=!1;break}V?(ie(),k.removeListener("close",re),k._invokeAllStoreProcessingQueue(),k.emit("connect",T)):D()}),function W(){if(!Z)return;k._storeProcessing=!0;const V=Z.read(1);let te;V?k._packetIdsDuringStoreProcessing[V.messageId]?W():k.disconnecting||k.reconnectTimer?Z.destroy&&Z.destroy():(te=k.outgoing[V.messageId]?k.outgoing[V.messageId].cb:null,k.outgoing[V.messageId]={volatile:!1,cb:function(J,se){te&&te(J,se),W()}},k._packetIdsDuringStoreProcessing[V.messageId]=!0,k.messageIdProvider.register(V.messageId)?k._sendPacket(V):i("messageId: %d has already used.",V.messageId)):Z.once("readable",W)}()}()},z.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const T=this._storeProcessingQueue[0];if(T&&T.invoke())return this._storeProcessingQueue.shift(),!0}return!1},z.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},z.prototype._flushStoreProcessingQueue=function(){for(const T of this._storeProcessingQueue)T.cbStorePut&&T.cbStorePut(new Error("Connection closed")),T.callback&&T.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},H.exports=z}).call(this)}).call(this,A("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(A,H,j){(function(m){(function(){"use strict";const v=A("readable-stream").Transform,g=A("duplexify");let d,o,t,r=!1;H.exports=function(y,l){if(l.hostname=l.hostname||l.host,!l.hostname)throw new Error("Could not determine host. Specify host manually.");const i="MQIsdp"===l.protocolId&&3===l.protocolVersion?"mqttv3.1":"mqtt";!function(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}(l);const b=function(y,l){const i="alis"===y.protocol?"wss":"ws";let b=i+"://"+y.hostname+y.path;return y.port&&80!==y.port&&443!==y.port&&(b=i+"://"+y.hostname+":"+y.port+y.path),"function"==typeof y.transformWsUrl&&(b=y.transformWsUrl(b,y,l)),b}(l,y);return d=l.my,d.connectSocket({url:b,protocols:i}),o=function(){const y=new v;return y._write=function(l,i,b){d.sendSocketMessage({data:l.buffer,success:function(){b()},fail:function(){b(new Error)}})},y._flush=function(i){d.closeSocket({success:function(){i()}})},y}(),t=g.obj(),r||(r=!0,d.onSocketOpen(function(){t.setReadable(o),t.setWritable(o),t.emit("connect")}),d.onSocketMessage(function(y){if("string"==typeof y.data){const l=m.from(y.data,"base64");o.push(l)}else{const l=new FileReader;l.addEventListener("load",function(){let i=l.result;i=i instanceof ArrayBuffer?m.from(i):m.from(i,"utf8"),o.push(i)}),l.readAsArrayBuffer(y.data)}}),d.onSocketClose(function(){t.end(),t.destroy()}),d.onSocketError(function(y){t.destroy(y)})),t}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(A,H,j){"use strict";const m=A("net"),v=A("debug")("mqttjs:tcp");H.exports=function(d,o){o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost";const t=o.port,r=o.hostname;return v("port %d and host %s",t,r),m.createConnection(t,r)}},{debug:18,net:16}],4:[function(A,H,j){"use strict";const m=A("tls"),v=A("net"),g=A("debug")("mqttjs:tls");H.exports=function(o,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===v.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,g("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);const r=m.connect(t);function e(n){t.rejectUnauthorized&&o.emit("error",n),r.end()}return r.on("secureConnect",function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",e)}),r.on("error",e),r}},{debug:18,net:16,tls:16}],5:[function(A,H,j){(function(m,v){(function(){"use strict";const g=A("ws"),d=A("debug")("mqttjs:ws"),o=A("duplexify"),t=A("readable-stream").Transform,r=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],e=void 0!==m&&"browser"===m.title||"function"==typeof fe;function n(b,E){let S=b.protocol+"://"+b.hostname+":"+b.port+b.path;return"function"==typeof b.transformWsUrl&&(S=b.transformWsUrl(S,b,E)),S}function c(b){const E=b;return b.hostname||(E.hostname="localhost"),b.port||(E.port="wss"===b.protocol?443:80),b.path||(E.path="/"),b.wsOptions||(E.wsOptions={}),!e&&"wss"===b.protocol&&r.forEach(function(S){Object.prototype.hasOwnProperty.call(b,S)&&!Object.prototype.hasOwnProperty.call(b.wsOptions,S)&&(E.wsOptions[S]=b[S])}),E}H.exports=e?function(b,E){let S;d("browserStreamBuilder");const R=function(b){const E=c(b);if(E.hostname||(E.hostname=E.host),!E.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");const S=new URL(document.URL);E.hostname=S.hostname,E.port||(E.port=S.port)}return void 0===E.objectMode&&(E.objectMode=!(!0===E.binary||void 0===E.binary)),E}(E).browserBufferSize||524288,M=E.browserBufferTimeout||1e3,q=!E.objectMode,f=function(b,E){const S="MQIsdp"===E.protocolId&&3===E.protocolVersion?"mqttv3.1":"mqtt",I=n(E,b),R=new WebSocket(I,[S]);return R.binaryType="arraybuffer",R}(b,E),_=function(ie,re,W){const V=new t({objectModeMode:ie.objectMode});return V._write=re,V._flush=W,V}(E,function D(ie,re,W){f.bufferedAmount>R&&setTimeout(D,M,ie,re,W),q&&"string"==typeof ie&&(ie=v.from(ie,"utf8"));try{f.send(ie)}catch(V){return W(V)}W()},function(ie){f.close(),ie()});E.objectMode||(_._writev=k),_.on("close",()=>{f.close()});const w=void 0!==f.addEventListener;function K(){S.setReadable(_),S.setWritable(_),S.emit("connect")}function Q(){S.end(),S.destroy()}function z(ie){S.destroy(ie)}function T(ie){let re=ie.data;re=re instanceof ArrayBuffer?v.from(re):v.from(re,"utf8"),_.push(re)}function k(ie,re){const W=new Array(ie.length);for(let V=0;V<ie.length;V++)W[V]="string"==typeof ie[V].chunk?v.from(ie[V],"utf8"):ie[V].chunk;this._write(v.concat(W),"binary",re)}return f.readyState===f.OPEN?S=_:(S=S=o(void 0,void 0,E),E.objectMode||(S._writev=k),w?f.addEventListener("open",K):f.onopen=K),S.socket=f,w?(f.addEventListener("close",Q),f.addEventListener("error",z),f.addEventListener("message",T)):(f.onclose=Q,f.onerror=z,f.onmessage=T),S}:function(b,E){d("streamBuilder");const S=c(E),I=n(S,b),R=function(b,E,S){d("createWebSocket"),d("protocol: "+S.protocolId+" "+S.protocolVersion);const I="MQIsdp"===S.protocolId&&3===S.protocolVersion?"mqttv3.1":"mqtt";return d("creating new Websocket for url: "+E+" and protocol: "+I),new g(E,[I],S.wsOptions)}(0,I,S),M=g.createWebSocketStream(R,S.wsOptions);return M.url=I,R.on("close",()=>{M.destroy()}),M}}).call(this)}).call(this,A("_process"),A("buffer").Buffer)},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(A,H,j){(function(m){(function(){"use strict";const v=A("readable-stream").Transform,g=A("duplexify");let d,o,t;H.exports=function(p,y){if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");const l="MQIsdp"===y.protocolId&&3===y.protocolVersion?"mqttv3.1":"mqtt";!function(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}(y);const i=function(p,y){const l="wxs"===p.protocol?"wss":"ws";let i=l+"://"+p.hostname+p.path;return p.port&&80!==p.port&&443!==p.port&&(i=l+"://"+p.hostname+":"+p.port+p.path),"function"==typeof p.transformWsUrl&&(i=p.transformWsUrl(i,p,y)),i}(y,p);d=wx.connectSocket({url:i,protocols:[l]}),o=function(){const p=new v;return p._write=function(y,l,i){d.send({data:y.buffer,success:function(){i()},fail:function(b){i(new Error(b))}})},p._flush=function(l){d.close({success:function(){l()}})},p}(),t=g.obj(),t._destroy=function(E,S){d.close({success:function(){S&&S(E)}})};const b=t.destroy;return t.destroy=function(){t.destroy=b;const E=this;setTimeout(function(){d.close({fail:function(){E._destroy(new Error)}})},0)}.bind(t),d.onOpen(function(){t.setReadable(o),t.setWritable(o),t.emit("connect")}),d.onMessage(function(p){let y=p.data;y=y instanceof ArrayBuffer?m.from(y):m.from(y,"utf8"),o.push(y)}),d.onClose(function(){t.end(),t.destroy()}),d.onError(function(p){t.destroy(new Error(p.errMsg))}),t}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(A,H,j){"use strict";function m(){if(!(this instanceof m))return new m;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}m.prototype.allocate=function(){const v=this.nextId++;return 65536===this.nextId&&(this.nextId=1),v},m.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},m.prototype.register=function(v){return!0},m.prototype.deallocate=function(v){},m.prototype.clear=function(){},H.exports=m},{}],8:[function(A,H,j){"use strict";const m=A("xtend"),v=A("readable-stream").Readable,g={objectMode:!0},d={clean:!0};function o(t){if(!(this instanceof o))return new o(t);this.options=t||{},this.options=m(d,t),this._inflights=new Map}o.prototype.put=function(t,r){return this._inflights.set(t.messageId,t),r&&r(),this},o.prototype.createStream=function(){const t=new v(g),r=[];let e=!1,n=0;return this._inflights.forEach(function(c,s){r.push(c)}),t._read=function(){this.push(!e&&n<r.length?r[n++]:null)},t.destroy=function(){if(e)return;const c=this;e=!0,setTimeout(function(){c.emit("close")},0)},t},o.prototype.del=function(t,r){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),r(null,t)):r&&r(new Error("missing packet")),this},o.prototype.get=function(t,r){return(t=this._inflights.get(t.messageId))?r(null,t):r&&r(new Error("missing packet")),this},o.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},H.exports=o},{"readable-stream":69,xtend:81}],9:[function(A,H,j){"use strict";function m(v){if(!(this instanceof m))return new m(v);this.aliasToTopic={},this.max=v}m.prototype.put=function(v,g){return!(0===g||g>this.max||(this.aliasToTopic[g]=v,this.length=Object.keys(this.aliasToTopic).length,0))},m.prototype.getTopicByAlias=function(v){return this.aliasToTopic[v]},m.prototype.clear=function(){this.aliasToTopic={}},H.exports=m},{}],10:[function(A,H,j){"use strict";const m=A("lru-cache"),v=A("number-allocator").NumberAllocator;function g(d){if(!(this instanceof g))return new g(d);d>0&&(this.aliasToTopic=new m({max:d}),this.topicToAlias={},this.numberAllocator=new v(1,d),this.max=d,this.length=0)}g.prototype.put=function(d,o){if(0===o||o>this.max)return!1;const t=this.aliasToTopic.get(o);return t&&delete this.topicToAlias[t],this.aliasToTopic.set(o,d),this.topicToAlias[d]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.length,!0},g.prototype.getTopicByAlias=function(d){return this.aliasToTopic.get(d)},g.prototype.getAliasByTopic=function(d){const o=this.topicToAlias[d];return void 0!==o&&this.aliasToTopic.get(o),o},g.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},g.prototype.getLruAlias=function(){return this.numberAllocator.firstVacant()||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},H.exports=g},{"lru-cache":37,"number-allocator":46}],11:[function(A,H,j){"use strict";function m(g){const d=g.split("/");for(let o=0;o<d.length;o++)if("+"!==d[o]){if("#"===d[o])return o===d.length-1;if(-1!==d[o].indexOf("+")||-1!==d[o].indexOf("#"))return!1}return!0}H.exports={validateTopics:function(g){if(0===g.length)return"empty_topic_list";for(let d=0;d<g.length;d++)if(!m(g[d]))return g[d];return null}}},{}],12:[function(A,H,j){(function(m){(function(){"use strict";const v=A("../client"),g=A("../store"),d=A("url"),o=A("xtend"),t=A("debug")("mqttjs"),r={};function n(c,s){if(t("connecting to an MQTT broker..."),"object"==typeof c&&!s&&(s=c,c=null),s=s||{},c){const l=d.parse(c,!0);if(null!=l.port&&(l.port=Number(l.port)),null===(s=o(l,s)).protocol)throw new Error("Missing protocol");s.protocol=s.protocol.replace(/:$/,"")}if(function(c){let s;c.auth&&(s=c.auth.match(/^(.+):(.+)$/),s?(c.username=s[1],c.password=s[2]):c.username=c.auth)}(s),s.query&&"string"==typeof s.query.clientId&&(s.clientId=s.query.clientId),s.cert&&s.key){if(!s.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(s.protocol))switch(s.protocol){case"mqtt":s.protocol="mqtts";break;case"ws":s.protocol="wss";break;case"wx":s.protocol="wxs";break;case"ali":s.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+s.protocol+'"!')}}if(!r[s.protocol]){const l=-1!==["mqtts","wss"].indexOf(s.protocol);s.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(i,b){return(!l||b%2!=0)&&"function"==typeof r[i]})[0]}if(!1===s.clean&&!s.clientId)throw new Error("Missing clientId for unclean clients");s.protocol&&(s.defaultProtocol=s.protocol);const y=new v(function(l){return s.servers&&((!l._reconnectCount||l._reconnectCount===s.servers.length)&&(l._reconnectCount=0),s.host=s.servers[l._reconnectCount].host,s.port=s.servers[l._reconnectCount].port,s.protocol=s.servers[l._reconnectCount].protocol?s.servers[l._reconnectCount].protocol:s.defaultProtocol,s.hostname=s.host,l._reconnectCount++),t("calling streambuilder for",s.protocol),r[s.protocol](l,s)},s);return y.on("error",function(){}),y}void 0!==m&&"browser"!==m.title||"function"!=typeof fe?(r.mqtt=A("./tcp"),r.tcp=A("./tcp"),r.ssl=A("./tls"),r.tls=A("./tls"),r.mqtts=A("./tls")):(r.wx=A("./wx"),r.wxs=A("./wx"),r.ali=A("./ali"),r.alis=A("./ali")),r.ws=A("./ws"),r.wss=A("./ws"),H.exports=n,H.exports.connect=n,H.exports.MqttClient=v,H.exports.Store=g}).call(this)}).call(this,A("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(A,H,j){"use strict";j.byteLength=function(l){var i=r(l),E=i[1];return 3*(i[0]+E)/4-E},j.toByteArray=function(l){var i,q,b=r(l),E=b[0],S=b[1],I=new g(function(l,i,b){return 3*(i+b)/4-b}(0,E,S)),R=0,M=S>0?E-4:E;for(q=0;q<M;q+=4)i=v[l.charCodeAt(q)]<<18|v[l.charCodeAt(q+1)]<<12|v[l.charCodeAt(q+2)]<<6|v[l.charCodeAt(q+3)],I[R++]=i>>16&255,I[R++]=i>>8&255,I[R++]=255&i;return 2===S&&(i=v[l.charCodeAt(q)]<<2|v[l.charCodeAt(q+1)]>>4,I[R++]=255&i),1===S&&(i=v[l.charCodeAt(q)]<<10|v[l.charCodeAt(q+1)]<<4|v[l.charCodeAt(q+2)]>>2,I[R++]=i>>8&255,I[R++]=255&i),I},j.fromByteArray=function(l){for(var i,b=l.length,E=b%3,S=[],I=16383,R=0,M=b-E;R<M;R+=I)S.push(p(l,R,R+I>M?M:R+I));return 1===E?S.push(m[(i=l[b-1])>>2]+m[i<<4&63]+"=="):2===E&&S.push(m[(i=(l[b-2]<<8)+l[b-1])>>10]+m[i>>4&63]+m[i<<2&63]+"="),S.join("")};for(var m=[],v=[],g="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,t=d.length;o<t;++o)m[o]=d[o],v[d.charCodeAt(o)]=o;function r(l){var i=l.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=l.indexOf("=");return-1===b&&(b=i),[b,b===i?0:4-b%4]}function s(l){return m[l>>18&63]+m[l>>12&63]+m[l>>6&63]+m[63&l]}function p(l,i,b){for(var S=[],I=i;I<b;I+=3)S.push(s((l[I]<<16&16711680)+(l[I+1]<<8&65280)+(255&l[I+2])));return S.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},{}],14:[function(A,H,j){"use strict";const{Buffer:m}=A("buffer"),v=Symbol.for("BufferList");function g(d){if(!(this instanceof g))return new g(d);g._init.call(this,d)}g._init=function(o){Object.defineProperty(this,v,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)},g.prototype._new=function(o){return new g(o)},g.prototype._offset=function(o){if(0===o)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const e=t+this._bufs[r].length;if(o<e||r===this._bufs.length-1)return[r,o-t];t=e}},g.prototype._reverseOffset=function(d){const o=d[0];let t=d[1];for(let r=0;r<o;r++)t+=this._bufs[r].length;return t},g.prototype.get=function(o){if(o>this.length||o<0)return;const t=this._offset(o);return this._bufs[t[0]][t[1]]},g.prototype.slice=function(o,t){return"number"==typeof o&&o<0&&(o+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,o,t)},g.prototype.copy=function(o,t,r,e){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof e||e>this.length)&&(e=this.length),r>=this.length||e<=0)return o||m.alloc(0);const n=!!o,c=this._offset(r),s=e-r;let p=s,y=n&&t||0,l=c[1];if(0===r&&e===this.length){if(!n)return 1===this._bufs.length?this._bufs[0]:m.concat(this._bufs,this.length);for(let i=0;i<this._bufs.length;i++)this._bufs[i].copy(o,y),y+=this._bufs[i].length;return o}if(p<=this._bufs[c[0]].length-l)return n?this._bufs[c[0]].copy(o,t,l,l+p):this._bufs[c[0]].slice(l,l+p);n||(o=m.allocUnsafe(s));for(let i=c[0];i<this._bufs.length;i++){const b=this._bufs[i].length-l;if(!(p>b)){this._bufs[i].copy(o,y,l,l+p),y+=b;break}this._bufs[i].copy(o,y,l),y+=b,p-=b,l&&(l=0)}return o.length>y?o.slice(0,y):o},g.prototype.shallowSlice=function(o,t){if((o=o||0)<0&&(o+=this.length),(t="number"!=typeof t?this.length:t)<0&&(t+=this.length),o===t)return this._new();const r=this._offset(o),e=this._offset(t),n=this._bufs.slice(r[0],e[0]+1);return 0===e[1]?n.pop():n[n.length-1]=n[n.length-1].slice(0,e[1]),0!==r[1]&&(n[0]=n[0].slice(r[1])),this._new(n)},g.prototype.toString=function(o,t,r){return this.slice(t,r).toString(o)},g.prototype.consume=function(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;){if(!(o>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},g.prototype.duplicate=function(){const o=this._new();for(let t=0;t<this._bufs.length;t++)o.append(this._bufs[t]);return o},g.prototype.append=function(o){if(null==o)return this;if(o.buffer)this._appendBuffer(m.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let t=0;t<o.length;t++)this.append(o[t]);else if(this._isBufferList(o))for(let t=0;t<o._bufs.length;t++)this.append(o._bufs[t]);else"number"==typeof o&&(o=o.toString()),this._appendBuffer(m.from(o));return this},g.prototype._appendBuffer=function(o){this._bufs.push(o),this.length+=o.length},g.prototype.indexOf=function(d,o,t){if(void 0===t&&"string"==typeof o&&(t=o,o=void 0),"function"==typeof d||Array.isArray(d))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof d?d=m.from([d]):"string"==typeof d?d=m.from(d,t):this._isBufferList(d)?d=d.slice():Array.isArray(d.buffer)?d=m.from(d.buffer,d.byteOffset,d.byteLength):m.isBuffer(d)||(d=m.from(d)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),0===d.length)return o>this.length?this.length:o;const r=this._offset(o);let e=r[0],n=r[1];for(;e<this._bufs.length;e++){const c=this._bufs[e];for(;n<c.length;)if(c.length-n>=d.length){const p=c.indexOf(d,n);if(-1!==p)return this._reverseOffset([e,p]);n=c.length-d.length+1}else{const p=this._reverseOffset([e,n]);if(this._match(p,d))return p;n++}n=0}return-1},g.prototype._match=function(d,o){if(this.length-d<o.length)return!1;for(let t=0;t<o.length;t++)if(this.get(d+t)!==o[t])return!1;return!0},function(){const d={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const o in d)!function(t){g.prototype[t]=null===d[t]?function(r,e){return this.slice(r,r+e)[t](0,e)}:function(r=0){return this.slice(r,r+d[t])[t](0)}}(o)}(),g.prototype._isBufferList=function(o){return o instanceof g||g.isBufferList(o)},g.isBufferList=function(o){return null!=o&&o[v]},H.exports=g},{buffer:17}],15:[function(A,H,j){"use strict";const m=A("readable-stream").Duplex,v=A("inherits"),g=A("./BufferList");function d(o){if(!(this instanceof d))return new d(o);if("function"==typeof o){this._callback=o;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),o=null}g._init.call(this,o),m.call(this)}v(d,m),Object.assign(d.prototype,g.prototype),d.prototype._new=function(t){return new d(t)},d.prototype._write=function(t,r,e){this._appendBuffer(t),"function"==typeof e&&e()},d.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},d.prototype.end=function(t){m.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},d.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)},d.prototype._isBufferList=function(t){return t instanceof d||t instanceof g||d.isBufferList(t)},d.isBufferList=g.isBufferList,H.exports=d,H.exports.BufferListStream=d,H.exports.BufferList=g},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(A,H,j){},{}],17:[function(A,H,j){(function(m){(function(){"use strict";var v=A("base64-js"),g=A("ieee754");j.Buffer=r,j.SlowBuffer=function(h){return+h!=h&&(h=0),r.alloc(+h)},j.INSPECT_MAX_BYTES=50;var d=2147483647;function t(h){if(h>d)throw new RangeError('The value "'+h+'" is invalid for option "size"');var a=new Uint8Array(h);return a.__proto__=r.prototype,a}function r(h,a,u){if("number"==typeof h){if("string"==typeof a)throw new TypeError('The "string" argument must be of type string. Received type number');return s(h)}return e(h,a,u)}function e(h,a,u){if("string"==typeof h)return function(h,a){if(("string"!=typeof a||""===a)&&(a="utf8"),!r.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var u=0|S(h,a),x=t(u),U=x.write(h,a);return U!==u&&(x=x.slice(0,U)),x}(h,a);if(ArrayBuffer.isView(h))return y(h);if(null==h)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(X(h,ArrayBuffer)||h&&X(h.buffer,ArrayBuffer))return function(h,a,u){if(a<0||h.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<a+(u||0))throw new RangeError('"length" is outside of buffer bounds');var x;return(x=void 0===a&&void 0===u?new Uint8Array(h):void 0===u?new Uint8Array(h,a):new Uint8Array(h,a,u)).__proto__=r.prototype,x}(h,a,u);if("number"==typeof h)throw new TypeError('The "value" argument must not be of type number. Received type number');var x=h.valueOf&&h.valueOf();if(null!=x&&x!==h)return r.from(x,a,u);var U=function(h){if(r.isBuffer(h)){var a=0|b(h.length),u=t(a);return 0===u.length||h.copy(u,0,0,a),u}return void 0!==h.length?"number"!=typeof h.length||C(h.length)?t(0):y(h):"Buffer"===h.type&&Array.isArray(h.data)?y(h.data):void 0}(h);if(U)return U;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof h[Symbol.toPrimitive])return r.from(h[Symbol.toPrimitive]("string"),a,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}function n(h){if("number"!=typeof h)throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function s(h){return n(h),t(h<0?0:0|b(h))}function y(h){for(var a=h.length<0?0:0|b(h.length),u=t(a),x=0;x<a;x+=1)u[x]=255&h[x];return u}function b(h){if(h>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|h}function S(h,a){if(r.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||X(h,ArrayBuffer))return h.byteLength;if("string"!=typeof h)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);var u=h.length,x=arguments.length>2&&!0===arguments[2];if(!x&&0===u)return 0;for(var U=!1;;)switch(a){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return oe(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*u;case"hex":return u>>>1;case"base64":return F(h).length;default:if(U)return x?-1:oe(h).length;a=(""+a).toLowerCase(),U=!0}}function I(h,a,u){var x=!1;if((void 0===a||a<0)&&(a=0),a>this.length||((void 0===u||u>this.length)&&(u=this.length),u<=0)||(u>>>=0)<=(a>>>=0))return"";for(h||(h="utf8");;)switch(h){case"hex":return re(this,a,u);case"utf8":case"utf-8":return T(this,a,u);case"ascii":return Z(this,a,u);case"latin1":case"binary":return ie(this,a,u);case"base64":return z(this,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,a,u);default:if(x)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),x=!0}}function R(h,a,u){var x=h[a];h[a]=h[u],h[u]=x}function M(h,a,u,x,U){if(0===h.length)return-1;if("string"==typeof u?(x=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),C(u=+u)&&(u=U?0:h.length-1),u<0&&(u=h.length+u),u>=h.length){if(U)return-1;u=h.length-1}else if(u<0){if(!U)return-1;u=0}if("string"==typeof a&&(a=r.from(a,x)),r.isBuffer(a))return 0===a.length?-1:q(h,a,u,x,U);if("number"==typeof a)return a&=255,"function"==typeof Uint8Array.prototype.indexOf?U?Uint8Array.prototype.indexOf.call(h,a,u):Uint8Array.prototype.lastIndexOf.call(h,a,u):q(h,[a],u,x,U);throw new TypeError("val must be string, number or Buffer")}function q(h,a,u,x,U){var ue,$=1,ee=h.length,ae=a.length;if(void 0!==x&&("ucs2"===(x=String(x).toLowerCase())||"ucs-2"===x||"utf16le"===x||"utf-16le"===x)){if(h.length<2||a.length<2)return-1;$=2,ee/=2,ae/=2,u/=2}function le(be,ve){return 1===$?be[ve]:be.readUInt16BE(ve*$)}if(U){var he=-1;for(ue=u;ue<ee;ue++)if(le(h,ue)===le(a,-1===he?0:ue-he)){if(-1===he&&(he=ue),ue-he+1===ae)return he*$}else-1!==he&&(ue-=ue-he),he=-1}else for(u+ae>ee&&(u=ee-ae),ue=u;ue>=0;ue--){for(var ce=!0,ye=0;ye<ae;ye++)if(le(h,ue+ye)!==le(a,ye)){ce=!1;break}if(ce)return ue}return-1}function f(h,a,u,x){u=Number(u)||0;var U=h.length-u;x?(x=Number(x))>U&&(x=U):x=U;var $=a.length;x>$/2&&(x=$/2);for(var ee=0;ee<x;++ee){var ae=parseInt(a.substr(2*ee,2),16);if(C(ae))return ee;h[u+ee]=ae}return ee}function _(h,a,u,x){return G(oe(a,h.length-u),h,u,x)}function w(h,a,u,x){return G(function(h){for(var a=[],u=0;u<h.length;++u)a.push(255&h.charCodeAt(u));return a}(a),h,u,x)}function B(h,a,u,x){return w(h,a,u,x)}function K(h,a,u,x){return G(F(a),h,u,x)}function Q(h,a,u,x){return G(function(h,a){for(var u,x,$=[],ee=0;ee<h.length&&!((a-=2)<0);++ee)x=(u=h.charCodeAt(ee))>>8,$.push(u%256),$.push(x);return $}(a,h.length-u),h,u,x)}function z(h,a,u){return v.fromByteArray(0===a&&u===h.length?h:h.slice(a,u))}function T(h,a,u){u=Math.min(h.length,u);for(var x=[],U=a;U<u;){var le,ue,he,ce,$=h[U],ee=null,ae=$>239?4:$>223?3:$>191?2:1;if(U+ae<=u)switch(ae){case 1:$<128&&(ee=$);break;case 2:128==(192&(le=h[U+1]))&&(ce=(31&$)<<6|63&le)>127&&(ee=ce);break;case 3:ue=h[U+2],128==(192&(le=h[U+1]))&&128==(192&ue)&&(ce=(15&$)<<12|(63&le)<<6|63&ue)>2047&&(ce<55296||ce>57343)&&(ee=ce);break;case 4:ue=h[U+2],he=h[U+3],128==(192&(le=h[U+1]))&&128==(192&ue)&&128==(192&he)&&(ce=(15&$)<<18|(63&le)<<12|(63&ue)<<6|63&he)>65535&&ce<1114112&&(ee=ce)}null===ee?(ee=65533,ae=1):ee>65535&&(x.push((ee-=65536)>>>10&1023|55296),ee=56320|1023&ee),x.push(ee),U+=ae}return function(h){var a=h.length;if(a<=k)return String.fromCharCode.apply(String,h);for(var u="",x=0;x<a;)u+=String.fromCharCode.apply(String,h.slice(x,x+=k));return u}(x)}j.kMaxLength=d,!(r.TYPED_ARRAY_SUPPORT=function(){try{var h=new Uint8Array(1);return h.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===h.foo()}catch(a){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(h,a,u){return e(h,a,u)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(h,a,u){return function(h,a,u){return n(h),h<=0?t(h):void 0!==a?"string"==typeof u?t(h).fill(a,u):t(h).fill(a):t(h)}(h,a,u)},r.allocUnsafe=function(h){return s(h)},r.allocUnsafeSlow=function(h){return s(h)},r.isBuffer=function(a){return null!=a&&!0===a._isBuffer&&a!==r.prototype},r.compare=function(a,u){if(X(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),X(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(a)||!r.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===u)return 0;for(var x=a.length,U=u.length,$=0,ee=Math.min(x,U);$<ee;++$)if(a[$]!==u[$]){x=a[$],U=u[$];break}return x<U?-1:U<x?1:0},r.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(a,u){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return r.alloc(0);var x;if(void 0===u)for(u=0,x=0;x<a.length;++x)u+=a[x].length;var U=r.allocUnsafe(u),$=0;for(x=0;x<a.length;++x){var ee=a[x];if(X(ee,Uint8Array)&&(ee=r.from(ee)),!r.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(U,$),$+=ee.length}return U},r.byteLength=S,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<a;u+=2)R(this,u,u+1);return this},r.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<a;u+=4)R(this,u,u+3),R(this,u+1,u+2);return this},r.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<a;u+=8)R(this,u,u+7),R(this,u+1,u+6),R(this,u+2,u+5),R(this,u+3,u+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?T(this,0,a):I.apply(this,arguments)},r.prototype.equals=function(a){if(!r.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===r.compare(this,a)},r.prototype.inspect=function(){var a="",u=j.INSPECT_MAX_BYTES;return a=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(a+=" ... "),"<Buffer "+a+">"},r.prototype.compare=function(a,u,x,U,$){if(X(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),!r.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===u&&(u=0),void 0===x&&(x=a?a.length:0),void 0===U&&(U=0),void 0===$&&($=this.length),u<0||x>a.length||U<0||$>this.length)throw new RangeError("out of range index");if(U>=$&&u>=x)return 0;if(U>=$)return-1;if(u>=x)return 1;if(this===a)return 0;for(var ee=($>>>=0)-(U>>>=0),ae=(x>>>=0)-(u>>>=0),le=Math.min(ee,ae),ue=this.slice(U,$),he=a.slice(u,x),ce=0;ce<le;++ce)if(ue[ce]!==he[ce]){ee=ue[ce],ae=he[ce];break}return ee<ae?-1:ae<ee?1:0},r.prototype.includes=function(a,u,x){return-1!==this.indexOf(a,u,x)},r.prototype.indexOf=function(a,u,x){return M(this,a,u,x,!0)},r.prototype.lastIndexOf=function(a,u,x){return M(this,a,u,x,!1)},r.prototype.write=function(a,u,x,U){if(void 0===u)U="utf8",x=this.length,u=0;else if(void 0===x&&"string"==typeof u)U=u,x=this.length,u=0;else{if(!isFinite(u))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");u>>>=0,isFinite(x)?(x>>>=0,void 0===U&&(U="utf8")):(U=x,x=void 0)}var $=this.length-u;if((void 0===x||x>$)&&(x=$),a.length>0&&(x<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var ee=!1;;)switch(U){case"hex":return f(this,a,u,x);case"utf8":case"utf-8":return _(this,a,u,x);case"ascii":return w(this,a,u,x);case"latin1":case"binary":return B(this,a,u,x);case"base64":return K(this,a,u,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,a,u,x);default:if(ee)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),ee=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function Z(h,a,u){var x="";u=Math.min(h.length,u);for(var U=a;U<u;++U)x+=String.fromCharCode(127&h[U]);return x}function ie(h,a,u){var x="";u=Math.min(h.length,u);for(var U=a;U<u;++U)x+=String.fromCharCode(h[U]);return x}function re(h,a,u){var x=h.length;(!a||a<0)&&(a=0),(!u||u<0||u>x)&&(u=x);for(var U="",$=a;$<u;++$)U+=Y(h[$]);return U}function W(h,a,u){for(var x=h.slice(a,u),U="",$=0;$<x.length;$+=2)U+=String.fromCharCode(x[$]+256*x[$+1]);return U}function V(h,a,u){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+a>u)throw new RangeError("Trying to access beyond buffer length")}function te(h,a,u,x,U,$){if(!r.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>U||a<$)throw new RangeError('"value" argument is out of bounds');if(u+x>h.length)throw new RangeError("Index out of range")}function J(h,a,u,x,U,$){if(u+x>h.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function se(h,a,u,x,U){return a=+a,u>>>=0,U||J(h,0,u,4),g.write(h,a,u,x,23,4),u+4}function ne(h,a,u,x,U){return a=+a,u>>>=0,U||J(h,0,u,8),g.write(h,a,u,x,52,8),u+8}r.prototype.slice=function(a,u){var x=this.length;(a=~~a)<0?(a+=x)<0&&(a=0):a>x&&(a=x),(u=void 0===u?x:~~u)<0?(u+=x)<0&&(u=0):u>x&&(u=x),u<a&&(u=a);var U=this.subarray(a,u);return U.__proto__=r.prototype,U},r.prototype.readUIntLE=function(a,u,x){a>>>=0,u>>>=0,x||V(a,u,this.length);for(var U=this[a],$=1,ee=0;++ee<u&&($*=256);)U+=this[a+ee]*$;return U},r.prototype.readUIntBE=function(a,u,x){a>>>=0,u>>>=0,x||V(a,u,this.length);for(var U=this[a+--u],$=1;u>0&&($*=256);)U+=this[a+--u]*$;return U},r.prototype.readUInt8=function(a,u){return a>>>=0,u||V(a,1,this.length),this[a]},r.prototype.readUInt16LE=function(a,u){return a>>>=0,u||V(a,2,this.length),this[a]|this[a+1]<<8},r.prototype.readUInt16BE=function(a,u){return a>>>=0,u||V(a,2,this.length),this[a]<<8|this[a+1]},r.prototype.readUInt32LE=function(a,u){return a>>>=0,u||V(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},r.prototype.readUInt32BE=function(a,u){return a>>>=0,u||V(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},r.prototype.readIntLE=function(a,u,x){a>>>=0,u>>>=0,x||V(a,u,this.length);for(var U=this[a],$=1,ee=0;++ee<u&&($*=256);)U+=this[a+ee]*$;return U>=($*=128)&&(U-=Math.pow(2,8*u)),U},r.prototype.readIntBE=function(a,u,x){a>>>=0,u>>>=0,x||V(a,u,this.length);for(var U=u,$=1,ee=this[a+--U];U>0&&($*=256);)ee+=this[a+--U]*$;return ee>=($*=128)&&(ee-=Math.pow(2,8*u)),ee},r.prototype.readInt8=function(a,u){return a>>>=0,u||V(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},r.prototype.readInt16LE=function(a,u){a>>>=0,u||V(a,2,this.length);var x=this[a]|this[a+1]<<8;return 32768&x?4294901760|x:x},r.prototype.readInt16BE=function(a,u){a>>>=0,u||V(a,2,this.length);var x=this[a+1]|this[a]<<8;return 32768&x?4294901760|x:x},r.prototype.readInt32LE=function(a,u){return a>>>=0,u||V(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},r.prototype.readInt32BE=function(a,u){return a>>>=0,u||V(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},r.prototype.readFloatLE=function(a,u){return a>>>=0,u||V(a,4,this.length),g.read(this,a,!0,23,4)},r.prototype.readFloatBE=function(a,u){return a>>>=0,u||V(a,4,this.length),g.read(this,a,!1,23,4)},r.prototype.readDoubleLE=function(a,u){return a>>>=0,u||V(a,8,this.length),g.read(this,a,!0,52,8)},r.prototype.readDoubleBE=function(a,u){return a>>>=0,u||V(a,8,this.length),g.read(this,a,!1,52,8)},r.prototype.writeUIntLE=function(a,u,x,U){a=+a,u>>>=0,x>>>=0,U||te(this,a,u,x,Math.pow(2,8*x)-1,0);var ee=1,ae=0;for(this[u]=255&a;++ae<x&&(ee*=256);)this[u+ae]=a/ee&255;return u+x},r.prototype.writeUIntBE=function(a,u,x,U){a=+a,u>>>=0,x>>>=0,U||te(this,a,u,x,Math.pow(2,8*x)-1,0);var ee=x-1,ae=1;for(this[u+ee]=255&a;--ee>=0&&(ae*=256);)this[u+ee]=a/ae&255;return u+x},r.prototype.writeUInt8=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,1,255,0),this[u]=255&a,u+1},r.prototype.writeUInt16LE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,2,65535,0),this[u]=255&a,this[u+1]=a>>>8,u+2},r.prototype.writeUInt16BE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,2,65535,0),this[u]=a>>>8,this[u+1]=255&a,u+2},r.prototype.writeUInt32LE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,4,4294967295,0),this[u+3]=a>>>24,this[u+2]=a>>>16,this[u+1]=a>>>8,this[u]=255&a,u+4},r.prototype.writeUInt32BE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,4,4294967295,0),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=255&a,u+4},r.prototype.writeIntLE=function(a,u,x,U){if(a=+a,u>>>=0,!U){var $=Math.pow(2,8*x-1);te(this,a,u,x,$-1,-$)}var ee=0,ae=1,le=0;for(this[u]=255&a;++ee<x&&(ae*=256);)a<0&&0===le&&0!==this[u+ee-1]&&(le=1),this[u+ee]=(a/ae>>0)-le&255;return u+x},r.prototype.writeIntBE=function(a,u,x,U){if(a=+a,u>>>=0,!U){var $=Math.pow(2,8*x-1);te(this,a,u,x,$-1,-$)}var ee=x-1,ae=1,le=0;for(this[u+ee]=255&a;--ee>=0&&(ae*=256);)a<0&&0===le&&0!==this[u+ee+1]&&(le=1),this[u+ee]=(a/ae>>0)-le&255;return u+x},r.prototype.writeInt8=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,1,127,-128),a<0&&(a=255+a+1),this[u]=255&a,u+1},r.prototype.writeInt16LE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,2,32767,-32768),this[u]=255&a,this[u+1]=a>>>8,u+2},r.prototype.writeInt16BE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,2,32767,-32768),this[u]=a>>>8,this[u+1]=255&a,u+2},r.prototype.writeInt32LE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,4,2147483647,-2147483648),this[u]=255&a,this[u+1]=a>>>8,this[u+2]=a>>>16,this[u+3]=a>>>24,u+4},r.prototype.writeInt32BE=function(a,u,x){return a=+a,u>>>=0,x||te(this,a,u,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=255&a,u+4},r.prototype.writeFloatLE=function(a,u,x){return se(this,a,u,!0,x)},r.prototype.writeFloatBE=function(a,u,x){return se(this,a,u,!1,x)},r.prototype.writeDoubleLE=function(a,u,x){return ne(this,a,u,!0,x)},r.prototype.writeDoubleBE=function(a,u,x){return ne(this,a,u,!1,x)},r.prototype.copy=function(a,u,x,U){if(!r.isBuffer(a))throw new TypeError("argument should be a Buffer");if(x||(x=0),!U&&0!==U&&(U=this.length),u>=a.length&&(u=a.length),u||(u=0),U>0&&U<x&&(U=x),U===x||0===a.length||0===this.length)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),a.length-u<U-x&&(U=a.length-u+x);var $=U-x;if(this===a&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(u,x,U);else if(this===a&&x<u&&u<U)for(var ee=$-1;ee>=0;--ee)a[ee+u]=this[ee+x];else Uint8Array.prototype.set.call(a,this.subarray(x,U),u);return $},r.prototype.fill=function(a,u,x,U){if("string"==typeof a){if("string"==typeof u?(U=u,u=0,x=this.length):"string"==typeof x&&(U=x,x=this.length),void 0!==U&&"string"!=typeof U)throw new TypeError("encoding must be a string");if("string"==typeof U&&!r.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(1===a.length){var $=a.charCodeAt(0);("utf8"===U&&$<128||"latin1"===U)&&(a=$)}}else"number"==typeof a&&(a&=255);if(u<0||this.length<u||this.length<x)throw new RangeError("Out of range index");if(x<=u)return this;var ee;if(u>>>=0,x=void 0===x?this.length:x>>>0,a||(a=0),"number"==typeof a)for(ee=u;ee<x;++ee)this[ee]=a;else{var ae=r.isBuffer(a)?a:r.from(a,U),le=ae.length;if(0===le)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(ee=0;ee<x-u;++ee)this[ee+u]=ae[ee%le]}return this};var N=/[^+/0-9A-Za-z-_]/g;function Y(h){return h<16?"0"+h.toString(16):h.toString(16)}function oe(h,a){a=a||1/0;for(var u,x=h.length,U=null,$=[],ee=0;ee<x;++ee){if((u=h.charCodeAt(ee))>55295&&u<57344){if(!U){if(u>56319){(a-=3)>-1&&$.push(239,191,189);continue}if(ee+1===x){(a-=3)>-1&&$.push(239,191,189);continue}U=u;continue}if(u<56320){(a-=3)>-1&&$.push(239,191,189),U=u;continue}u=65536+(U-55296<<10|u-56320)}else U&&(a-=3)>-1&&$.push(239,191,189);if(U=null,u<128){if((a-=1)<0)break;$.push(u)}else if(u<2048){if((a-=2)<0)break;$.push(u>>6|192,63&u|128)}else if(u<65536){if((a-=3)<0)break;$.push(u>>12|224,u>>6&63|128,63&u|128)}else{if(!(u<1114112))throw new Error("Invalid code point");if((a-=4)<0)break;$.push(u>>18|240,u>>12&63|128,u>>6&63|128,63&u|128)}}return $}function F(h){return v.toByteArray(function(h){if((h=(h=h.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(h))}function G(h,a,u,x){for(var U=0;U<x&&!(U+u>=a.length||U>=h.length);++U)a[U+u]=h[U];return U}function X(h,a){return h instanceof a||null!=h&&null!=h.constructor&&null!=h.constructor.name&&h.constructor.name===a.name}function C(h){return h!=h}}).call(this)}).call(this,A("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(A,H,j){(function(m){(function(){j.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+H.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let c=0,s=0;e[0].replace(/%[a-zA-Z%]/g,p=>{"%%"!==p&&(c++,"%c"===p&&(s=c))}),e.splice(s,0,n)},j.save=function(e){try{e?j.storage.setItem("debug",e):j.storage.removeItem("debug")}catch(n){}},j.load=function(){let e;try{e=j.storage.getItem("debug")}catch(n){}return!e&&void 0!==m&&"env"in m&&(e=m.env.DEBUG),e},j.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},j.storage=function(){try{return localStorage}catch(e){}}(),j.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),j.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],j.log=console.debug||console.log||(()=>{}),H.exports=A("./common")(j);const{formatters:r}=H.exports;r.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}).call(this)}).call(this,A("_process"))},{"./common":19,_process:50}],19:[function(A,H,j){H.exports=function(v){function d(p){let y,i,b,l=null;function E(...S){if(!E.enabled)return;const I=E,R=Number(new Date);I.diff=R-(y||R),I.prev=y,I.curr=R,y=R,S[0]=d.coerce(S[0]),"string"!=typeof S[0]&&S.unshift("%O");let q=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(_,w)=>{if("%%"===_)return"%";q++;const B=d.formatters[w];return"function"==typeof B&&(_=B.call(I,S[q]),S.splice(q,1),q--),_}),d.formatArgs.call(I,S),(I.log||d.log).apply(I,S)}return E.namespace=p,E.useColors=d.useColors(),E.color=d.selectColor(p),E.extend=o,E.destroy=d.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==l?l:(i!==d.namespaces&&(i=d.namespaces,b=d.enabled(p)),b),set:S=>{l=S}}),"function"==typeof d.init&&d.init(E),E}function o(p,y){const l=d(this.namespace+(void 0===y?":":y)+p);return l.log=this.log,l}function n(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}return d.debug=d,d.default=d,d.coerce=function(p){return p instanceof Error?p.stack||p.message:p},d.disable=function(){const p=[...d.names.map(n),...d.skips.map(n).map(y=>"-"+y)].join(",");return d.enable(""),p},d.enable=function(p){let y;d.save(p),d.namespaces=p,d.names=[],d.skips=[];const l=("string"==typeof p?p:"").split(/[\s,]+/),i=l.length;for(y=0;y<i;y++)!l[y]||("-"===(p=l[y].replace(/\*/g,".*?"))[0]?d.skips.push(new RegExp("^"+p.substr(1)+"$")):d.names.push(new RegExp("^"+p+"$")))},d.enabled=function(p){if("*"===p[p.length-1])return!0;let y,l;for(y=0,l=d.skips.length;y<l;y++)if(d.skips[y].test(p))return!1;for(y=0,l=d.names.length;y<l;y++)if(d.names[y].test(p))return!0;return!1},d.humanize=A("ms"),d.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(v).forEach(p=>{d[p]=v[p]}),d.names=[],d.skips=[],d.formatters={},d.selectColor=function(p){let y=0;for(let l=0;l<p.length;l++)y=(y<<5)-y+p.charCodeAt(l),y|=0;return d.colors[Math.abs(y)%d.colors.length]},d.enable(d.load()),d}},{ms:45}],20:[function(A,H,j){(function(m,v){(function(){var g=A("readable-stream"),d=A("end-of-stream"),o=A("inherits"),t=A("stream-shift"),r=v.from&&v.from!==Uint8Array.from?v.from([0]):new v([0]),e=function(i,b){i._corked?i.once("uncork",b):b()},c=function(i,b){return function(E){E?function(i,b){i._autoDestroy&&i.destroy(b)}(i,"premature close"===E.message?null:E):b&&!i._ended&&i.end()}},p=function(){},l=function(i,b,E){if(!(this instanceof l))return new l(i,b,E);g.Duplex.call(this,E),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!E||!1!==E.autoDestroy,this._forwardDestroy=!E||!1!==E.destroy,this._forwardEnd=!E||!1!==E.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,i&&this.setWritable(i),b&&this.setReadable(b)};o(l,g.Duplex),l.obj=function(i,b,E){return E||(E={}),E.objectMode=!0,E.highWaterMark=16,new l(i,b,E)},l.prototype.cork=function(){1==++this._corked&&this.emit("cork")},l.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},l.prototype.setWritable=function(i){if(this._unwrite&&this._unwrite(),this.destroyed)i&&i.destroy&&i.destroy();else if(null!==i&&!1!==i){var b=this,E=d(i,{writable:!0,readable:!1},c(this,this._forwardEnd)),S=function(){var R=b._ondrain;b._ondrain=null,R&&R()};this._unwrite&&m.nextTick(S),this._writable=i,this._writable.on("drain",S),this._unwrite=function(){b._writable.removeListener("drain",S),E()},this.uncork()}else this.end()},l.prototype.setReadable=function(i){if(this._unread&&this._unread(),this.destroyed)i&&i.destroy&&i.destroy();else{if(null===i||!1===i)return this.push(null),void this.resume();var b=this,E=d(i,{writable:!1,readable:!0},c(this)),S=function(){b._forward()},I=function(){b.push(null)};this._drained=!0,this._readable=i,this._readable2=i._readableState?i:function(i){return new g.Readable({objectMode:!0,highWaterMark:16}).wrap(i)}(i),this._readable2.on("readable",S),this._readable2.on("end",I),this._unread=function(){b._readable2.removeListener("readable",S),b._readable2.removeListener("end",I),E()},this._forward()}},l.prototype._read=function(){this._drained=!0,this._forward()},l.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var i;this._drained&&null!==(i=t(this._readable2));)this.destroyed||(this._drained=this.push(i));this._forwarding=!1}},l.prototype.destroy=function(i,b){if(b||(b=p),this.destroyed)return b(null);this.destroyed=!0;var E=this;m.nextTick(function(){E._destroy(i),b(null)})},l.prototype._destroy=function(i){if(i){var b=this._ondrain;this._ondrain=null,b?b(i):this.emit("error",i)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},l.prototype._write=function(i,b,E){if(!this.destroyed){if(this._corked)return e(this,this._write.bind(this,i,b,E));if(i===r)return this._finish(E);if(!this._writable)return E();!1===this._writable.write(i)?this._ondrain=E:this.destroyed||E()}},l.prototype._finish=function(i){var b=this;this.emit("preend"),e(this,function(){!function(i,b){!i||i._writableState&&i._writableState.finished?b():i._writableState?i.end(b):(i.end(),b())}(b._forwardEnd&&b._writable,function(){!1===b._writableState.prefinished&&(b._writableState.prefinished=!0),b.emit("prefinish"),e(b,i)})})},l.prototype.end=function(i,b,E){return"function"==typeof i?this.end(null,null,i):"function"==typeof b?this.end(i,null,b):(this._ended=!0,i&&this.write(i),!this._writableState.ending&&!this._writableState.destroyed&&this.write(r),g.Writable.prototype.end.call(this,E))},H.exports=l}).call(this)}).call(this,A("_process"),A("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(A,H,j){(function(m){(function(){var v=A("once"),g=function(){},t=function(r,e,n){if("function"==typeof e)return t(r,null,e);e||(e={}),n=v(n||g);var c=r._writableState,s=r._readableState,p=e.readable||!1!==e.readable&&r.readable,y=e.writable||!1!==e.writable&&r.writable,l=!1,i=function(){r.writable||b()},b=function(){y=!1,p||n.call(r)},E=function(){p=!1,y||n.call(r)},S=function(f){n.call(r,f?new Error("exited with error code: "+f):null)},I=function(f){n.call(r,f)},R=function(){m.nextTick(M)},M=function(){if(!l){if(p&&(!s||!s.ended||s.destroyed))return n.call(r,new Error("premature close"));if(y&&(!c||!c.ended||c.destroyed))return n.call(r,new Error("premature close"))}},q=function(){r.req.on("finish",b)};return function(r){return r.setHeader&&"function"==typeof r.abort}(r)?(r.on("complete",b),r.on("abort",R),r.req?q():r.on("request",q)):y&&!c&&(r.on("end",i),r.on("close",i)),function(r){return r.stdio&&Array.isArray(r.stdio)&&3===r.stdio.length}(r)&&r.on("exit",S),r.on("end",E),r.on("finish",b),!1!==e.error&&r.on("error",I),r.on("close",R),function(){l=!0,r.removeListener("complete",b),r.removeListener("abort",R),r.removeListener("request",q),r.req&&r.req.removeListener("finish",b),r.removeListener("end",i),r.removeListener("close",i),r.removeListener("finish",b),r.removeListener("exit",S),r.removeListener("end",E),r.removeListener("error",I),r.removeListener("close",R)}};H.exports=t}).call(this)}).call(this,A("_process"))},{_process:50,once:48}],22:[function(A,H,j){var m=Object.create||function(w){var B=function(){};return B.prototype=w,new B},v=Object.keys||function(w){var B=[];for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&B.push(K);return K},g=Function.prototype.bind||function(w){var B=this;return function(){return B.apply(w,arguments)}};function d(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=m(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}H.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0;var t,o=10;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),t=0===r.x}catch(w){t=!1}function e(w){return void 0===w._maxListeners?d.defaultMaxListeners:w._maxListeners}function n(w,B,K){if(B)w.call(K);else for(var Q=w.length,z=R(w,Q),T=0;T<Q;++T)z[T].call(K)}function c(w,B,K,Q){if(B)w.call(K,Q);else for(var z=w.length,T=R(w,z),k=0;k<z;++k)T[k].call(K,Q)}function s(w,B,K,Q,z){if(B)w.call(K,Q,z);else for(var T=w.length,k=R(w,T),D=0;D<T;++D)k[D].call(K,Q,z)}function p(w,B,K,Q,z,T){if(B)w.call(K,Q,z,T);else for(var k=w.length,D=R(w,k),Z=0;Z<k;++Z)D[Z].call(K,Q,z,T)}function y(w,B,K,Q){if(B)w.apply(K,Q);else for(var z=w.length,T=R(w,z),k=0;k<z;++k)T[k].apply(K,Q)}function l(w,B,K,Q){var z,T,k;if("function"!=typeof K)throw new TypeError('"listener" argument must be a function');if((T=w._events)?(T.newListener&&(w.emit("newListener",B,K.listener?K.listener:K),T=w._events),k=T[B]):(T=w._events=m(null),w._eventsCount=0),k){if("function"==typeof k?k=T[B]=Q?[K,k]:[k,K]:Q?k.unshift(K):k.push(K),!k.warned&&(z=e(w))&&z>0&&k.length>z){k.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+k.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');D.name="MaxListenersExceededWarning",D.emitter=w,D.type=B,D.count=k.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",D.name,D.message)}}else k=T[B]=K,++w._eventsCount;return w}function i(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var w=new Array(arguments.length),B=0;B<w.length;++B)w[B]=arguments[B];this.listener.apply(this.target,w)}}function b(w,B,K){var Q={fired:!1,wrapFn:void 0,target:w,type:B,listener:K},z=g.call(i,Q);return z.listener=K,Q.wrapFn=z,z}function E(w,B,K){var Q=w._events;if(!Q)return[];var z=Q[B];return z?"function"==typeof z?K?[z.listener||z]:[z]:K?function(w){for(var B=new Array(w.length),K=0;K<B.length;++K)B[K]=w[K].listener||w[K];return B}(z):R(z,z.length):[]}function S(w){var B=this._events;if(B){var K=B[w];if("function"==typeof K)return 1;if(K)return K.length}return 0}function R(w,B){for(var K=new Array(B),Q=0;Q<B;++Q)K[Q]=w[Q];return K}t?Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(w){if("number"!=typeof w||w<0||w!=w)throw new TypeError('"defaultMaxListeners" must be a positive number');o=w}}):d.defaultMaxListeners=o,d.prototype.setMaxListeners=function(B){if("number"!=typeof B||B<0||isNaN(B))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=B,this},d.prototype.getMaxListeners=function(){return e(this)},d.prototype.emit=function(B){var K,Q,z,T,k,D,Z="error"===B;if(D=this._events)Z=Z&&null==D.error;else if(!Z)return!1;if(Z){if(arguments.length>1&&(K=arguments[1]),K instanceof Error)throw K;var ie=new Error('Unhandled "error" event. ('+K+")");throw ie.context=K,ie}if(!(Q=D[B]))return!1;var re="function"==typeof Q;switch(z=arguments.length){case 1:n(Q,re,this);break;case 2:c(Q,re,this,arguments[1]);break;case 3:s(Q,re,this,arguments[1],arguments[2]);break;case 4:p(Q,re,this,arguments[1],arguments[2],arguments[3]);break;default:for(T=new Array(z-1),k=1;k<z;k++)T[k-1]=arguments[k];y(Q,re,this,T)}return!0},d.prototype.on=d.prototype.addListener=function(B,K){return l(this,B,K,!1)},d.prototype.prependListener=function(B,K){return l(this,B,K,!0)},d.prototype.once=function(B,K){if("function"!=typeof K)throw new TypeError('"listener" argument must be a function');return this.on(B,b(this,B,K)),this},d.prototype.prependOnceListener=function(B,K){if("function"!=typeof K)throw new TypeError('"listener" argument must be a function');return this.prependListener(B,b(this,B,K)),this},d.prototype.removeListener=function(B,K){var Q,z,T,k,D;if("function"!=typeof K)throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(Q=z[B]))return this;if(Q===K||Q.listener===K)0==--this._eventsCount?this._events=m(null):(delete z[B],z.removeListener&&this.emit("removeListener",B,Q.listener||K));else if("function"!=typeof Q){for(T=-1,k=Q.length-1;k>=0;k--)if(Q[k]===K||Q[k].listener===K){D=Q[k].listener,T=k;break}if(T<0)return this;0===T?Q.shift():function(w,B){for(var K=B,Q=K+1,z=w.length;Q<z;K+=1,Q+=1)w[K]=w[Q];w.pop()}(Q,T),1===Q.length&&(z[B]=Q[0]),z.removeListener&&this.emit("removeListener",B,D||K)}return this},d.prototype.removeAllListeners=function(B){var K,Q,z;if(!(Q=this._events))return this;if(!Q.removeListener)return 0===arguments.length?(this._events=m(null),this._eventsCount=0):Q[B]&&(0==--this._eventsCount?this._events=m(null):delete Q[B]),this;if(0===arguments.length){var k,T=v(Q);for(z=0;z<T.length;++z)"removeListener"!==(k=T[z])&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=m(null),this._eventsCount=0,this}if("function"==typeof(K=Q[B]))this.removeListener(B,K);else if(K)for(z=K.length-1;z>=0;z--)this.removeListener(B,K[z]);return this},d.prototype.listeners=function(B){return E(this,B,!0)},d.prototype.rawListeners=function(B){return E(this,B,!1)},d.listenerCount=function(w,B){return"function"==typeof w.listenerCount?w.listenerCount(B):S.call(w,B)},d.prototype.listenerCount=S,d.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(A,H,j){j.read=function(m,v,g,d,o){var t,r,e=8*o-d-1,n=(1<<e)-1,c=n>>1,s=-7,p=g?o-1:0,y=g?-1:1,l=m[v+p];for(p+=y,t=l&(1<<-s)-1,l>>=-s,s+=e;s>0;t=256*t+m[v+p],p+=y,s-=8);for(r=t&(1<<-s)-1,t>>=-s,s+=d;s>0;r=256*r+m[v+p],p+=y,s-=8);if(0===t)t=1-c;else{if(t===n)return r?NaN:1/0*(l?-1:1);r+=Math.pow(2,d),t-=c}return(l?-1:1)*r*Math.pow(2,t-d)},j.write=function(m,v,g,d,o,t){var r,e,n,c=8*t-o-1,s=(1<<c)-1,p=s>>1,y=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=d?0:t-1,i=d?1:-1,b=v<0||0===v&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(e=isNaN(v)?1:0,r=s):(r=Math.floor(Math.log(v)/Math.LN2),v*(n=Math.pow(2,-r))<1&&(r--,n*=2),(v+=r+p>=1?y/n:y*Math.pow(2,1-p))*n>=2&&(r++,n/=2),r+p>=s?(e=0,r=s):r+p>=1?(e=(v*n-1)*Math.pow(2,o),r+=p):(e=v*Math.pow(2,p-1)*Math.pow(2,o),r=0));o>=8;m[g+l]=255&e,l+=i,e/=256,o-=8);for(r=r<<o|e,c+=o;c>0;m[g+l]=255&r,l+=i,r/=256,c-=8);m[g+l-i]|=128*b}},{}],24:[function(A,H,j){H.exports="function"==typeof Object.create?function(v,g){g&&(v.super_=g,v.prototype=Object.create(g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}))}:function(v,g){if(g){v.super_=g;var d=function(){};d.prototype=g.prototype,v.prototype=new d,v.prototype.constructor=v}}},{}],25:[function(A,H,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var m=function(){function v(g,d){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=g,this.value=d}return v.prototype.rotateLeft=function(){var g=this.parent,d=this.brother,o=this.leftChild,t=this.rightChild;if(!t)throw new Error("unknown error");var r=t.leftChild,e=t.rightChild;return g&&(g.leftChild===this?g.leftChild=t:g.rightChild===this&&(g.rightChild=t)),t.parent=g,t.brother=d,t.leftChild=this,t.rightChild=e,d&&(d.brother=t),this.parent=t,this.brother=e,this.leftChild=o,this.rightChild=r,e&&(e.parent=t,e.brother=this),o&&(o.parent=this,o.brother=r),r&&(r.parent=this,r.brother=o),t},v.prototype.rotateRight=function(){var g=this.parent,d=this.brother,o=this.leftChild;if(!o)throw new Error("unknown error");var t=this.rightChild,r=o.leftChild,e=o.rightChild;return g&&(g.leftChild===this?g.leftChild=o:g.rightChild===this&&(g.rightChild=o)),o.parent=g,o.brother=d,o.leftChild=r,o.rightChild=this,d&&(d.brother=o),r&&(r.parent=o,r.brother=this),this.parent=o,this.brother=r,this.leftChild=e,this.rightChild=t,e&&(e.parent=this,e.brother=t),t&&(t.parent=this,t.brother=e),o},v.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},v.TreeNodeColorType={red:!0,black:!1},v}();Object.freeze(m),j.default=m},{}],26:[function(A,H,j){"use strict";var m=this&&this.__generator||function(g,d){var t,r,e,n,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return n={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function c(p){return function(y){return function(p){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(e=2&p[0]?r.return:p[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,p[1])).done)return e;switch(r=0,e&&(p=[2&p[0],e.value]),p[0]){case 0:case 1:e=p;break;case 4:return o.label++,{value:p[1],done:!1};case 5:o.label++,r=p[1],p=[0];continue;case 7:p=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===p[0]||2===p[0])){o=0;continue}if(3===p[0]&&(!e||p[1]>e[0]&&p[1]<e[3])){o.label=p[1];break}if(6===p[0]&&o.label<e[1]){o.label=e[1],e=p;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(p);break}e[2]&&o.ops.pop(),o.trys.pop();continue}p=d.call(g,o)}catch(y){p=[6,y],r=0}finally{t=e=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,y])}}};function v(g){var d=this;void 0===g&&(g=[]);var o=[],t=0,r=0,e=0,n=0,c=0,s=0;this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){t=e=r=n=c=s=0,y.call(this,v.bucketSize),s=0},this.front=function(){return o[t][r]},this.back=function(){return o[e][n]},this.forEach=function(l){if(!this.empty()){var i=0;if(t===e){for(var b=r;b<=n;++b)l(o[t][b],i++);return}for(b=r;b<v.bucketSize;++b)l(o[t][b],i++);for(b=t+1;b<e;++b)for(var E=0;E<v.bucketSize;++E)l(o[b][E],i++);for(b=0;b<=n;++b)l(o[e][b],i++)}};var p=function(l){var i=t*v.bucketSize+r,b=i+l;if(b<i||b>e*v.bucketSize+n)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(b/v.bucketSize),curNodePointerIndex:b%v.bucketSize}};this.getElementByPos=function(l){var i=p(l);return o[i.curNodeBucketIndex][i.curNodePointerIndex]},this.eraseElementByPos=function(l){var i=this;if(l<0||l>s)throw new Error("pos should more than 0 and less than queue's size");if(0===l)this.popFront();else if(l===this.size())this.popBack();else{for(var b=[],E=l+1;E<s;++E)b.push(this.getElementByPos(E));this.cut(l),this.popBack(),b.forEach(function(S){return i.pushBack(S)})}},this.eraseElementByValue=function(l){if(!this.empty()){var i=[];this.forEach(function(S){S!==l&&i.push(S)});for(var b=i.length,E=0;E<b;++E)this.setElementByPos(E,i[E]);this.cut(b-1)}};var y=function(l){for(var i=[],E=Math.max(Math.ceil(l*v.sigma/v.bucketSize),2),S=0;S<E;++S)i.push(new Array(v.bucketSize));var I=Math.ceil(l/v.bucketSize),R=Math.floor(E/2)-Math.floor(I/2),M=R,q=0;if(this.size())for(S=0;S<I;++S){for(var f=0;f<v.bucketSize;++f)if(i[R+S][f]=this.front(),this.popFront(),this.empty()){M=R+S,q=f;break}if(this.empty())break}o=i,t=R,r=0,e=M,n=q,c=E,s=l};this.pushBack=function(l){this.empty()||(e===c-1&&n===v.bucketSize-1&&y.call(this,this.size()),n<v.bucketSize-1?++n:e<c-1&&(++e,n=0)),++s,o[e][n]=l},this.popBack=function(){this.empty()||(1!==this.size()&&(n>0?--n:t<e&&(--e,n=v.bucketSize-1)),s>0&&--s)},this.setElementByPos=function(l,i){var b=p(l);o[b.curNodeBucketIndex][b.curNodePointerIndex]=i},this.insert=function(l,i,b){var E=this;if(void 0===b&&(b=1),0===l)for(;b--;)this.pushFront(i);else if(l===this.size())for(;b--;)this.pushBack(i);else{for(var S=[],I=l;I<s;++I)S.push(this.getElementByPos(I));for(this.cut(l-1),I=0;I<b;++I)this.pushBack(i);S.forEach(function(R){return E.pushBack(R)})}},this.find=function(l){if(t===e){for(var i=r;i<=n;++i)if(o[t][i]===l)return!0;return!1}for(i=r;i<v.bucketSize;++i)if(o[t][i]===l)return!0;for(i=t+1;i<e;++i)for(var b=0;b<v.bucketSize;++b)if(o[i][b]===l)return!0;for(i=0;i<=n;++i)if(o[e][i]===l)return!0;return!1},this.reverse=function(){for(var l=0,i=s-1;l<i;){var b=this.getElementByPos(l);this.setElementByPos(l,this.getElementByPos(i)),this.setElementByPos(i,b),++l,--i}},this.unique=function(){if(!this.empty()){var l=[],i=this.front();this.forEach(function(E,S){(0===S||E!==i)&&(l.push(E),i=E)});for(var b=0;b<s;++b)this.setElementByPos(b,l[b]);this.cut(l.length-1)}},this.sort=function(l){var i=[];this.forEach(function(E){i.push(E)}),i.sort(l);for(var b=0;b<s;++b)this.setElementByPos(b,i[b])},this.pushFront=function(l){this.empty()||(0===t&&0===r&&y.call(this,this.size()),r>0?--r:t>0&&(--t,r=v.bucketSize-1)),++s,o[t][r]=l},this.popFront=function(){this.empty()||(1!==this.size()&&(r<v.bucketSize-1?++r:t<e&&(++t,r=0)),s>0&&--s)},this.shrinkToFit=function(){var l=this,i=[];this.forEach(function(I){i.push(I)}),o=[];for(var E=Math.ceil(i.length/v.bucketSize),S=0;S<E;++S)o.push(new Array(v.bucketSize));this.clear(),i.forEach(function(I){return l.pushBack(I)})},this.cut=function(l){if(l<0)this.clear();else{var i=p(l);e=i.curNodeBucketIndex,n=i.curNodePointerIndex,s=l+1}},this[Symbol.iterator]=function(){return function(){var i,l;return m(this,function(b){switch(b.label){case 0:if(0===s)return[2];if(t!==e)return[3,5];l=r,b.label=1;case 1:return l<=n?[4,o[t][l]]:[3,4];case 2:b.sent(),b.label=3;case 3:return++l,[3,1];case 4:return[2];case 5:l=r,b.label=6;case 6:return l<v.bucketSize?[4,o[t][l]]:[3,9];case 7:b.sent(),b.label=8;case 8:return++l,[3,6];case 9:l=t+1,b.label=10;case 10:if(!(l<e))return[3,15];i=0,b.label=11;case 11:return i<v.bucketSize?[4,o[l][i]]:[3,14];case 12:b.sent(),b.label=13;case 13:return++i,[3,11];case 14:return++l,[3,10];case 15:l=0,b.label=16;case 16:return l<=n?[4,o[e][l]]:[3,19];case 17:b.sent(),b.label=18;case 18:return++l,[3,16];case 19:return[2]}})}()},function(){var l=v.bucketSize;g.size?l=g.size():g.length&&(l=g.length),c=Math.ceil(l*v.sigma/v.bucketSize),c=Math.max(c,3);for(var b=0;b<c;++b)o.push(new Array(v.bucketSize));var E=Math.ceil(l/v.bucketSize);t=Math.floor(c/2)-Math.floor(E/2),e=t,g.forEach(function(S){return d.pushBack(S)})}(),Object.freeze(this)}Object.defineProperty(j,"__esModule",{value:!0}),v.sigma=3,v.bucketSize=5e3,Object.freeze(v),j.default=v},{}],27:[function(A,H,j){"use strict";var m=this&&this.__generator||function(t,r){var n,c,s,p,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function y(i){return function(b){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,c&&(s=2&i[0]?c.return:i[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,i[1])).done)return s;switch(c=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,c=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){e=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){e.label=i[1];break}if(6===i[0]&&e.label<s[1]){e.label=s[1],s=i;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(i);break}s[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(b){i=[6,b],c=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,b])}}},v=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(j,"__esModule",{value:!0});var g=A("../LinkList/LinkList"),d=A("../Map/Map");function o(t,r,e){var n=this;if(void 0===t&&(t=[]),void 0===r&&(r=o.initSize),e=e||function(l){var i,b,E=0,S="";if("number"==typeof l)E=((E=Math.floor(l))<<5)-E,E&=E;else{S="string"!=typeof l?JSON.stringify(l):l;try{for(var I=v(S),R=I.next();!R.done;R=I.next())E=(E<<5)-E+R.value.charCodeAt(0),E&=E}catch(f){i={error:f}}finally{try{R&&!R.done&&(b=I.return)&&b.call(I)}finally{if(i)throw i.error}}}return E^E>>>16},0!=(r&r-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,s=[],p=Math.max(o.initSize,Math.min(o.maxSize,r));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,p=r,s=[]},this.forEach=function(l){var i=0;s.forEach(function(b){b.forEach(function(E){l(E,i++)})})};var y=function(l){if(!(l>=o.maxSize)){p=2*l;var i=[];s.forEach(function(b,E){if(!b.empty()){if(b instanceof g.default&&1===b.size()){var S=b.front(),I=S.key,R=S.value;i[e(I)&p-1]=new g.default([{key:I,value:R}])}else if(b instanceof d.default){var M=new g.default,q=new g.default;b.forEach(function(w){0==(e(w.key)&l)?M.pushBack(w):q.pushBack(w)}),M.size()>o.untreeifyThreshold?i[E]=new d.default(M):M.size()&&(i[E]=M),q.size()>o.untreeifyThreshold?i[E+l]=new d.default(q):q.size()&&(i[E+l]=q)}else{var f=new g.default,_=new g.default;b.forEach(function(w){0==(e(w.key)&l)?f.pushBack(w):_.pushBack(w)}),f.size()&&(i[E]=f),_.size()&&(i[E+l]=_)}s[E].clear()}}),s=i}};this.setElement=function(l,i){var b,E;if(null==l)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!=i){var S=e(l)&p-1;if(s[S]){var I=s[S].size();if(s[S]instanceof g.default){try{for(var R=v(s[S]),M=R.next();!M.done;M=R.next()){var q=M.value;if(q.key===l)return void(q.value=i)}}catch(_){b={error:_}}finally{try{M&&!M.done&&(E=R.return)&&E.call(R)}finally{if(b)throw b.error}}s[S].pushBack({key:l,value:i}),s[S].size()>=o.treeifyThreshold&&(s[S]=new d.default(s[S]))}else s[S].setElement(l,i);var f=s[S].size();c+=f-I}else++c,s[S]=new g.default([{key:l,value:i}]);c>p*o.sigma&&y.call(this,p)}else this.eraseElementByKey(l)},this.getElementByKey=function(l){var i,b,E=e(l)&p-1;if(s[E]){if(s[E]instanceof d.default)return s[E].getElementByKey(l);try{for(var S=v(s[E]),I=S.next();!I.done;I=S.next()){var R=I.value;if(R.key===l)return R.value}}catch(M){i={error:M}}finally{try{I&&!I.done&&(b=S.return)&&b.call(S)}finally{if(i)throw i.error}}}},this.eraseElementByKey=function(l){var i,b,E=e(l)&p-1;if(s[E]){var S=s[E].size();if(s[E]instanceof d.default)s[E].eraseElementByKey(l),s[E].size()<=o.untreeifyThreshold&&(s[E]=new g.default(s[E]));else{var I=-1;try{for(var R=v(s[E]),M=R.next();!M.done;M=R.next())if(++I,M.value.key===l){s[E].eraseElementByPos(I);break}}catch(_){i={error:_}}finally{try{M&&!M.done&&(b=R.return)&&b.call(R)}finally{if(i)throw i.error}}}var f=s[E].size();c+=f-S}},this.find=function(l){var i,b,E=e(l)&p-1;if(!s[E])return!1;if(s[E]instanceof d.default)return s[E].find(l);try{for(var S=v(s[E]),I=S.next();!I.done;I=S.next())if(I.value.key===l)return!0}catch(M){i={error:M}}finally{try{I&&!I.done&&(b=S.return)&&b.call(S)}finally{if(i)throw i.error}}return!1},this[Symbol.iterator]=function(){return function(){var l,i,b,S,I,R;return m(this,function(M){switch(M.label){case 0:l=0,M.label=1;case 1:if(!(l<p))return[3,10];for(;l<p&&!s[l];)++l;if(l>=p)return[3,10];M.label=2;case 2:M.trys.push([2,7,8,9]),I=void 0,i=v(s[l]),b=i.next(),M.label=3;case 3:return b.done?[3,6]:[4,b.value];case 4:M.sent(),M.label=5;case 5:return b=i.next(),[3,3];case 6:return[3,9];case 7:return S=M.sent(),I={error:S},[3,9];case 8:try{b&&!b.done&&(R=i.return)&&R.call(i)}finally{if(I)throw I.error}return[7];case 9:return++l,[3,1];case 10:return[2]}})}()},t.forEach(function(l){return n.setElement(l.key,l.value)}),Object.freeze(this)}o.initSize=16,o.maxSize=1<<30,o.sigma=.75,o.treeifyThreshold=8,o.untreeifyThreshold=6,o.minTreeifySize=64,Object.freeze(o),j.default=o},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(A,H,j){"use strict";var m=this&&this.__generator||function(t,r){var n,c,s,p,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function y(i){return function(b){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,c&&(s=2&i[0]?c.return:i[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,i[1])).done)return s;switch(c=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,c=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){e=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){e.label=i[1];break}if(6===i[0]&&e.label<s[1]){e.label=s[1],s=i;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(i);break}s[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(b){i=[6,b],c=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,b])}}},v=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(j,"__esModule",{value:!0});var g=A("../Set/Set"),d=A("../LinkList/LinkList");function o(t,r,e){var n=this;if(void 0===t&&(t=[]),void 0===r&&(r=o.initSize),e=e||function(l){var i=0,b="";if("number"==typeof l)i=((i=Math.floor(l))<<5)-i,i&=i;else{b="string"!=typeof l?JSON.stringify(l):l;for(var E=0;E<b.length;E++)i=(i<<5)-i+b.charCodeAt(E),i&=i}return i^i>>>16},0!=(r&r-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,s=[],p=Math.max(o.initSize,Math.min(o.maxSize,r));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,p=r,s=[]},this.forEach=function(l){var i=0;s.forEach(function(b){b.forEach(function(E){l(E,i++)})})};var y=function(l){if(!(l>=o.maxSize)){p=2*l;var i=[];s.forEach(function(b,E){if(!b.empty()){if(b instanceof d.default&&1===b.size()){var S=b.front();if(void 0===S)throw new Error("unknown error");i[e(S)&p-1]=new d.default([S])}else if(b instanceof g.default){var I=new d.default,R=new d.default;b.forEach(function(f){0==(e(f)&l)?I.pushBack(f):R.pushBack(f)}),I.size()>o.untreeifyThreshold?i[E]=new g.default(I):I.size()&&(i[E]=I),R.size()>o.untreeifyThreshold?i[E+l]=new g.default(R):R.size()&&(i[E+l]=R)}else{var M=new d.default,q=new d.default;b.forEach(function(f){0==(e(f)&l)?M.pushBack(f):q.pushBack(f)}),M.size()&&(i[E]=M),q.size()&&(i[E+l]=q)}s[E].clear()}}),s=i}};this.insert=function(l){if(null==l)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var i=e(l)&p-1;if(s[i]){var b=s[i].size();if(s[i]instanceof d.default){if(s[i].find(l))return;s[i].pushBack(l),s[i].size()>=o.treeifyThreshold&&(s[i]=new g.default(s[i]))}else s[i].insert(l);var E=s[i].size();c+=E-b}else s[i]=new d.default([l]),++c;c>p*o.sigma&&y.call(this,p)},this.eraseElementByValue=function(l){var i=e(l)&p-1;if(s[i]){var b=s[i].size();s[i].eraseElementByValue(l),s[i]instanceof g.default&&s[i].size()<=o.untreeifyThreshold&&(s[i]=new d.default(s[i]));var E=s[i].size();c+=E-b}},this.find=function(l){var i=e(l)&p-1;return!!s[i]&&s[i].find(l)},this[Symbol.iterator]=function(){return function(){var l,i,b,S,I,R;return m(this,function(M){switch(M.label){case 0:l=0,M.label=1;case 1:if(!(l<p))return[3,10];for(;l<p&&!s[l];)++l;if(l>=p)return[3,10];M.label=2;case 2:M.trys.push([2,7,8,9]),I=void 0,i=v(s[l]),b=i.next(),M.label=3;case 3:return b.done?[3,6]:[4,b.value];case 4:M.sent(),M.label=5;case 5:return b=i.next(),[3,3];case 6:return[3,9];case 7:return S=M.sent(),I={error:S},[3,9];case 8:try{b&&!b.done&&(R=i.return)&&R.call(i)}finally{if(I)throw I.error}return[7];case 9:return++l,[3,1];case 10:return[2]}})}()},t.forEach(function(l){return n.insert(l)}),Object.freeze(this)}o.initSize=16,o.maxSize=1<<30,o.sigma=.75,o.treeifyThreshold=8,o.untreeifyThreshold=6,o.minTreeifySize=64,Object.freeze(o),j.default=o},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(A,H,j){"use strict";var m=this&&this.__generator||function(d,o){var r,e,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(y){return function(l){return function(y){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,e&&(n=2&y[0]?e.return:y[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,y[1])).done)return n;switch(e=0,n&&(y=[2&y[0],n.value]),y[0]){case 0:case 1:n=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,e=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===y[0]||2===y[0])){t=0;continue}if(3===y[0]&&(!n||y[1]>n[0]&&y[1]<n[3])){t.label=y[1];break}if(6===y[0]&&t.label<n[1]){t.label=n[1],n=y;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(y);break}n[2]&&t.ops.pop(),t.trys.pop();continue}y=o.call(d,t)}catch(l){y=[6,l],e=0}finally{r=n=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([y,l])}}};Object.defineProperty(j,"__esModule",{value:!0});var v=function(o){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=o};function g(d){var o=this;void 0===d&&(d=[]);var t=0,r=void 0,e=void 0;this.size=function(){return t},this.empty=function(){return 0===t},this.clear=function(){r=e=void 0,t=0},this.front=function(){return null==r?void 0:r.value},this.back=function(){return null==e?void 0:e.value},this.forEach=function(n){for(var c=r,s=0;c;){if(void 0===c.value)throw new Error("unknown error");n(c.value,s++),c=c.next}},this.getElementByPos=function(n){if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var c=r;n--&&c;)c=c.next;if(!c||void 0===c.value)throw new Error("unknown error");return c.value},this.eraseElementByPos=function(n){if(n<0||n>=t)throw new Error("erase pos must more then 0 and less then the list length");if(0===n)this.popFront();else if(n===t-1)this.popBack();else{for(var c=r;n--;){if(!(null==c?void 0:c.next))throw new Error("unknown error");c=c.next}if(!c||!c.pre||!c.next)throw new Error("unknown error");var s=c.pre,p=c.next;p.pre=s,s.next=p,t>0&&--t}},this.eraseElementByValue=function(n){for(;r&&r.value===n;)this.popFront();for(;e&&e.value===n;)this.popBack();if(r)for(var c=r;c;){if(c.value===n){var s=c.pre,p=c.next;p&&(p.pre=s),s&&(s.next=p),t>0&&--t}c=c.next}},this.pushBack=function(n){if(null==n)throw new Error("you can't push null or undefined here");++t;var c=new v(n);e?(e.next=c,c.pre=e,e=c):r=e=c},this.popBack=function(){!e||(t>0&&--t,e&&(r===e?r=e=void 0:(e=e.pre)&&(e.next=void 0)))},this.setElementByPos=function(n,c){if(null==c)throw new Error("you can't set null or undefined here");if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var s=r;n--;){if(!s)throw new Error("unknown error");s=s.next}s&&(s.value=c)},this.insert=function(n,c,s){if(void 0===s&&(s=1),null==c)throw new Error("you can't insert null or undefined here");if(n<0||n>t)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(s<0)throw new Error("insert size must more than 0");if(0===n)for(;s--;)this.pushFront(c);else if(n===t)for(;s--;)this.pushBack(c);else{for(var p=r,y=1;y<n;++y){if(!(null==p?void 0:p.next))throw new Error("unknown error");p=null==p?void 0:p.next}if(!p)throw new Error("unknown error");var l=p.next;for(t+=s;s--;)p.next=new v(c),p.next.pre=p,p=p.next;p.next=l,l&&(l.pre=p)}},this.find=function(n){for(var c=r;c;){if(c.value===n)return!0;c=c.next}return!1},this.reverse=function(){for(var n=r,c=e,s=0;n&&c&&2*s<t;){var p=n.value;n.value=c.value,c.value=p,n=n.next,c=c.pre,++s}},this.unique=function(){for(var n=r;n;){for(var c=n;c&&c.next&&c.value===c.next.value;)c=c.next,t>0&&--t;n.next=c.next,n.next&&(n.next.pre=n),n=n.next}},this.sort=function(n){var c=[];this.forEach(function(p){c.push(p)}),c.sort(n);var s=r;c.forEach(function(p){s&&(s.value=p,s=s.next)})},this.pushFront=function(n){if(null==n)throw new Error("you can't push null or undefined here");++t;var c=new v(n);r?(c.next=r,r.pre=c,r=c):r=e=c},this.popFront=function(){!r||(t>0&&--t,r&&(r===e?r=e=void 0:(r=r.next)&&(r.pre=void 0)))},this.merge=function(n){var c=this,s=r;n.forEach(function(p){for(;s&&void 0!==s.value&&s.value<=p;)s=s.next;if(void 0===s)c.pushBack(p),s=e;else if(s===r)c.pushFront(p),s=r;else{++t;var y=s.pre;y&&(y.next=new v(p),y.next.pre=y,y.next.next=s,s&&(s.pre=y.next))}})},this[Symbol.iterator]=function(){return function(){var n;return m(this,function(c){switch(c.label){case 0:n=r,c.label=1;case 1:if(void 0===n)return[3,3];if(!n.value)throw new Error("unknown error");return[4,n.value];case 2:return c.sent(),n=n.next,[3,1];case 3:return[2]}})}()},d.forEach(function(n){return o.pushBack(n)}),Object.freeze(this)}Object.freeze(g),j.default=g},{}],30:[function(A,H,j){"use strict";var m=this&&this.__generator||function(o,t){var e,n,c,s,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return s={next:p(0),throw:p(1),return:p(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function p(l){return function(i){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(c=2&l[0]?n.return:l[0]?n.throw||((c=n.return)&&c.call(n),0):n.next)&&!(c=c.call(n,l[1])).done)return c;switch(n=0,c&&(l=[2&l[0],c.value]),l[0]){case 0:case 1:c=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!c||l[1]>c[0]&&l[1]<c[3])){r.label=l[1];break}if(6===l[0]&&r.label<c[1]){r.label=c[1],c=l;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(l);break}c[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(o,r)}catch(i){l=[6,i],n=0}finally{e=c=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},v=this&&this.__values||function(o){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&o[t],e=0;if(r)return r.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&e>=o.length&&(o=void 0),{value:o&&o[e++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(j,"__esModule",{value:!0});var g=A("../Base/TreeNode");function d(o,t){var r=this;void 0===o&&(o=[]),t=t||function(f,_){return f<_?-1:f>_?1:0};var e=0,n=new g.default;n.color=g.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return 0===e},this.clear=function(){e=0,n.key=n.value=void 0,n.leftChild=n.rightChild=n.brother=void 0};var c=function(f){if(!f||void 0===f.key)throw new Error("unknown error");return f.leftChild?c(f.leftChild):f},s=function(f){if(!f||void 0===f.key)throw new Error("unknown error");return f.rightChild?s(f.rightChild):f};this.front=function(){if(!this.empty()){var f=c(n);if(void 0===f.key||void 0===f.value)throw new Error("unknown error");return{key:f.key,value:f.value}}},this.back=function(){if(!this.empty()){var f=s(n);if(void 0===f.key||void 0===f.value)throw new Error("unknown error");return{key:f.key,value:f.value}}},this.forEach=function(f){var _,w,B=0;try{for(var K=v(this),Q=K.next();!Q.done;Q=K.next())f(Q.value,B++)}catch(T){_={error:T}}finally{try{Q&&!Q.done&&(w=K.return)&&w.call(K)}finally{if(_)throw _.error}}},this.getElementByPos=function(f){var _,w;if(f<0||f>=this.size())throw new Error("pos must more than 0 and less than set's size");var B=0;try{for(var K=v(this),Q=K.next();!Q.done;Q=K.next()){if(B===f)return Q.value;++B}}catch(T){_={error:T}}finally{try{Q&&!Q.done&&(w=K.return)&&w.call(K)}finally{if(_)throw _.error}}throw new Error("unknown Error")};var p=function(f,_){if(f&&void 0!==f.key&&void 0!==f.value){var w=t(f.key,_);return 0===w?{key:f.key,value:f.value}:w<0?p(f.rightChild,_):p(f.leftChild,_)||{key:f.key,value:f.value}}};this.lowerBound=function(f){return p(n,f)};var y=function(f,_){if(f&&void 0!==f.key&&void 0!==f.value)return t(f.key,_)<=0?y(f.rightChild,_):y(f.leftChild,_)||{key:f.key,value:f.value}};this.upperBound=function(f){return y(n,f)};var l=function(f,_){if(f&&void 0!==f.key&&void 0!==f.value){var w=t(f.key,_);return 0===w?{key:f.key,value:f.value}:w>0?l(f.leftChild,_):l(f.rightChild,_)||{key:f.key,value:f.value}}};this.reverseLowerBound=function(f){return l(n,f)};var i=function(f,_){if(f&&void 0!==f.key&&void 0!==f.value)return t(f.key,_)>=0?i(f.leftChild,_):i(f.rightChild,_)||{key:f.key,value:f.value}};this.reverseUpperBound=function(f){return i(n,f)};var b=function(f){var _=f.parent;if(!_){if(f===n)return;throw new Error("unknown error")}if(f.color!==g.default.TreeNodeColorType.red){var w=f.brother;if(!w)throw new Error("unknown error");if(f===_.leftChild)if(w.color===g.default.TreeNodeColorType.red){w.color=g.default.TreeNodeColorType.black,_.color=g.default.TreeNodeColorType.red;var B=_.rotateLeft();n===_&&(n=B),b(f)}else w.color===g.default.TreeNodeColorType.black&&(w.rightChild&&w.rightChild.color===g.default.TreeNodeColorType.red?(w.color=_.color,_.color=g.default.TreeNodeColorType.black,w.rightChild&&(w.rightChild.color=g.default.TreeNodeColorType.black),B=_.rotateLeft(),n===_&&(n=B),f.color=g.default.TreeNodeColorType.black):w.rightChild&&w.rightChild.color!==g.default.TreeNodeColorType.black||!w.leftChild||w.leftChild.color!==g.default.TreeNodeColorType.red?(!w.leftChild||w.leftChild.color===g.default.TreeNodeColorType.black)&&(!w.rightChild||w.rightChild.color===g.default.TreeNodeColorType.black)&&(w.color=g.default.TreeNodeColorType.red,b(_)):(w.color=g.default.TreeNodeColorType.red,w.leftChild&&(w.leftChild.color=g.default.TreeNodeColorType.black),B=w.rotateRight(),n===w&&(n=B),b(f)));else f===_.rightChild&&(w.color===g.default.TreeNodeColorType.red?(w.color=g.default.TreeNodeColorType.black,_.color=g.default.TreeNodeColorType.red,B=_.rotateRight(),n===_&&(n=B),b(f)):w.color===g.default.TreeNodeColorType.black&&(w.leftChild&&w.leftChild.color===g.default.TreeNodeColorType.red?(w.color=_.color,_.color=g.default.TreeNodeColorType.black,w.leftChild&&(w.leftChild.color=g.default.TreeNodeColorType.black),B=_.rotateRight(),n===_&&(n=B),f.color=g.default.TreeNodeColorType.black):w.leftChild&&w.leftChild.color!==g.default.TreeNodeColorType.black||!w.rightChild||w.rightChild.color!==g.default.TreeNodeColorType.red?(!w.leftChild||w.leftChild.color===g.default.TreeNodeColorType.black)&&(!w.rightChild||w.rightChild.color===g.default.TreeNodeColorType.black)&&(w.color=g.default.TreeNodeColorType.red,b(_)):(w.color=g.default.TreeNodeColorType.red,w.rightChild&&(w.rightChild.color=g.default.TreeNodeColorType.black),B=w.rotateLeft(),n===w&&(n=B),b(f))))}else f.color=g.default.TreeNodeColorType.black},E=function(f){for(var _=f;_.leftChild||_.rightChild;){if(_.rightChild){_=c(_.rightChild);var w=f.key;f.key=_.key,_.key=w;var B=f.value;f.value=_.value,_.value=B,f=_}_.leftChild&&(_=s(_.leftChild),w=f.key,f.key=_.key,_.key=w,B=f.value,f.value=_.value,_.value=B,f=_)}b(_),_&&_.remove(),--e,n.color=g.default.TreeNodeColorType.black},S=function(f,_){return!(!f||void 0===f.key)&&(!(!S(f.leftChild,_)&&!_(f))||S(f.rightChild,_))};this.eraseElementByPos=function(f){if(f<0||f>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;S(n,function(w){return f===_?(E(w),!0):(++_,!1)})},this.eraseElementByKey=function(f){if(!this.empty()){var _=M(n,f);void 0===_||void 0===_.key||0!==t(_.key,f)||E(_)}};var I=function(f,_){if(!f||void 0===f.key)throw new Error("unknown error");var w=t(_,f.key);return w<0?f.leftChild?I(f.leftChild,_):(f.leftChild=new g.default,f.leftChild.parent=f,f.leftChild.brother=f.rightChild,f.rightChild&&(f.rightChild.brother=f.leftChild),f.leftChild):w>0?f.rightChild?I(f.rightChild,_):(f.rightChild=new g.default,f.rightChild.parent=f,f.rightChild.brother=f.leftChild,f.leftChild&&(f.leftChild.brother=f.rightChild),f.rightChild):f},R=function(f){var _=f.parent;if(!_){if(f===n)return;throw new Error("unknown error")}if(_.color!==g.default.TreeNodeColorType.black&&_.color===g.default.TreeNodeColorType.red){var w=_.brother,B=_.parent;if(!B)throw new Error("unknown error");if(w&&w.color===g.default.TreeNodeColorType.red)w.color=_.color=g.default.TreeNodeColorType.black,B.color=g.default.TreeNodeColorType.red,R(B);else if(!w||w.color===g.default.TreeNodeColorType.black)if(_===B.leftChild)if(f===_.leftChild){_.color=g.default.TreeNodeColorType.black,B.color=g.default.TreeNodeColorType.red;var K=B.rotateRight();B===n&&(n=K)}else f===_.rightChild&&(K=_.rotateLeft(),B===n&&(n=K),R(_));else _===B.rightChild&&(f===_.leftChild?(K=_.rotateRight(),B===n&&(n=K),R(_)):f===_.rightChild&&(_.color=g.default.TreeNodeColorType.black,B.color=g.default.TreeNodeColorType.red,K=B.rotateLeft(),B===n&&(n=K)))}};this.setElement=function(f,_){if(null==f)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!=_){if(this.empty())return++e,n.key=f,n.value=_,void(n.color=g.default.TreeNodeColorType.black);var w=I(n,f);void 0===w.key||0!==t(w.key,f)?(++e,w.key=f,w.value=_,R(w),n.color=g.default.TreeNodeColorType.black):w.value=_}else this.eraseElementByKey(f)};var M=function(f,_){if(f&&void 0!==f.key){var w=t(_,f.key);return w<0?M(f.leftChild,_):w>0?M(f.rightChild,_):f}};this.find=function(f){return!!M(n,f)},this.getElementByKey=function(f){var _=M(n,f);if(void 0===(null==_?void 0:_.key)||void 0===(null==_?void 0:_.value))throw new Error("unknown error");return _.value},this.union=function(f){var _=this;f.forEach(function(w){return _.setElement(w.key,w.value)})},this.getHeight=function(){if(this.empty())return 0;var f=function(_){return _?Math.max(f(_.leftChild),f(_.rightChild))+1:1};return f(n)};var q=function(f){return m(this,function(_){switch(_.label){case 0:return f&&void 0!==f.key&&void 0!==f.value?[5,v(q(f.leftChild))]:[2];case 1:return _.sent(),[4,{key:f.key,value:f.value}];case 2:return _.sent(),[5,v(q(f.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return q(n)},o.forEach(function(f){return r.setElement(f.key,f.value)}),Object.freeze(this)}Object.freeze(d),j.default=d},{"../Base/TreeNode":25}],31:[function(A,H,j){"use strict";function m(v,g){void 0===v&&(v=[]),g=g||function(e,n){return e>n?-1:e<n?1:0};var d=[];v.forEach(function(e){return d.push(e)});var o=d.length,t=function(e,n){if(e<0||e>=o)throw new Error("unknown error");if(n<0||n>=o)throw new Error("unknown error");var c=d[e];d[e]=d[n],d[n]=c},r=function(e){if(e<0||e>=o)throw new Error("unknown error");var n=2*e+1,c=2*e+2;n<o&&g(d[e],d[n])>0&&t(e,n),c<o&&g(d[e],d[c])>0&&t(e,c)};(function(){for(var e=Math.floor((o-1)/2);e>=0;--e)for(var n=e,c=2*n+1;c<o;){var p=c+1,y=c;if(p<o&&g(d[c],d[p])>0&&(y=p),g(d[n],d[y])<=0)break;t(n,y),c=2*(n=y)+1}})(),this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,d.length=0},this.push=function(e){if(d.push(e),1!=++o)for(var n=o-1;n>0;){var c=Math.floor((n-1)/2);if(g(d[c],e)<=0)break;r(c),n=c}},this.pop=function(){if(!this.empty()){if(1===this.size())return void--o;var e=d[o-1];--o;for(var n=0;n<this.size();){var c=2*n+1,s=2*n+2;if(c>=this.size())break;var p=c;if(s<this.size()&&g(d[c],d[s])>0&&(p=s),g(d[p],e)>=0)break;d[n]=d[p],n=p}d[n]=e}},this.top=function(){return d[0]},Object.freeze(this)}Object.defineProperty(j,"__esModule",{value:!0}),Object.freeze(m),j.default=m},{}],32:[function(A,H,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var m=A("../LinkList/LinkList");function v(g){void 0===g&&(g=[]);var d=new m.default(g);this.size=function(){return d.size()},this.empty=function(){return d.empty()},this.clear=function(){d.clear()},this.push=function(o){d.pushBack(o)},this.pop=function(){d.popFront()},this.front=function(){return d.front()},Object.freeze(this)}Object.freeze(v),j.default=v},{"../LinkList/LinkList":29}],33:[function(A,H,j){"use strict";var m=this&&this.__generator||function(o,t){var e,n,c,s,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return s={next:p(0),throw:p(1),return:p(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function p(l){return function(i){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(c=2&l[0]?n.return:l[0]?n.throw||((c=n.return)&&c.call(n),0):n.next)&&!(c=c.call(n,l[1])).done)return c;switch(n=0,c&&(l=[2&l[0],c.value]),l[0]){case 0:case 1:c=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(c=(c=r.trys).length>0&&c[c.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!c||l[1]>c[0]&&l[1]<c[3])){r.label=l[1];break}if(6===l[0]&&r.label<c[1]){r.label=c[1],c=l;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(l);break}c[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(o,r)}catch(i){l=[6,i],n=0}finally{e=c=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},v=this&&this.__values||function(o){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&o[t],e=0;if(r)return r.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&e>=o.length&&(o=void 0),{value:o&&o[e++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(j,"__esModule",{value:!0});var g=A("../Base/TreeNode");function d(o,t){var r=this;void 0===o&&(o=[]),t=t||function(f,_){return f<_?-1:f>_?1:0};var e=0,n=new g.default;n.color=g.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return 0===e},this.clear=function(){e=0,n.key=void 0,n.leftChild=n.rightChild=n.brother=n.parent=void 0,n.color=g.default.TreeNodeColorType.black};var c=function(f){if(!f||void 0===f.key)throw new Error("unknown error");return f.leftChild?c(f.leftChild):f},s=function(f){if(!f||void 0===f.key)throw new Error("unknown error");return f.rightChild?s(f.rightChild):f};this.front=function(){if(!this.empty())return c(n).key},this.back=function(){if(!this.empty())return s(n).key},this.forEach=function(f){var _,w,B=0;try{for(var K=v(this),Q=K.next();!Q.done;Q=K.next())f(Q.value,B++)}catch(T){_={error:T}}finally{try{Q&&!Q.done&&(w=K.return)&&w.call(K)}finally{if(_)throw _.error}}},this.getElementByPos=function(f){var _,w;if(f<0||f>=this.size())throw new Error("pos must more than 0 and less than set's size");var B=0;try{for(var K=v(this),Q=K.next();!Q.done;Q=K.next()){if(B===f)return Q.value;++B}}catch(T){_={error:T}}finally{try{Q&&!Q.done&&(w=K.return)&&w.call(K)}finally{if(_)throw _.error}}throw new Error("unknown error")};var p=function(f){var _=f.parent;if(!_){if(f===n)return;throw new Error("unknown error")}if(f.color!==g.default.TreeNodeColorType.red){var w=f.brother;if(!w)throw new Error("unknown error");if(f===_.leftChild)if(w.color===g.default.TreeNodeColorType.red){w.color=g.default.TreeNodeColorType.black,_.color=g.default.TreeNodeColorType.red;var B=_.rotateLeft();n===_&&(n=B),p(f)}else w.color===g.default.TreeNodeColorType.black&&(w.rightChild&&w.rightChild.color===g.default.TreeNodeColorType.red?(w.color=_.color,_.color=g.default.TreeNodeColorType.black,w.rightChild&&(w.rightChild.color=g.default.TreeNodeColorType.black),B=_.rotateLeft(),n===_&&(n=B),f.color=g.default.TreeNodeColorType.black):w.rightChild&&w.rightChild.color!==g.default.TreeNodeColorType.black||!w.leftChild||w.leftChild.color!==g.default.TreeNodeColorType.red?(!w.leftChild||w.leftChild.color===g.default.TreeNodeColorType.black)&&(!w.rightChild||w.rightChild.color===g.default.TreeNodeColorType.black)&&(w.color=g.default.TreeNodeColorType.red,p(_)):(w.color=g.default.TreeNodeColorType.red,w.leftChild&&(w.leftChild.color=g.default.TreeNodeColorType.black),B=w.rotateRight(),n===w&&(n=B),p(f)));else f===_.rightChild&&(w.color===g.default.TreeNodeColorType.red?(w.color=g.default.TreeNodeColorType.black,_.color=g.default.TreeNodeColorType.red,B=_.rotateRight(),n===_&&(n=B),p(f)):w.color===g.default.TreeNodeColorType.black&&(w.leftChild&&w.leftChild.color===g.default.TreeNodeColorType.red?(w.color=_.color,_.color=g.default.TreeNodeColorType.black,w.leftChild&&(w.leftChild.color=g.default.TreeNodeColorType.black),B=_.rotateRight(),n===_&&(n=B),f.color=g.default.TreeNodeColorType.black):w.leftChild&&w.leftChild.color!==g.default.TreeNodeColorType.black||!w.rightChild||w.rightChild.color!==g.default.TreeNodeColorType.red?(!w.leftChild||w.leftChild.color===g.default.TreeNodeColorType.black)&&(!w.rightChild||w.rightChild.color===g.default.TreeNodeColorType.black)&&(w.color=g.default.TreeNodeColorType.red,p(_)):(w.color=g.default.TreeNodeColorType.red,w.rightChild&&(w.rightChild.color=g.default.TreeNodeColorType.black),B=w.rotateLeft(),n===w&&(n=B),p(f))))}else f.color=g.default.TreeNodeColorType.black},y=function(f){for(var _=f;_.leftChild||_.rightChild;){if(_.rightChild){_=c(_.rightChild);var w=f.key;f.key=_.key,_.key=w,f=_}_.leftChild&&(_=s(_.leftChild),w=f.key,f.key=_.key,_.key=w,f=_)}p(_),_&&_.remove(),--e,n.color=g.default.TreeNodeColorType.black},l=function(f,_){return!(!f||void 0===f.key)&&(!(!l(f.leftChild,_)&&!_(f))||l(f.rightChild,_))};this.eraseElementByPos=function(f){if(f<0||f>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;l(n,function(w){return f===_?(y(w),!0):(++_,!1)})},this.eraseElementByValue=function(f){if(!this.empty()){var _=E(n,f);void 0===_||void 0===_.key||0!==t(_.key,f)||y(_)}};var i=function(f,_){if(!f||void 0===f.key)throw new Error("unknown error");var w=t(_,f.key);return w<0?f.leftChild?i(f.leftChild,_):(f.leftChild=new g.default,f.leftChild.parent=f,f.leftChild.brother=f.rightChild,f.rightChild&&(f.rightChild.brother=f.leftChild),f.leftChild):w>0?f.rightChild?i(f.rightChild,_):(f.rightChild=new g.default,f.rightChild.parent=f,f.rightChild.brother=f.leftChild,f.leftChild&&(f.leftChild.brother=f.rightChild),f.rightChild):f},b=function(f){var _=f.parent;if(!_){if(f===n)return;throw new Error("unknown error")}if(_.color!==g.default.TreeNodeColorType.black&&_.color===g.default.TreeNodeColorType.red){var w=_.brother,B=_.parent;if(!B)throw new Error("unknown error");if(w&&w.color===g.default.TreeNodeColorType.red)w.color=_.color=g.default.TreeNodeColorType.black,B.color=g.default.TreeNodeColorType.red,b(B);else if(!w||w.color===g.default.TreeNodeColorType.black)if(_===B.leftChild)if(f===_.leftChild){_.color=g.default.TreeNodeColorType.black,B.color=g.default.TreeNodeColorType.red;var K=B.rotateRight();B===n&&(n=K)}else f===_.rightChild&&(K=_.rotateLeft(),B===n&&(n=K),b(_));else _===B.rightChild&&(f===_.leftChild?(K=_.rotateRight(),B===n&&(n=K),b(_)):f===_.rightChild&&(_.color=g.default.TreeNodeColorType.black,B.color=g.default.TreeNodeColorType.red,K=B.rotateLeft(),B===n&&(n=K)))}};this.insert=function(f){if(null==f)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++e,n.key=f,void(n.color=g.default.TreeNodeColorType.black);var _=i(n,f);void 0!==_.key&&0===t(_.key,f)||(++e,_.key=f,b(_),n.color=g.default.TreeNodeColorType.black)};var E=function(f,_){if(f&&void 0!==f.key){var w=t(_,f.key);return w<0?E(f.leftChild,_):w>0?E(f.rightChild,_):f}};this.find=function(f){var _=E(n,f);return void 0!==_&&void 0!==_.key&&0===t(_.key,f)};var S=function(f,_){if(f&&void 0!==f.key){var w=t(f.key,_);return 0===w?f.key:w<0?S(f.rightChild,_):S(f.leftChild,_)||f.key}};this.lowerBound=function(f){return S(n,f)};var I=function(f,_){if(f&&void 0!==f.key)return t(f.key,_)<=0?I(f.rightChild,_):I(f.leftChild,_)||f.key};this.upperBound=function(f){return I(n,f)};var R=function(f,_){if(f&&void 0!==f.key){var w=t(f.key,_);return 0===w?f.key:w>0?R(f.leftChild,_):R(f.rightChild,_)||f.key}};this.reverseLowerBound=function(f){return R(n,f)};var M=function(f,_){if(f&&void 0!==f.key)return t(f.key,_)>=0?M(f.leftChild,_):M(f.rightChild,_)||f.key};this.reverseUpperBound=function(f){return M(n,f)},this.union=function(f){var _=this;f.forEach(function(w){return _.insert(w)})},this.getHeight=function(){if(this.empty())return 0;var f=function(_){return _?Math.max(f(_.leftChild),f(_.rightChild))+1:1};return f(n)};var q=function(f){return m(this,function(_){switch(_.label){case 0:return f&&void 0!==f.key?[5,v(q(f.leftChild))]:[2];case 1:return _.sent(),[4,f.key];case 2:return _.sent(),[5,v(q(f.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return q(n)},o.forEach(function(f){return r.insert(f)}),Object.freeze(this)}Object.freeze(d),j.default=d},{"../Base/TreeNode":25}],34:[function(A,H,j){"use strict";function m(v){var g=this;void 0===v&&(v=[]);var d=0,o=[];this.size=function(){return d},this.empty=function(){return 0===d},this.clear=function(){d=0,o.length=0},this.push=function(t){o.push(t),++d},this.pop=function(){o.pop(),d>0&&--d},this.top=function(){return o[d-1]},v.forEach(function(t){return g.push(t)}),Object.freeze(this)}Object.defineProperty(j,"__esModule",{value:!0}),Object.freeze(m),j.default=m},{}],35:[function(A,H,j){"use strict";var m=this&&this.__generator||function(t,r){var n,c,s,p,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function y(i){return function(b){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,c&&(s=2&i[0]?c.return:i[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,i[1])).done)return s;switch(c=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,c=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){e=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){e.label=i[1];break}if(6===i[0]&&e.label<s[1]){e.label=s[1],s=i;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(i);break}s[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(b){i=[6,b],c=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,b])}}},v=this&&this.__read||function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var c,p,n=e.call(t),s=[];try{for(;(void 0===r||r-- >0)&&!(c=n.next()).done;)s.push(c.value)}catch(y){p={error:y}}finally{try{c&&!c.done&&(e=n.return)&&e.call(n)}finally{if(p)throw p.error}}return s},g=this&&this.__spreadArray||function(t,r,e){if(e||2===arguments.length)for(var s,n=0,c=r.length;n<c;n++)(s||!(n in r))&&(s||(s=Array.prototype.slice.call(r,0,n)),s[n]=r[n]);return t.concat(s||Array.prototype.slice.call(r))},d=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(t){var r=this;void 0===t&&(t=[]);var e=0,n=[];this.size=function(){return e},this.empty=function(){return 0===e},this.clear=function(){e=0,n.length=0},this.front=function(){if(!this.empty())return n[0]},this.back=function(){if(!this.empty())return n[e-1]},this.forEach=function(c){n.forEach(c)},this.getElementByPos=function(c){if(c<0||c>=e)throw new Error("pos must more than 0 and less than vector's size");return n[c]},this.eraseElementByPos=function(c){if(c<0||c>=e)throw new Error("pos must more than 0 and less than vector's size");for(var s=c;s<e-1;++s)n[s]=n[s+1];this.popBack()},this.eraseElementByValue=function(c){var s=[];this.forEach(function(y){y!==c&&s.push(y)}),s.forEach(function(y,l){n[l]=y});for(var p=s.length;e>p;)this.popBack()},this.pushBack=function(c){n.push(c),++e},this.popBack=function(){n.pop(),e>0&&--e},this.setElementByPos=function(c,s){if(c<0||c>=e)throw new Error("pos must more than 0 and less than vector's size");n[c]=s},this.insert=function(c,s,p){if(void 0===p&&(p=1),c<0||c>e)throw new Error("pos must more than 0 and less than or equal to vector's size");n.splice.apply(n,g([c,0],v(new Array(p).fill(s)),!1)),e+=p},this.find=function(c){return n.includes(c)},this.reverse=function(){n.reverse()},this.unique=function(){var c,s=[];this.forEach(function(y,l){(0===l||y!==c)&&(s.push(y),c=y)}),s.forEach(function(y,l){n[l]=y});for(var p=s.length;e>p;)this.popBack()},this.sort=function(c){n.sort(c)},this[Symbol.iterator]=function(){return function(){return m(this,function(c){switch(c.label){case 0:return[5,d(n)];case 1:return[2,c.sent()]}})}()},t.forEach(function(c){return r.pushBack(c)}),Object.freeze(this)}Object.defineProperty(j,"__esModule",{value:!0}),Object.freeze(o),j.default=o},{}],36:[function(A,H,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.HashMap=j.HashSet=j.Map=j.Set=j.PriorityQueue=j.Deque=j.LinkList=j.Queue=j.Stack=j.Vector=void 0;var m=A("./Vector/Vector");j.Vector=m.default;var v=A("./Stack/Stack");j.Stack=v.default;var g=A("./Queue/Queue");j.Queue=g.default;var d=A("./LinkList/LinkList");j.LinkList=d.default;var o=A("./Deque/Deque");j.Deque=o.default;var t=A("./PriorityQueue/PriorityQueue");j.PriorityQueue=t.default;var r=A("./Set/Set");j.Set=r.default;var e=A("./Map/Map");j.Map=e.default;var n=A("./HashSet/HashSet");j.HashSet=n.default;var c=A("./HashMap/HashMap");j.HashMap=c.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(A,H,j){"use strict";const m=A("yallist"),v=Symbol("max"),g=Symbol("length"),d=Symbol("lengthCalculator"),o=Symbol("allowStale"),t=Symbol("maxAge"),r=Symbol("dispose"),e=Symbol("noDisposeOnSet"),n=Symbol("lruList"),c=Symbol("cache"),s=Symbol("updateAgeOnGet"),p=()=>1;const l=(R,M,q)=>{const f=R[c].get(M);if(f){const _=f.value;if(i(R,_)){if(E(R,f),!R[o])return}else q&&(R[s]&&(f.value.now=Date.now()),R[n].unshiftNode(f));return _.value}},i=(R,M)=>{if(!M||!M.maxAge&&!R[t])return!1;const q=Date.now()-M.now;return M.maxAge?q>M.maxAge:R[t]&&q>R[t]},b=R=>{if(R[g]>R[v])for(let M=R[n].tail;R[g]>R[v]&&null!==M;){const q=M.prev;E(R,M),M=q}},E=(R,M)=>{if(M){const q=M.value;R[r]&&R[r](q.key,q.value),R[g]-=q.length,R[c].delete(q.key),R[n].removeNode(M)}};class S{constructor(M,q,f,_,w){this.key=M,this.value=q,this.length=f,this.now=_,this.maxAge=w||0}}const I=(R,M,q,f)=>{let _=q.value;i(R,_)&&(E(R,q),R[o]||(_=void 0)),_&&M.call(f,_.value,_.key,R)};H.exports=class{constructor(M){if("number"==typeof M&&(M={max:M}),M||(M={}),M.max&&("number"!=typeof M.max||M.max<0))throw new TypeError("max must be a non-negative number");this[v]=M.max||1/0;const f=M.length||p;if(this[d]="function"!=typeof f?p:f,this[o]=M.stale||!1,M.maxAge&&"number"!=typeof M.maxAge)throw new TypeError("maxAge must be a number");this[t]=M.maxAge||0,this[r]=M.dispose,this[e]=M.noDisposeOnSet||!1,this[s]=M.updateAgeOnGet||!1,this.reset()}set max(M){if("number"!=typeof M||M<0)throw new TypeError("max must be a non-negative number");this[v]=M||1/0,b(this)}get max(){return this[v]}set allowStale(M){this[o]=!!M}get allowStale(){return this[o]}set maxAge(M){if("number"!=typeof M)throw new TypeError("maxAge must be a non-negative number");this[t]=M,b(this)}get maxAge(){return this[t]}set lengthCalculator(M){"function"!=typeof M&&(M=p),M!==this[d]&&(this[d]=M,this[g]=0,this[n].forEach(q=>{q.length=this[d](q.value,q.key),this[g]+=q.length})),b(this)}get lengthCalculator(){return this[d]}get length(){return this[g]}get itemCount(){return this[n].length}rforEach(M,q){q=q||this;for(let f=this[n].tail;null!==f;){const _=f.prev;I(this,M,f,q),f=_}}forEach(M,q){q=q||this;for(let f=this[n].head;null!==f;){const _=f.next;I(this,M,f,q),f=_}}keys(){return this[n].toArray().map(M=>M.key)}values(){return this[n].toArray().map(M=>M.value)}reset(){this[r]&&this[n]&&this[n].length&&this[n].forEach(M=>this[r](M.key,M.value)),this[c]=new Map,this[n]=new m,this[g]=0}dump(){return this[n].map(M=>!i(this,M)&&{k:M.key,v:M.value,e:M.now+(M.maxAge||0)}).toArray().filter(M=>M)}dumpLru(){return this[n]}set(M,q,f){if((f=f||this[t])&&"number"!=typeof f)throw new TypeError("maxAge must be a number");const _=f?Date.now():0,w=this[d](q,M);if(this[c].has(M)){if(w>this[v])return E(this,this[c].get(M)),!1;const Q=this[c].get(M).value;return this[r]&&(this[e]||this[r](M,Q.value)),Q.now=_,Q.maxAge=f,Q.value=q,this[g]+=w-Q.length,Q.length=w,this.get(M),b(this),!0}const B=new S(M,q,w,_,f);return B.length>this[v]?(this[r]&&this[r](M,q),!1):(this[g]+=B.length,this[n].unshift(B),this[c].set(M,this[n].head),b(this),!0)}has(M){if(!this[c].has(M))return!1;const q=this[c].get(M).value;return!i(this,q)}get(M){return l(this,M,!0)}peek(M){return l(this,M,!1)}pop(){const M=this[n].tail;return M?(E(this,M),M.value):null}del(M){E(this,this[c].get(M))}load(M){this.reset();const q=Date.now();for(let f=M.length-1;f>=0;f--){const _=M[f],w=_.e||0;if(0===w)this.set(_.k,_.v);else{const B=w-q;B>0&&this.set(_.k,_.v,B)}}}prune(){this[c].forEach((M,q)=>l(this,q,!1))}}},{yallist:83}],38:[function(A,H,j){(function(m){(function(){const v=H.exports;v.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},v.codes={};for(const d in v.types)v.codes[v.types[d]]=d;v.CMD_SHIFT=4,v.CMD_MASK=240,v.DUP_MASK=8,v.QOS_MASK=3,v.QOS_SHIFT=1,v.RETAIN_MASK=1,v.VARBYTEINT_MASK=127,v.VARBYTEINT_FIN_MASK=128,v.VARBYTEINT_MAX=268435455,v.SESSIONPRESENT_MASK=1,v.SESSIONPRESENT_HEADER=m.from([v.SESSIONPRESENT_MASK]),v.CONNACK_HEADER=m.from([v.codes.connack<<v.CMD_SHIFT]),v.USERNAME_MASK=128,v.PASSWORD_MASK=64,v.WILL_RETAIN_MASK=32,v.WILL_QOS_MASK=24,v.WILL_QOS_SHIFT=3,v.WILL_FLAG_MASK=4,v.CLEAN_SESSION_MASK=2,v.CONNECT_HEADER=m.from([v.codes.connect<<v.CMD_SHIFT]),v.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},v.propertiesCodes={};for(const d in v.properties)v.propertiesCodes[v.properties[d]]=d;function g(d){return[0,1,2].map(o=>[0,1].map(t=>[0,1].map(r=>{const e=m.alloc(1);return e.writeUInt8(v.codes[d]<<v.CMD_SHIFT|(t?v.DUP_MASK:0)|o<<v.QOS_SHIFT|r,0,!0),e})))}v.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},v.PUBLISH_HEADER=g("publish"),v.SUBSCRIBE_HEADER=g("subscribe"),v.SUBSCRIBE_OPTIONS_QOS_MASK=3,v.SUBSCRIBE_OPTIONS_NL_MASK=1,v.SUBSCRIBE_OPTIONS_NL_SHIFT=2,v.SUBSCRIBE_OPTIONS_RAP_MASK=1,v.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,v.SUBSCRIBE_OPTIONS_RH_MASK=3,v.SUBSCRIBE_OPTIONS_RH_SHIFT=4,v.SUBSCRIBE_OPTIONS_RH=[0,16,32],v.SUBSCRIBE_OPTIONS_NL=4,v.SUBSCRIBE_OPTIONS_RAP=8,v.SUBSCRIBE_OPTIONS_QOS=[0,1,2],v.UNSUBSCRIBE_HEADER=g("unsubscribe"),v.ACKS={unsuback:g("unsuback"),puback:g("puback"),pubcomp:g("pubcomp"),pubrel:g("pubrel"),pubrec:g("pubrec")},v.SUBACK_HEADER=m.from([v.codes.suback<<v.CMD_SHIFT]),v.VERSION3=m.from([3]),v.VERSION4=m.from([4]),v.VERSION5=m.from([5]),v.VERSION131=m.from([131]),v.VERSION132=m.from([132]),v.QOS=[0,1,2].map(d=>m.from([d])),v.EMPTY={pingreq:m.from([v.codes.pingreq<<4,0]),pingresp:m.from([v.codes.pingresp<<4,0]),disconnect:m.from([v.codes.disconnect<<4,0])}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17}],39:[function(A,H,j){(function(m){(function(){const v=A("./writeToStream"),g=A("events");class o extends g{constructor(){super(),this._array=new Array(20),this._i=0}write(r){return this._array[this._i++]=r,!0}concat(){let r=0;const e=new Array(this._array.length),n=this._array;let s,c=0;for(s=0;s<n.length&&void 0!==n[s];s++)e[s]="string"!=typeof n[s]?n[s].length:m.byteLength(n[s]),r+=e[s];const p=m.allocUnsafe(r);for(s=0;s<n.length&&void 0!==n[s];s++)"string"!=typeof n[s]?(n[s].copy(p,c),c+=e[s]):(p.write(n[s],c),c+=e[s]);return p}}H.exports=function(t,r){const e=new o;return v(t,e,r),e.concat()}}).call(this)}).call(this,A("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(A,H,j){j.parser=A("./parser").parser,j.generate=A("./generate"),j.writeToStream=A("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(A,H,j){(function(m){(function(){const g={},d=m.isBuffer(m.from([1,2]).subarray(0,1));function o(n){const c=m.allocUnsafe(2);return c.writeUInt8(n>>8,0),c.writeUInt8(255&n,1),c}H.exports={cache:g,generateCache:function(){for(let n=0;n<65536;n++)g[n]=o(n)},generateNumber:o,genBufVariableByteInt:function(n){let s=0,p=0;const y=m.allocUnsafe(4);do{s=n%128|0,(n=n/128|0)>0&&(s|=128),y.writeUInt8(s,p++)}while(n>0&&p<4);return n>0&&(p=0),d?y.subarray(0,p):y.slice(0,p)},generate4ByteBuffer:function(n){const c=m.allocUnsafe(4);return c.writeUInt32BE(n,0),c}}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17}],42:[function(A,H,j){H.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},{}],43:[function(A,H,j){const m=A("bl"),v=A("events"),g=A("./packet"),d=A("./constants"),o=A("debug")("mqtt-packet:parser");class t extends v{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new t).parser(e)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new g,this.error=null,this._list=m(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),o("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=d.types[e>>d.CMD_SHIFT],this.packet.retain=0!=(e&d.RETAIN_MASK),this.packet.qos=e>>d.QOS_SHIFT&d.QOS_MASK,this.packet.dup=0!=(e&d.DUP_MASK),o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),o("_parseLength %d",e.value),!!e}_parsePayload(){o("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return o("_parsePayload complete result: %s",e),e}_parseConnect(){let e,n,c,s;o("_parseConnect");const p={},y=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(new Error("Invalid protocolId"));if(y.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.protocolVersion=this._list.readUInt8(this._pos),y.protocolVersion>=128&&(y.bridgeMode=!0,y.protocolVersion=y.protocolVersion-128),3!==y.protocolVersion&&4!==y.protocolVersion&&5!==y.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(p.username=this._list.readUInt8(this._pos)&d.USERNAME_MASK,p.password=this._list.readUInt8(this._pos)&d.PASSWORD_MASK,p.will=this._list.readUInt8(this._pos)&d.WILL_FLAG_MASK,p.will&&(y.will={},y.will.retain=0!=(this._list.readUInt8(this._pos)&d.WILL_RETAIN_MASK),y.will.qos=(this._list.readUInt8(this._pos)&d.WILL_QOS_MASK)>>d.WILL_QOS_SHIFT),y.clean=0!=(this._list.readUInt8(this._pos)&d.CLEAN_SESSION_MASK),this._pos++,y.keepalive=this._parseNum(),-1===y.keepalive)return this._emitError(new Error("Packet too short"));if(5===y.protocolVersion){const b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(y.properties=b)}const i=this._parseString();if(null===i)return this._emitError(new Error("Packet too short"));if(y.clientId=i,o("_parseConnect: packet.clientId: %s",y.clientId),p.will){if(5===y.protocolVersion){const b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(y.will.properties=b)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(y.will.topic=e,o("_parseConnect: packet.will.topic: %s",y.will.topic),n=this._parseBuffer(),null===n)return this._emitError(new Error("Cannot parse will payload"));y.will.payload=n,o("_parseConnect: packet.will.paylaod: %s",y.will.payload)}if(p.username){if(s=this._parseString(),null===s)return this._emitError(new Error("Cannot parse username"));y.username=s,o("_parseConnect: packet.username: %s",y.username)}if(p.password){if(c=this._parseBuffer(),null===c)return this._emitError(new Error("Cannot parse password"));y.password=c}return this.settings=y,o("_parseConnect: complete"),y}_parseConnack(){o("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&d.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)e.reasonCode=this._list.length>=2?this._list.readUInt8(this._pos++):0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}e.payload=this._list.slice(this._pos,e.length),o("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){o("_parseSubscribe");const e=this.packet;let n,c,s,p,y,l,i;if(1!==e.qos)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(e.properties=b)}for(;this._pos<e.length;){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));c=this._parseByte(),s=c&d.SUBSCRIBE_OPTIONS_QOS_MASK,l=0!=(c>>d.SUBSCRIBE_OPTIONS_NL_SHIFT&d.SUBSCRIBE_OPTIONS_NL_MASK),y=0!=(c>>d.SUBSCRIBE_OPTIONS_RAP_SHIFT&d.SUBSCRIBE_OPTIONS_RAP_MASK),p=c>>d.SUBSCRIBE_OPTIONS_RH_SHIFT&d.SUBSCRIBE_OPTIONS_RH_MASK,i={topic:n,qos:s},5===this.settings.protocolVersion?(i.nl=l,i.rap=y,i.rh=p):this.settings.bridgeMode&&(i.rh=0,i.rap=!0,i.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",i),e.subscriptions.push(i)}}}_parseSuback(){o("_parseSuback");const e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){o("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<e.length;){const n=this._parseString();if(null===n)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}_parseUnsuback(){o("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const n=this._parseProperties();for(Object.getOwnPropertyNames(n).length&&(e.properties=n),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),o("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return!0}_parseDisconnect(){const e=this.packet;if(o("_parseDisconnect"),5===this.settings.protocolVersion){e.reasonCode=this._list.length>0?this._parseByte():0;const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");const e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const n=this._parseProperties();return Object.getOwnPropertyNames(n).length&&(e.properties=n),o("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const n=this._parseNum(),c=n+this._pos;if(-1===n||c>this._list.length||c>this.packet.length)return null;const s=this._list.toString("utf8",this._pos,c);return this._pos+=n,o("_parseString: result: %s",s),s}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),n=e+this._pos;if(-1===e||n>this._list.length||n>this.packet.length)return null;const c=this._list.slice(this._pos,n);return this._pos+=e,o("_parseBuffer: result: %o",c),c}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){o("_parseVarByteNum");let l,c=0,s=1,p=0,y=!1;const i=this._pos?this._pos:0;for(;c<4&&i+c<this._list.length;){if(l=this._list.readUInt8(i+c++),p+=s*(l&d.VARBYTEINT_MASK),s*=128,0==(l&d.VARBYTEINT_FIN_MASK)){y=!0;break}if(this._list.length<=c)break}return!y&&4===c&&this._list.length>=c&&this._emitError(new Error("Invalid variable byte integer")),i&&(this._pos+=c),y=!!y&&(e?{bytes:c,value:p}:p),o("_parseVarByteNum: result: %o",y),y}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",e),e}_parseByType(e){switch(o("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");const e=this._parseVarByteNum(),c=this._pos+e,s={};for(;this._pos<c;){const p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;const y=d.propertiesCodes[p];if(!y)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==y)s[y]?(Array.isArray(s[y])||(s[y]=[s[y]]),s[y].push(this._parseByType(d.propertiesTypes[y]))):s[y]=this._parseByType(d.propertiesTypes[y]);else{s[y]||(s[y]=Object.create(null));const l=this._parseByType(d.propertiesTypes[y]);s[y][l.name]?(Array.isArray(s[y][l.name])||(s[y][l.name]=[s[y][l.name]]),s[y][l.name].push(l.value)):s[y][l.name]=l.value}}return s}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new g,this._pos=0,!0}_emitError(e){o("_emitError"),this.error=e,this.emit("error",e)}}H.exports=t},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(A,H,j){(function(m){(function(){const v=A("./constants"),g=m.allocUnsafe(0),d=m.from([0]),o=A("./numbers"),t=A("process-nextick-args").nextTick,r=A("debug")("mqtt-packet:writeToStream"),e=o.cache,n=o.generateNumber,c=o.generateCache,s=o.genBufVariableByteInt,p=o.generate4ByteBuffer;let y=D,l=!0;function i(N,L,Y){switch(r("generate called"),L.cork&&(L.cork(),t(b,L)),l&&(l=!1,c()),r("generate: packet.cmd: %s",N.cmd),N.cmd){case"connect":return function(N,L,Y){const oe=N||{},O=oe.protocolId||"MQTT";let P=oe.protocolVersion||4;const F=oe.will;let G=oe.clean;const X=oe.keepalive||0,C=oe.clientId||"",h=oe.username,a=oe.password,u=oe.properties;void 0===G&&(G=!0);let x=0;if(!O||"string"!=typeof O&&!m.isBuffer(O))return L.emit("error",new Error("Invalid protocolId")),!1;if(x+=O.length+2,3!==P&&4!==P&&5!==P)return L.emit("error",new Error("Invalid protocol version")),!1;if(x+=1,("string"==typeof C||m.isBuffer(C))&&(C||P>=4)&&(C||G))x+=m.byteLength(C)+2;else{if(P<4)return L.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*G==0)return L.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof X||X<0||X>65535||X%1!=0)return L.emit("error",new Error("Invalid keepalive")),!1;if(x+=2,x+=1,5===P){var U=W(L,u);if(!U)return!1;x+=U.length}if(F){if("object"!=typeof F)return L.emit("error",new Error("Invalid will")),!1;if(!F.topic||"string"!=typeof F.topic)return L.emit("error",new Error("Invalid will topic")),!1;if(x+=m.byteLength(F.topic)+2,x+=2,F.payload){if(!(F.payload.length>=0))return L.emit("error",new Error("Invalid will payload")),!1;x+="string"==typeof F.payload?m.byteLength(F.payload):F.payload.length}var $={};if(5===P){if(!($=W(L,F.properties)))return!1;x+=$.length}}let ee=!1;if(null!=h){if(!ne(h))return L.emit("error",new Error("Invalid username")),!1;ee=!0,x+=m.byteLength(h)+2}if(null!=a){if(!ee)return L.emit("error",new Error("Username is required to use password")),!1;if(!ne(a))return L.emit("error",new Error("Invalid password")),!1;x+=se(a)+2}L.write(v.CONNECT_HEADER),z(L,x),re(L,O),oe.bridgeMode&&(P+=128),L.write(131===P?v.VERSION131:132===P?v.VERSION132:4===P?v.VERSION4:5===P?v.VERSION5:v.VERSION3);let ae=0;return ae|=null!=h?v.USERNAME_MASK:0,ae|=null!=a?v.PASSWORD_MASK:0,ae|=F&&F.retain?v.WILL_RETAIN_MASK:0,ae|=F&&F.qos?F.qos<<v.WILL_QOS_SHIFT:0,ae|=F?v.WILL_FLAG_MASK:0,ae|=G?v.CLEAN_SESSION_MASK:0,L.write(m.from([ae])),y(L,X),5===P&&U.write(),re(L,C),F&&(5===P&&$.write(),T(L,F.topic),re(L,F.payload)),null!=h&&re(L,h),null!=a&&re(L,a),!0}(N,L);case"connack":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=5===oe?O.reasonCode:O.returnCode,F=O.properties;let G=2;if("number"!=typeof P)return L.emit("error",new Error("Invalid return code")),!1;let X=null;if(5===oe){if(X=W(L,F),!X)return!1;G+=X.length}return L.write(v.CONNACK_HEADER),z(L,G),L.write(O.sessionPresent?v.SESSIONPRESENT_HEADER:d),L.write(m.from([P])),null!=X&&X.write(),!0}(N,L,Y);case"publish":return function(N,L,Y){r("publish: packet: %o",N);const oe=Y?Y.protocolVersion:4,O=N||{},P=O.qos||0,F=O.retain?v.RETAIN_MASK:0,G=O.topic,X=O.payload||g,C=O.messageId,h=O.properties;let a=0;if("string"==typeof G)a+=m.byteLength(G)+2;else{if(!m.isBuffer(G))return L.emit("error",new Error("Invalid topic")),!1;a+=G.length+2}if(m.isBuffer(X)?a+=X.length:a+=m.byteLength(X),P&&"number"!=typeof C)return L.emit("error",new Error("Invalid messageId")),!1;P&&(a+=2);let u=null;if(5===oe){if(u=W(L,h),!u)return!1;a+=u.length}return L.write(v.PUBLISH_HEADER[P][O.dup?1:0][F?1:0]),z(L,a),y(L,se(G)),L.write(G),P>0&&y(L,C),null!=u&&u.write(),r("publish: payload: %o",X),L.write(X)}(N,L,Y);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=O.cmd||"puback",F=O.messageId,G=O.dup&&"pubrel"===P?v.DUP_MASK:0;let X=0;const C=O.reasonCode,h=O.properties;let a=5===oe?3:2;if("pubrel"===P&&(X=1),"number"!=typeof F)return L.emit("error",new Error("Invalid messageId")),!1;let u=null;if(5===oe&&"object"==typeof h){if(u=V(L,h,Y,a),!u)return!1;a+=u.length}return L.write(v.ACKS[P][X][G][0]),z(L,a),y(L,F),5===oe&&L.write(m.from([C])),null!==u&&u.write(),!0}(N,L,Y);case"subscribe":return function(N,L,Y){r("subscribe: packet: ");const oe=Y?Y.protocolVersion:4,O=N||{},P=O.dup?v.DUP_MASK:0,F=O.messageId,G=O.subscriptions,X=O.properties;let C=0;if("number"!=typeof F)return L.emit("error",new Error("Invalid messageId")),!1;C+=2;let h=null;if(5===oe){if(h=W(L,X),!h)return!1;C+=h.length}if("object"!=typeof G||!G.length)return L.emit("error",new Error("Invalid subscriptions")),!1;for(let u=0;u<G.length;u+=1){const x=G[u].topic,U=G[u].qos;if("string"!=typeof x)return L.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof U)return L.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===oe){if("boolean"!=typeof(G[u].nl||!1))return L.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(G[u].rap||!1))return L.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const ae=G[u].rh||0;if("number"!=typeof ae||ae>2)return L.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}C+=m.byteLength(x)+2+1}r("subscribe: writing to stream: %o",v.SUBSCRIBE_HEADER),L.write(v.SUBSCRIBE_HEADER[1][P?1:0][0]),z(L,C),y(L,F),null!==h&&h.write();let a=!0;for(const u of G){const U=u.qos,$=+u.nl,ee=+u.rap,ae=u.rh;let le;T(L,u.topic),le=v.SUBSCRIBE_OPTIONS_QOS[U],5===oe&&(le|=$?v.SUBSCRIBE_OPTIONS_NL:0,le|=ee?v.SUBSCRIBE_OPTIONS_RAP:0,le|=ae?v.SUBSCRIBE_OPTIONS_RH[ae]:0),a=L.write(m.from([le]))}return a}(N,L,Y);case"suback":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=O.messageId,F=O.granted,G=O.properties;let X=0;if("number"!=typeof P)return L.emit("error",new Error("Invalid messageId")),!1;if(X+=2,"object"!=typeof F||!F.length)return L.emit("error",new Error("Invalid qos vector")),!1;for(let h=0;h<F.length;h+=1){if("number"!=typeof F[h])return L.emit("error",new Error("Invalid qos vector")),!1;X+=1}let C=null;if(5===oe){if(C=V(L,G,Y,X),!C)return!1;X+=C.length}return L.write(v.SUBACK_HEADER),z(L,X),y(L,P),null!==C&&C.write(),L.write(m.from(F))}(N,L,Y);case"unsubscribe":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=O.messageId,F=O.dup?v.DUP_MASK:0,G=O.unsubscriptions,X=O.properties;let C=0;if("number"!=typeof P)return L.emit("error",new Error("Invalid messageId")),!1;if(C+=2,"object"!=typeof G||!G.length)return L.emit("error",new Error("Invalid unsubscriptions")),!1;for(let u=0;u<G.length;u+=1){if("string"!=typeof G[u])return L.emit("error",new Error("Invalid unsubscriptions")),!1;C+=m.byteLength(G[u])+2}let h=null;if(5===oe){if(h=W(L,X),!h)return!1;C+=h.length}L.write(v.UNSUBSCRIBE_HEADER[1][F?1:0][0]),z(L,C),y(L,P),null!==h&&h.write();let a=!0;for(let u=0;u<G.length;u++)a=T(L,G[u]);return a}(N,L,Y);case"unsuback":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=O.messageId,F=O.dup?v.DUP_MASK:0,G=O.granted,X=O.properties,C=O.cmd,h=0;let a=2;if("number"!=typeof P)return L.emit("error",new Error("Invalid messageId")),!1;if(5===oe){if("object"!=typeof G||!G.length)return L.emit("error",new Error("Invalid qos vector")),!1;for(let x=0;x<G.length;x+=1){if("number"!=typeof G[x])return L.emit("error",new Error("Invalid qos vector")),!1;a+=1}}let u=null;if(5===oe){if(u=V(L,X,Y,a),!u)return!1;a+=u.length}return L.write(v.ACKS[C][h][F][0]),z(L,a),y(L,P),null!==u&&u.write(),5===oe&&L.write(m.from(G)),!0}(N,L,Y);case"pingreq":case"pingresp":return function(N,L,Y){return L.write(v.EMPTY[N.cmd])}(N,L);case"disconnect":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=O.reasonCode;let G=5===oe?1:0,X=null;if(5===oe){if(X=V(L,O.properties,Y,G),!X)return!1;G+=X.length}return L.write(m.from([v.codes.disconnect<<4])),z(L,G),5===oe&&L.write(m.from([P])),null!==X&&X.write(),!0}(N,L,Y);case"auth":return function(N,L,Y){const oe=Y?Y.protocolVersion:4,O=N||{},P=O.reasonCode,F=O.properties;let G=5===oe?1:0;5!==oe&&L.emit("error",new Error("Invalid mqtt version for auth packet"));const X=V(L,F,Y,G);return!!X&&(G+=X.length,L.write(m.from([v.codes.auth<<4])),z(L,G),L.write(m.from([P])),null!==X&&X.write(),!0)}(N,L,Y);default:return L.emit("error",new Error("Unknown command")),!1}}function b(N){N.uncork()}Object.defineProperty(i,"cacheNumbers",{get:()=>y===D,set(N){N?((!e||0===Object.keys(e).length)&&(l=!0),y=D):(l=!1,y=Z)}});const Q={};function z(N,L){if(L>v.VARBYTEINT_MAX)return N.emit("error",new Error(`Invalid variable byte integer: ${L}`)),!1;let Y=Q[L];return Y||(Y=s(L),L<16384&&(Q[L]=Y)),r("writeVarByteInt: writing to stream: %o",Y),N.write(Y)}function T(N,L){const Y=m.byteLength(L);return y(N,Y),r("writeString: %s",L),N.write(L,"utf8")}function k(N,L,Y){T(N,L),T(N,Y)}function D(N,L){return r("writeNumberCached: number: %d",L),r("writeNumberCached: %o",e[L]),N.write(e[L])}function Z(N,L){const Y=n(L);return r("writeNumberGenerated: %o",Y),N.write(Y)}function re(N,L){"string"==typeof L?T(N,L):L?(y(N,L.length),N.write(L)):y(N,0)}function W(N,L){if("object"!=typeof L||null!=L.length)return{length:1,write(){J(N,{},0)}};let Y=0;function oe(P,F){let X=0;switch(v.propertiesTypes[P]){case"byte":if("boolean"!=typeof F)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=2;break;case"int8":if("number"!=typeof F||F<0||F>255)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=2;break;case"binary":if(F&&null===F)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=1+m.byteLength(F)+2;break;case"int16":if("number"!=typeof F||F<0||F>65535)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=3;break;case"int32":if("number"!=typeof F||F<0||F>4294967295)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=5;break;case"var":if("number"!=typeof F||F<0||F>268435455)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=1+m.byteLength(s(F));break;case"string":if("string"!=typeof F)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=3+m.byteLength(F.toString());break;case"pair":if("object"!=typeof F)return N.emit("error",new Error(`Invalid ${P}: ${F}`)),!1;X+=Object.getOwnPropertyNames(F).reduce((C,h)=>{const a=F[h];return Array.isArray(a)?C+=a.reduce((u,x)=>u+(3+m.byteLength(h.toString())+2+m.byteLength(x.toString())),0):C+=3+m.byteLength(h.toString())+2+m.byteLength(F[h].toString()),C},0);break;default:return N.emit("error",new Error(`Invalid property ${P}: ${F}`)),!1}return X}if(L)for(const P in L){let F=0,G=0;const X=L[P];if(Array.isArray(X))for(let C=0;C<X.length;C++){if(G=oe(P,X[C]),!G)return!1;F+=G}else{if(G=oe(P,X),!G)return!1;F=G}if(!F)return!1;Y+=F}return{length:m.byteLength(s(Y))+Y,write(){J(N,L,Y)}}}function V(N,L,Y,oe){const O=["reasonString","userProperties"],P=Y&&Y.properties&&Y.properties.maximumPacketSize?Y.properties.maximumPacketSize:0;let F=W(N,L);if(P)for(;oe+F.length>P;){const G=O.shift();if(!G||!L[G])return!1;delete L[G],F=W(N,L)}return F}function te(N,L,Y){switch(v.propertiesTypes[L]){case"byte":N.write(m.from([v.properties[L]])),N.write(m.from([+Y]));break;case"int8":N.write(m.from([v.properties[L]])),N.write(m.from([Y]));break;case"binary":N.write(m.from([v.properties[L]])),re(N,Y);break;case"int16":N.write(m.from([v.properties[L]])),y(N,Y);break;case"int32":N.write(m.from([v.properties[L]])),function(N,L){const Y=p(L);r("write4ByteNumber: %o",Y),N.write(Y)}(N,Y);break;case"var":N.write(m.from([v.properties[L]])),z(N,Y);break;case"string":N.write(m.from([v.properties[L]])),T(N,Y);break;case"pair":Object.getOwnPropertyNames(Y).forEach(O=>{const P=Y[O];Array.isArray(P)?P.forEach(F=>{N.write(m.from([v.properties[L]])),k(N,O.toString(),F.toString())}):(N.write(m.from([v.properties[L]])),k(N,O.toString(),P.toString()))});break;default:return N.emit("error",new Error(`Invalid property ${L} value: ${Y}`)),!1}}function J(N,L,Y){z(N,Y);for(const oe in L)if(Object.prototype.hasOwnProperty.call(L,oe)&&null!==L[oe]){const O=L[oe];if(Array.isArray(O))for(let P=0;P<O.length;P++)te(N,oe,O[P]);else te(N,oe,O)}}function se(N){return N?N instanceof m?N.length:m.byteLength(N):0}function ne(N){return"string"==typeof N||N instanceof m}H.exports=i}).call(this)}).call(this,A("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(A,H,j){var m=1e3,v=60*m,g=60*v,d=24*g;function c(s,p,y,l){var i=p>=1.5*y;return Math.round(s/y)+" "+l+(i?"s":"")}H.exports=function(s,p){p=p||{};var y=typeof s;if("string"===y&&s.length>0)return function(s){if(!((s=String(s)).length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(p){var y=parseFloat(p[1]);switch((p[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*y;case"weeks":case"week":case"w":return 6048e5*y;case"days":case"day":case"d":return y*d;case"hours":case"hour":case"hrs":case"hr":case"h":return y*g;case"minutes":case"minute":case"mins":case"min":case"m":return y*v;case"seconds":case"second":case"secs":case"sec":case"s":return y*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}(s);if("number"===y&&isFinite(s))return p.long?function(s){var p=Math.abs(s);return p>=d?c(s,p,d,"day"):p>=g?c(s,p,g,"hour"):p>=v?c(s,p,v,"minute"):p>=m?c(s,p,m,"second"):s+" ms"}(s):function(s){var p=Math.abs(s);return p>=d?Math.round(s/d)+"d":p>=g?Math.round(s/g)+"h":p>=v?Math.round(s/v)+"m":p>=m?Math.round(s/m)+"s":s+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}},{}],46:[function(A,H,j){const m=A("./lib/number-allocator.js");H.exports.NumberAllocator=m},{"./lib/number-allocator.js":47}],47:[function(A,H,j){"use strict";const m=A("js-sdsl").Set,v=A("debug")("number-allocator:trace"),g=A("debug")("number-allocator:error");function d(t,r){this.low=t,this.high=r}function o(t,r){if(!(this instanceof o))return new o(t,r);this.min=t,this.max=r,this.ss=new m([],(e,n)=>e.compare(n)),v("Create"),this.clear()}d.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},d.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0},o.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},o.prototype.alloc=function(){if(0===this.ss.size())return v("alloc():empty"),null;const t=this.ss.front(),r=t.low;return r+1<=t.high?++t.low:this.ss.eraseElementByPos(0),v("alloc():"+r),r},o.prototype.use=function(t){const r=new d(t,t),e=this.ss.lowerBound(r);if(e){if(e.equals(r))return this.ss.eraseElementByValue(e),v("use():"+t),!0;if(e.low>t)return!1;if(e.low===t)return++e.low,v("use():"+t),!0;if(e.high===t)return--e.high,v("use():"+t),!0;const n=e.low;return e.low=t+1,this.ss.insert(new d(n,t-1)),v("use():"+t),!0}return v("use():failed"),!1},o.prototype.free=function(t){if(t<this.min||t>this.max)return void g("free():"+t+" is out of range");const r=new d(t,t),e=this.ss.lowerBound(r);if(e){if(e.low<=t&&t<=e.high)return void g("free():"+t+" has already been vacant");if(e===this.ss.front())t+1===e.low?--e.low:this.ss.insert(r);else{const n=this.ss.reverseLowerBound(r);n.high+1===t?t+1===e.low?(this.ss.eraseElementByValue(n),e.low=n.low):n.high=t:t+1===e.low?e.low=t:this.ss.insert(r)}}else{if(e===this.ss.front())return void this.ss.insert(r);const n=this.ss.reverseLowerBound(r);n.high+1===t?n.high=t:this.ss.insert(r)}v("free():"+t)},o.prototype.clear=function(){v("clear()"),this.ss.clear(),this.ss.insert(new d(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(const t of this.ss)console.log(t)},H.exports=o},{debug:18,"js-sdsl":36}],48:[function(A,H,j){var m=A("wrappy");function v(d){var o=function(){return o.called?o.value:(o.called=!0,o.value=d.apply(this,arguments))};return o.called=!1,o}function g(d){var o=function(){if(o.called)throw new Error(o.onceError);return o.called=!0,o.value=d.apply(this,arguments)};return o.onceError=(d.name||"Function wrapped with `once`")+" shouldn't be called more than once",o.called=!1,o}H.exports=m(v),H.exports.strict=m(g),v.proto=v(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return v(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return g(this)},configurable:!0})})},{wrappy:79}],49:[function(A,H,j){(function(m){(function(){"use strict";H.exports=void 0===m||!m.version||0===m.version.indexOf("v0.")||0===m.version.indexOf("v1.")&&0!==m.version.indexOf("v1.8.")?{nextTick:function(g,d,o,t){if("function"!=typeof g)throw new TypeError('"callback" argument must be a function');var e,n,r=arguments.length;switch(r){case 0:case 1:return m.nextTick(g);case 2:return m.nextTick(function(){g.call(null,d)});case 3:return m.nextTick(function(){g.call(null,d,o)});case 4:return m.nextTick(function(){g.call(null,d,o,t)});default:for(e=new Array(r-1),n=0;n<e.length;)e[n++]=arguments[n];return m.nextTick(function(){g.apply(null,e)})}}}:m}).call(this)}).call(this,A("_process"))},{_process:50}],50:[function(A,H,j){var v,g,m=H.exports={};function d(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function t(b){if(v===setTimeout)return setTimeout(b,0);if((v===d||!v)&&setTimeout)return v=setTimeout,setTimeout(b,0);try{return v(b,0)}catch(E){try{return v.call(null,b,0)}catch(S){return v.call(this,b,0)}}}!function(){try{v="function"==typeof setTimeout?setTimeout:d}catch(b){v=d}try{g="function"==typeof clearTimeout?clearTimeout:o}catch(b){g=o}}();var c,e=[],n=!1,s=-1;function p(){!n||!c||(n=!1,c.length?e=c.concat(e):s=-1,e.length&&y())}function y(){if(!n){var b=t(p);n=!0;for(var E=e.length;E;){for(c=e,e=[];++s<E;)c&&c[s].run();s=-1,E=e.length}c=null,n=!1,function(b){if(g===clearTimeout)return clearTimeout(b);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(b);try{g(b)}catch(E){try{return g.call(null,b)}catch(S){return g.call(this,b)}}}(b)}}function l(b,E){this.fun=b,this.array=E}function i(){}m.nextTick=function(b){var E=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)E[S-1]=arguments[S];e.push(new l(b,E)),1===e.length&&!n&&t(y)},l.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=i,m.addListener=i,m.once=i,m.off=i,m.removeListener=i,m.removeAllListeners=i,m.emit=i,m.prependListener=i,m.prependOnceListener=i,m.listeners=function(b){return[]},m.binding=function(b){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(b){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],51:[function(A,H,j){(function(m){(function(){!function(v){var g="object"==typeof j&&j&&!j.nodeType&&j,d="object"==typeof H&&H&&!H.nodeType&&H,o="object"==typeof m&&m;(o.global===o||o.window===o||o.self===o)&&(v=o);var t,f,r=2147483647,e=36,b=/^xn--/,E=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=Math.floor,q=String.fromCharCode;function _(W){throw new RangeError(I[W])}function w(W,V){for(var te=W.length,J=[];te--;)J[te]=V(W[te]);return J}function B(W,V){var te=W.split("@"),J="";return te.length>1&&(J=te[0]+"@",W=te[1]),J+w((W=W.replace(S,".")).split("."),V).join(".")}function K(W){for(var se,ne,V=[],te=0,J=W.length;te<J;)(se=W.charCodeAt(te++))>=55296&&se<=56319&&te<J?56320==(64512&(ne=W.charCodeAt(te++)))?V.push(((1023&se)<<10)+(1023&ne)+65536):(V.push(se),te--):V.push(se);return V}function Q(W){return w(W,function(V){var te="";return V>65535&&(te+=q((V-=65536)>>>10&1023|55296),V=56320|1023&V),te+q(V)}).join("")}function z(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:e}function T(W,V){return W+22+75*(W<26)-((0!=V)<<5)}function k(W,V,te){var J=0;for(W=te?M(W/700):W>>1,W+=M(W/V);W>455;J+=e)W=M(W/35);return M(J+36*W/(W+38))}function D(W){var J,L,Y,oe,O,P,F,G,X,C,V=[],te=W.length,se=0,ne=128,N=72;for((L=W.lastIndexOf("-"))<0&&(L=0),Y=0;Y<L;++Y)W.charCodeAt(Y)>=128&&_("not-basic"),V.push(W.charCodeAt(Y));for(oe=L>0?L+1:0;oe<te;){for(O=se,P=1,F=e;oe>=te&&_("invalid-input"),((G=z(W.charCodeAt(oe++)))>=e||G>M((r-se)/P))&&_("overflow"),se+=G*P,!(G<(X=F<=N?1:F>=N+26?26:F-N));F+=e)P>M(r/(C=e-X))&&_("overflow"),P*=C;N=k(se-O,J=V.length+1,0==O),M(se/J)>r-ne&&_("overflow"),ne+=M(se/J),se%=J,V.splice(se++,0,ne)}return Q(V)}function Z(W){var V,te,J,se,ne,N,L,Y,oe,O,P,G,X,C,h,F=[];for(G=(W=K(W)).length,V=128,te=0,ne=72,N=0;N<G;++N)(P=W[N])<128&&F.push(q(P));for(J=se=F.length,se&&F.push("-");J<G;){for(L=r,N=0;N<G;++N)(P=W[N])>=V&&P<L&&(L=P);for(L-V>M((r-te)/(X=J+1))&&_("overflow"),te+=(L-V)*X,V=L,N=0;N<G;++N)if((P=W[N])<V&&++te>r&&_("overflow"),P==V){for(Y=te,oe=e;!(Y<(O=oe<=ne?1:oe>=ne+26?26:oe-ne));oe+=e)F.push(q(T(O+(h=Y-O)%(C=e-O),0))),Y=M(h/C);F.push(q(T(Y,0))),ne=k(te,X,J==se),te=0,++J}++te,++V}return F.join("")}if(t={version:"1.4.1",ucs2:{decode:K,encode:Q},decode:D,encode:Z,toASCII:function(W){return B(W,function(V){return E.test(V)?"xn--"+Z(V):V})},toUnicode:function(W){return B(W,function(V){return b.test(V)?D(V.slice(4).toLowerCase()):V})}},g&&d)if(H.exports==g)d.exports=t;else for(f in t)t.hasOwnProperty(f)&&(g[f]=t[f]);else v.punycode=t}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(A,H,j){"use strict";function m(g,d){return Object.prototype.hasOwnProperty.call(g,d)}H.exports=function(g,d,o,t){o=o||"=";var r={};if("string"!=typeof g||0===g.length)return r;var e=/\+/g;g=g.split(d=d||"&");var n=1e3;t&&"number"==typeof t.maxKeys&&(n=t.maxKeys);var c=g.length;n>0&&c>n&&(c=n);for(var s=0;s<c;++s){var l,i,b,E,p=g[s].replace(e,"%20"),y=p.indexOf(o);y>=0?(l=p.substr(0,y),i=p.substr(y+1)):(l=p,i=""),b=decodeURIComponent(l),E=decodeURIComponent(i),m(r,b)?v(r[b])?r[b].push(E):r[b]=[r[b],E]:r[b]=E}return r};var v=Array.isArray||function(g){return"[object Array]"===Object.prototype.toString.call(g)}},{}],53:[function(A,H,j){"use strict";var m=function(o){switch(typeof o){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}};H.exports=function(o,t,r,e){return t=t||"&",r=r||"=",null===o&&(o=void 0),"object"==typeof o?g(d(o),function(n){var c=encodeURIComponent(m(n))+r;return v(o[n])?g(o[n],function(s){return c+encodeURIComponent(m(s))}).join(t):c+encodeURIComponent(m(o[n]))}).join(t):e?encodeURIComponent(m(e))+r+encodeURIComponent(m(o)):""};var v=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function g(o,t){if(o.map)return o.map(t);for(var r=[],e=0;e<o.length;e++)r.push(t(o[e],e));return r}var d=Object.keys||function(o){var t=[];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&t.push(r);return t}},{}],54:[function(A,H,j){"use strict";j.decode=j.parse=A("./decode"),j.encode=j.stringify=A("./encode")},{"./decode":52,"./encode":53}],55:[function(A,H,j){"use strict";var v={};function g(e,n,c){c||(c=Error);var p=function(y){function l(i,b,E){return y.call(this,function(y,l,i){return"string"==typeof n?n:n(y,l,i)}(i,b,E))||this}return function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}(l,y),l}(c);p.prototype.name=c.name,p.prototype.code=e,v[e]=p}function d(e,n){if(Array.isArray(e)){var c=e.length;return e=e.map(function(s){return String(s)}),c>2?"one of ".concat(n," ").concat(e.slice(0,c-1).join(", "),", or ")+e[c-1]:2===c?"one of ".concat(n," ").concat(e[0]," or ").concat(e[1]):"of ".concat(n," ").concat(e[0])}return"of ".concat(n," ").concat(String(e))}g("ERR_INVALID_OPT_VALUE",function(e,n){return'The value "'+n+'" is invalid for option "'+e+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(e,n,c){var s,p;if("string"==typeof n&&function(e,n,c){return e.substr(!c||c<0?0:+c,n.length)===n}(n,"not ")?(s="must not be",n=n.replace(/^not /,"")):s="must be",function(e,n,c){return(void 0===c||c>e.length)&&(c=e.length),e.substring(c-n.length,c)===n}(e," argument"))p="The ".concat(e," ").concat(s," ").concat(d(n,"type"));else{var y=function(e,n,c){return"number"!=typeof c&&(c=0),!(c+n.length>e.length)&&-1!==e.indexOf(n,c)}(e,".")?"property":"argument";p='The "'.concat(e,'" ').concat(y," ").concat(s," ").concat(d(n,"type"))}return p+". Received type ".concat(typeof c)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.codes=v},{}],56:[function(A,H,j){(function(m){(function(){"use strict";var v=Object.keys||function(s){var p=[];for(var y in s)p.push(y);return p};H.exports=e;var g=A("./_stream_readable"),d=A("./_stream_writable");A("inherits")(e,g);for(var o=v(d.prototype),t=0;t<o.length;t++){var r=o[t];e.prototype[r]||(e.prototype[r]=d.prototype[r])}function e(s){if(!(this instanceof e))return new e(s);g.call(this,s),d.call(this,s),this.allowHalfOpen=!0,s&&(!1===s.readable&&(this.readable=!1),!1===s.writable&&(this.writable=!1),!1===s.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",n)))}function n(){this._writableState.ended||m.nextTick(c,this)}function c(s){s.end()}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,A("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(A,H,j){"use strict";H.exports=v;var m=A("./_stream_transform");function v(g){if(!(this instanceof v))return new v(g);m.call(this,g)}A("inherits")(v,m),v.prototype._transform=function(g,d,o){o(null,g)}},{"./_stream_transform":59,inherits:24}],58:[function(A,H,j){(function(m,v){(function(){"use strict";var g;H.exports=z,z.ReadableState=Q,A("events");var o=function(h,a){return h.listeners(a).length},t=A("./internal/streams/stream"),r=A("buffer").Buffer,e=v.Uint8Array||function(){};var p,s=A("util");p=s&&s.debuglog?s.debuglog("stream"):function(){};var q,f,_,y=A("./internal/streams/buffer_list"),l=A("./internal/streams/destroy"),b=A("./internal/streams/state").getHighWaterMark,E=A("../errors").codes,S=E.ERR_INVALID_ARG_TYPE,I=E.ERR_STREAM_PUSH_AFTER_EOF,R=E.ERR_METHOD_NOT_IMPLEMENTED,M=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;A("inherits")(z,t);var w=l.errorOrDestroy,B=["error","close","destroy","pause","resume"];function Q(C,h,a){g=g||A("./_stream_duplex"),"boolean"!=typeof a&&(a=h instanceof g),this.objectMode=!!(C=C||{}).objectMode,a&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=b(this,C,"readableHighWaterMark",a),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==C.emitClose,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(q||(q=A("string_decoder/").StringDecoder),this.decoder=new q(C.encoding),this.encoding=C.encoding)}function z(C){if(g=g||A("./_stream_duplex"),!(this instanceof z))return new z(C);this._readableState=new Q(C,this,this instanceof g),this.readable=!0,C&&("function"==typeof C.read&&(this._read=C.read),"function"==typeof C.destroy&&(this._destroy=C.destroy)),t.call(this)}function T(C,h,a,u,x){p("readableAddChunk",h);var $,U=C._readableState;if(null===h)U.reading=!1,function(C,h){if(p("onEofChunk"),!h.ended){if(h.decoder){var a=h.decoder.end();a&&a.length&&(h.buffer.push(a),h.length+=h.objectMode?1:a.length)}h.ended=!0,h.sync?V(C):(h.needReadable=!1,h.emittedReadable||(h.emittedReadable=!0,te(C)))}}(C,U);else if(x||($=function(C,h){var a;return!function(C){return r.isBuffer(C)||C instanceof e}(h)&&"string"!=typeof h&&void 0!==h&&!C.objectMode&&(a=new S("chunk",["string","Buffer","Uint8Array"],h)),a}(U,h)),$)w(C,$);else if(U.objectMode||h&&h.length>0)if("string"!=typeof h&&!U.objectMode&&Object.getPrototypeOf(h)!==r.prototype&&(h=function(C){return r.from(C)}(h)),u)U.endEmitted?w(C,new M):k(C,U,h,!0);else if(U.ended)w(C,new I);else{if(U.destroyed)return!1;U.reading=!1,U.decoder&&!a?(h=U.decoder.write(h),U.objectMode||0!==h.length?k(C,U,h,!1):J(C,U)):k(C,U,h,!1)}else u||(U.reading=!1,J(C,U));return!U.ended&&(U.length<U.highWaterMark||0===U.length)}function k(C,h,a,u){h.flowing&&0===h.length&&!h.sync?(h.awaitDrain=0,C.emit("data",a)):(h.length+=h.objectMode?1:a.length,u?h.buffer.unshift(a):h.buffer.push(a),h.needReadable&&V(C)),J(C,h)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(h){!this._readableState||(this._readableState.destroyed=h)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(C,h){h(C)},z.prototype.push=function(C,h){var u,a=this._readableState;return a.objectMode?u=!0:"string"==typeof C&&((h=h||a.defaultEncoding)!==a.encoding&&(C=r.from(C,h),h=""),u=!0),T(this,C,h,!1,u)},z.prototype.unshift=function(C){return T(this,C,null,!0,!1)},z.prototype.isPaused=function(){return!1===this._readableState.flowing},z.prototype.setEncoding=function(C){q||(q=A("string_decoder/").StringDecoder);var h=new q(C);this._readableState.decoder=h,this._readableState.encoding=this._readableState.decoder.encoding;for(var a=this._readableState.buffer.head,u="";null!==a;)u+=h.write(a.data),a=a.next;return this._readableState.buffer.clear(),""!==u&&this._readableState.buffer.push(u),this._readableState.length=u.length,this};var Z=1073741824;function re(C,h){return C<=0||0===h.length&&h.ended?0:h.objectMode?1:C!=C?h.flowing&&h.length?h.buffer.head.data.length:h.length:(C>h.highWaterMark&&(h.highWaterMark=function(C){return C>=Z?C=Z:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}(C)),C<=h.length?C:h.ended?h.length:(h.needReadable=!0,0))}function V(C){var h=C._readableState;p("emitReadable",h.needReadable,h.emittedReadable),h.needReadable=!1,h.emittedReadable||(p("emitReadable",h.flowing),h.emittedReadable=!0,m.nextTick(te,C))}function te(C){var h=C._readableState;p("emitReadable_",h.destroyed,h.length,h.ended),!h.destroyed&&(h.length||h.ended)&&(C.emit("readable"),h.emittedReadable=!1),h.needReadable=!h.flowing&&!h.ended&&h.length<=h.highWaterMark,O(C)}function J(C,h){h.readingMore||(h.readingMore=!0,m.nextTick(se,C,h))}function se(C,h){for(;!h.reading&&!h.ended&&(h.length<h.highWaterMark||h.flowing&&0===h.length);){var a=h.length;if(p("maybeReadMore read 0"),C.read(0),a===h.length)break}h.readingMore=!1}function N(C){var h=C._readableState;h.readableListening=C.listenerCount("readable")>0,h.resumeScheduled&&!h.paused?h.flowing=!0:C.listenerCount("data")>0&&C.resume()}function L(C){p("readable nexttick read 0"),C.read(0)}function oe(C,h){p("resume",h.reading),h.reading||C.read(0),h.resumeScheduled=!1,C.emit("resume"),O(C),h.flowing&&!h.reading&&C.read(0)}function O(C){var h=C._readableState;for(p("flow",h.flowing);h.flowing&&null!==C.read(););}function P(C,h){return 0===h.length?null:(h.objectMode?a=h.buffer.shift():!C||C>=h.length?(a=h.decoder?h.buffer.join(""):1===h.buffer.length?h.buffer.first():h.buffer.concat(h.length),h.buffer.clear()):a=h.buffer.consume(C,h.decoder),a);var a}function F(C){var h=C._readableState;p("endReadable",h.endEmitted),h.endEmitted||(h.ended=!0,m.nextTick(G,h,C))}function G(C,h){if(p("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&0===C.length&&(C.endEmitted=!0,h.readable=!1,h.emit("end"),C.autoDestroy)){var a=h._writableState;(!a||a.autoDestroy&&a.finished)&&h.destroy()}}function X(C,h){for(var a=0,u=C.length;a<u;a++)if(C[a]===h)return a;return-1}z.prototype.read=function(C){p("read",C),C=parseInt(C,10);var h=this._readableState,a=C;if(0!==C&&(h.emittedReadable=!1),0===C&&h.needReadable&&((0!==h.highWaterMark?h.length>=h.highWaterMark:h.length>0)||h.ended))return p("read: emitReadable",h.length,h.ended),0===h.length&&h.ended?F(this):V(this),null;if(0===(C=re(C,h))&&h.ended)return 0===h.length&&F(this),null;var x,u=h.needReadable;return p("need readable",u),(0===h.length||h.length-C<h.highWaterMark)&&p("length less than watermark",u=!0),h.ended||h.reading?p("reading or ended",u=!1):u&&(p("do read"),h.reading=!0,h.sync=!0,0===h.length&&(h.needReadable=!0),this._read(h.highWaterMark),h.sync=!1,h.reading||(C=re(a,h))),null===(x=C>0?P(C,h):null)?(h.needReadable=h.length<=h.highWaterMark,C=0):(h.length-=C,h.awaitDrain=0),0===h.length&&(h.ended||(h.needReadable=!0),a!==C&&h.ended&&F(this)),null!==x&&this.emit("data",x),x},z.prototype._read=function(C){w(this,new R("_read()"))},z.prototype.pipe=function(C,h){var a=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=C;break;case 1:u.pipes=[u.pipes,C];break;default:u.pipes.push(C)}u.pipesCount+=1,p("pipe count=%d opts=%j",u.pipesCount,h);var U=h&&!1===h.end||C===m.stdout||C===m.stderr?ve:ee;function $(we,me){p("onunpipe"),we===a&&me&&!1===me.hasUnpiped&&(me.hasUnpiped=!0,p("cleanup"),C.removeListener("close",ye),C.removeListener("finish",be),C.removeListener("drain",ae),C.removeListener("error",ce),C.removeListener("unpipe",$),a.removeListener("end",ee),a.removeListener("end",ve),a.removeListener("data",he),le=!0,u.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&ae())}function ee(){p("onend"),C.end()}u.endEmitted?m.nextTick(U):a.once("end",U),C.on("unpipe",$);var ae=function(C){return function(){var a=C._readableState;p("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,0===a.awaitDrain&&o(C,"data")&&(a.flowing=!0,O(C))}}(a);C.on("drain",ae);var le=!1;function he(we){p("ondata");var me=C.write(we);p("dest.write",me),!1===me&&((1===u.pipesCount&&u.pipes===C||u.pipesCount>1&&-1!==X(u.pipes,C))&&!le&&(p("false write response, pause",u.awaitDrain),u.awaitDrain++),a.pause())}function ce(we){p("onerror",we),ve(),C.removeListener("error",ce),0===o(C,"error")&&w(C,we)}function ye(){C.removeListener("finish",be),ve()}function be(){p("onfinish"),C.removeListener("close",ye),ve()}function ve(){p("unpipe"),a.unpipe(C)}return a.on("data",he),function(C,h,a){if("function"==typeof C.prependListener)return C.prependListener(h,a);C._events&&C._events[h]?Array.isArray(C._events[h])?C._events[h].unshift(a):C._events[h]=[a,C._events[h]]:C.on(h,a)}(C,"error",ce),C.once("close",ye),C.once("finish",be),C.emit("pipe",a),u.flowing||(p("pipe resume"),a.resume()),C},z.prototype.unpipe=function(C){var h=this._readableState,a={hasUnpiped:!1};if(0===h.pipesCount)return this;if(1===h.pipesCount)return C&&C!==h.pipes||(C||(C=h.pipes),h.pipes=null,h.pipesCount=0,h.flowing=!1,C&&C.emit("unpipe",this,a)),this;if(!C){var u=h.pipes,x=h.pipesCount;h.pipes=null,h.pipesCount=0,h.flowing=!1;for(var U=0;U<x;U++)u[U].emit("unpipe",this,{hasUnpiped:!1});return this}var $=X(h.pipes,C);return-1===$||(h.pipes.splice($,1),h.pipesCount-=1,1===h.pipesCount&&(h.pipes=h.pipes[0]),C.emit("unpipe",this,a)),this},z.prototype.addListener=z.prototype.on=function(C,h){var a=t.prototype.on.call(this,C,h),u=this._readableState;return"data"===C?(u.readableListening=this.listenerCount("readable")>0,!1!==u.flowing&&this.resume()):"readable"===C&&!u.endEmitted&&!u.readableListening&&(u.readableListening=u.needReadable=!0,u.flowing=!1,u.emittedReadable=!1,p("on readable",u.length,u.reading),u.length?V(this):u.reading||m.nextTick(L,this)),a},z.prototype.removeListener=function(C,h){var a=t.prototype.removeListener.call(this,C,h);return"readable"===C&&m.nextTick(N,this),a},z.prototype.removeAllListeners=function(C){var h=t.prototype.removeAllListeners.apply(this,arguments);return("readable"===C||void 0===C)&&m.nextTick(N,this),h},z.prototype.resume=function(){var C=this._readableState;return C.flowing||(p("resume"),C.flowing=!C.readableListening,function(C,h){h.resumeScheduled||(h.resumeScheduled=!0,m.nextTick(oe,C,h))}(this,C)),C.paused=!1,this},z.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(C){var h=this,a=this._readableState,u=!1;for(var x in C.on("end",function(){if(p("wrapped end"),a.decoder&&!a.ended){var $=a.decoder.end();$&&$.length&&h.push($)}h.push(null)}),C.on("data",function($){p("wrapped data"),a.decoder&&($=a.decoder.write($)),a.objectMode&&null==$||!(a.objectMode||$&&$.length)||h.push($)||(u=!0,C.pause())}),C)void 0===this[x]&&"function"==typeof C[x]&&(this[x]=function(ee){return function(){return C[ee].apply(C,arguments)}}(x));for(var U=0;U<B.length;U++)C.on(B[U],this.emit.bind(this,B[U]));return this._read=function($){p("wrapped _read",$),u&&(u=!1,C.resume())},this},"function"==typeof Symbol&&(z.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=A("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}}),z._fromList=P,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(z.from=function(C,h){return void 0===_&&(_=A("./internal/streams/from")),_(z,C,h)})}).call(this)}).call(this,A("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(A,H,j){"use strict";H.exports=e;var m=A("../errors").codes,v=m.ERR_METHOD_NOT_IMPLEMENTED,g=m.ERR_MULTIPLE_CALLBACK,d=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=m.ERR_TRANSFORM_WITH_LENGTH_0,t=A("./_stream_duplex");function r(s,p){var y=this._transformState;y.transforming=!1;var l=y.writecb;if(null===l)return this.emit("error",new g);y.writechunk=null,y.writecb=null,null!=p&&this.push(p),l(s);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function e(s){if(!(this instanceof e))return new e(s);t.call(this,s),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&("function"==typeof s.transform&&(this._transform=s.transform),"function"==typeof s.flush&&(this._flush=s.flush)),this.on("prefinish",n)}function n(){var s=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush(function(p,y){c(s,p,y)})}function c(s,p,y){if(p)return s.emit("error",p);if(null!=y&&s.push(y),s._writableState.length)throw new o;if(s._transformState.transforming)throw new d;return s.push(null)}A("inherits")(e,t),e.prototype.push=function(s,p){return this._transformState.needTransform=!1,t.prototype.push.call(this,s,p)},e.prototype._transform=function(s,p,y){y(new v("_transform()"))},e.prototype._write=function(s,p,y){var l=this._transformState;if(l.writecb=y,l.writechunk=s,l.writeencoding=p,!l.transforming){var i=this._readableState;(l.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},e.prototype._read=function(s){var p=this._transformState;null===p.writechunk||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},e.prototype._destroy=function(s,p){t.prototype._destroy.call(this,s,function(y){p(y)})}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(A,H,j){(function(m,v){(function(){"use strict";function d(O){var P=this;this.next=null,this.entry=null,this.finish=function(){!function(O,P,F){var G=O.entry;for(O.entry=null;G;){var X=G.callback;P.pendingcb--,X(F),G=G.next}P.corkedRequestsFree.next=O}(P,O)}}var o;H.exports=Q,Q.WritableState=B;var t={deprecate:A("util-deprecate")},r=A("./internal/streams/stream"),e=A("buffer").Buffer,n=v.Uint8Array||function(){};var K,p=A("./internal/streams/destroy"),l=A("./internal/streams/state").getHighWaterMark,i=A("../errors").codes,b=i.ERR_INVALID_ARG_TYPE,E=i.ERR_METHOD_NOT_IMPLEMENTED,S=i.ERR_MULTIPLE_CALLBACK,I=i.ERR_STREAM_CANNOT_PIPE,R=i.ERR_STREAM_DESTROYED,M=i.ERR_STREAM_NULL_VALUES,q=i.ERR_STREAM_WRITE_AFTER_END,f=i.ERR_UNKNOWN_ENCODING,_=p.errorOrDestroy;function w(){}function B(O,P,F){o=o||A("./_stream_duplex"),"boolean"!=typeof F&&(F=P instanceof o),this.objectMode=!!(O=O||{}).objectMode,F&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=l(this,O,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===O.decodeStrings),this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){!function(O,P){var F=O._writableState,G=F.sync,X=F.writecb;if("function"!=typeof X)throw new S;if(function(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}(F),P)!function(O,P,F,G,X){--P.pendingcb,F?(m.nextTick(X,G),m.nextTick(L,O,P),O._writableState.errorEmitted=!0,_(O,G)):(X(G),O._writableState.errorEmitted=!0,_(O,G),L(O,P))}(O,F,G,P,X);else{var C=se(F)||O.destroyed;!C&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&J(O,F),G?m.nextTick(V,O,F,C,X):V(O,F,C,X)}}(P,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==O.emitClose,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function Q(O){var P=this instanceof(o=o||A("./_stream_duplex"));if(!P&&!K.call(Q,this))return new Q(O);this._writableState=new B(O,this,P),this.writable=!0,O&&("function"==typeof O.write&&(this._write=O.write),"function"==typeof O.writev&&(this._writev=O.writev),"function"==typeof O.destroy&&(this._destroy=O.destroy),"function"==typeof O.final&&(this._final=O.final)),r.call(this)}function D(O,P,F,G,X,C){if(!F){var h=function(O,P,F){return!O.objectMode&&!1!==O.decodeStrings&&"string"==typeof P&&(P=e.from(P,F)),P}(P,G,X);G!==h&&(F=!0,X="buffer",G=h)}var a=P.objectMode?1:G.length;P.length+=a;var u=P.length<P.highWaterMark;if(u||(P.needDrain=!0),P.writing||P.corked){var x=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:X,isBuf:F,callback:C,next:null},x?x.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else Z(O,P,!1,a,G,X,C);return u}function Z(O,P,F,G,X,C,h){P.writelen=G,P.writecb=h,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new R("write")):F?O._writev(X,P.onwrite):O._write(X,C,P.onwrite),P.sync=!1}function V(O,P,F,G){F||function(O,P){0===P.length&&P.needDrain&&(P.needDrain=!1,O.emit("drain"))}(O,P),P.pendingcb--,G(),L(O,P)}function J(O,P){P.bufferProcessing=!0;var F=P.bufferedRequest;if(O._writev&&F&&F.next){var X=new Array(P.bufferedRequestCount),C=P.corkedRequestsFree;C.entry=F;for(var h=0,a=!0;F;)X[h]=F,F.isBuf||(a=!1),F=F.next,h+=1;X.allBuffers=a,Z(O,P,!0,P.length,X,"",C.finish),P.pendingcb++,P.lastBufferedRequest=null,C.next?(P.corkedRequestsFree=C.next,C.next=null):P.corkedRequestsFree=new d(P),P.bufferedRequestCount=0}else{for(;F;){var u=F.chunk;if(Z(O,P,!1,P.objectMode?1:u.length,u,F.encoding,F.callback),F=F.next,P.bufferedRequestCount--,P.writing)break}null===F&&(P.lastBufferedRequest=null)}P.bufferedRequest=F,P.bufferProcessing=!1}function se(O){return O.ending&&0===O.length&&null===O.bufferedRequest&&!O.finished&&!O.writing}function ne(O,P){O._final(function(F){P.pendingcb--,F&&_(O,F),P.prefinished=!0,O.emit("prefinish"),L(O,P)})}function L(O,P){var F=se(P);if(F&&(function(O,P){!P.prefinished&&!P.finalCalled&&("function"!=typeof O._final||P.destroyed?(P.prefinished=!0,O.emit("prefinish")):(P.pendingcb++,P.finalCalled=!0,m.nextTick(ne,O,P)))}(O,P),0===P.pendingcb&&(P.finished=!0,O.emit("finish"),P.autoDestroy))){var G=O._readableState;(!G||G.autoDestroy&&G.endEmitted)&&O.destroy()}return F}A("inherits")(Q,r),B.prototype.getBuffer=function(){for(var P=this.bufferedRequest,F=[];P;)F.push(P),P=P.next;return F},function(){try{Object.defineProperty(B.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(O){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(P){return!!K.call(this,P)||this===Q&&P&&P._writableState instanceof B}})):K=function(P){return P instanceof this},Q.prototype.pipe=function(){_(this,new I)},Q.prototype.write=function(O,P,F){var G=this._writableState,X=!1,C=!G.objectMode&&function(O){return e.isBuffer(O)||O instanceof n}(O);return C&&!e.isBuffer(O)&&(O=function(O){return e.from(O)}(O)),"function"==typeof P&&(F=P,P=null),C?P="buffer":P||(P=G.defaultEncoding),"function"!=typeof F&&(F=w),G.ending?function(O,P){var F=new q;_(O,F),m.nextTick(P,F)}(this,F):(C||function(O,P,F,G){var X;return null===F?X=new M:"string"!=typeof F&&!P.objectMode&&(X=new b("chunk",["string","Buffer"],F)),!X||(_(O,X),m.nextTick(G,X),!1)}(this,G,O,F))&&(G.pendingcb++,X=D(this,G,C,O,P,F)),X},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&J(this,O))},Q.prototype.setDefaultEncoding=function(P){if("string"==typeof P&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new f(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Q.prototype._write=function(O,P,F){F(new E("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(O,P,F){var G=this._writableState;return"function"==typeof O?(F=O,O=null,P=null):"function"==typeof P&&(F=P,P=null),null!=O&&this.write(O,P),G.corked&&(G.corked=1,this.uncork()),G.ending||function(O,P,F){P.ending=!0,L(O,P),F&&(P.finished?m.nextTick(F):O.once("finish",F)),P.ended=!0,O.writable=!1}(this,G,F),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(P){!this._writableState||(this._writableState.destroyed=P)}}),Q.prototype.destroy=p.destroy,Q.prototype._undestroy=p.undestroy,Q.prototype._destroy=function(O,P){P(O)}}).call(this)}).call(this,A("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(A,H,j){(function(m){(function(){"use strict";var v;function g(I,R,M){return R in I?Object.defineProperty(I,R,{value:M,enumerable:!0,configurable:!0,writable:!0}):I[R]=M,I}var d=A("./end-of-stream"),o=Symbol("lastResolve"),t=Symbol("lastReject"),r=Symbol("error"),e=Symbol("ended"),n=Symbol("lastPromise"),c=Symbol("handlePromise"),s=Symbol("stream");function p(I,R){return{value:I,done:R}}function y(I){var R=I[o];if(null!==R){var M=I[s].read();null!==M&&(I[n]=null,I[o]=null,I[t]=null,R(p(M,!1)))}}function l(I){m.nextTick(y,I)}var b=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((g(v={get stream(){return this[s]},next:function(){var R=this,M=this[r];if(null!==M)return Promise.reject(M);if(this[e])return Promise.resolve(p(void 0,!0));if(this[s].destroyed)return new Promise(function(w,B){m.nextTick(function(){R[r]?B(R[r]):w(p(void 0,!0))})});var f,q=this[n];if(q)f=new Promise(function(I,R){return function(M,q){I.then(function(){R[e]?M(p(void 0,!0)):R[c](M,q)},q)}}(q,this));else{var _=this[s].read();if(null!==_)return Promise.resolve(p(_,!1));f=new Promise(this[c])}return this[n]=f,f}},Symbol.asyncIterator,function(){return this}),g(v,"return",function(){var R=this;return new Promise(function(M,q){R[s].destroy(null,function(f){f?q(f):M(p(void 0,!0))})})}),v),b);H.exports=function(R){var M,q=Object.create(E,(g(M={},s,{value:R,writable:!0}),g(M,o,{value:null,writable:!0}),g(M,t,{value:null,writable:!0}),g(M,r,{value:null,writable:!0}),g(M,e,{value:R._readableState.endEmitted,writable:!0}),g(M,c,{value:function(_,w){var B=q[s].read();B?(q[n]=null,q[o]=null,q[t]=null,_(p(B,!1))):(q[o]=_,q[t]=w)},writable:!0}),M));return q[n]=null,d(R,function(f){if(f&&"ERR_STREAM_PREMATURE_CLOSE"!==f.code){var _=q[t];return null!==_&&(q[n]=null,q[o]=null,q[t]=null,_(f)),void(q[r]=f)}var w=q[o];null!==w&&(q[n]=null,q[o]=null,q[t]=null,w(p(void 0,!0))),q[e]=!0}),R.on("readable",l.bind(null,q)),q}}).call(this)}).call(this,A("_process"))},{"./end-of-stream":64,_process:50}],62:[function(A,H,j){"use strict";function m(y,l){var i=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);l&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(y,E).enumerable})),i.push.apply(i,b)}return i}function g(y,l,i){return l in y?Object.defineProperty(y,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):y[l]=i,y}function o(y,l){for(var i=0;i<l.length;i++){var b=l[i];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}var e=A("buffer").Buffer,c=A("util").inspect,s=c&&c.custom||"inspect";function p(y,l,i){e.prototype.copy.call(y,l,i)}H.exports=function(){function y(){(function(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function")})(this,y),this.head=null,this.tail=null,this.length=0}return function(y,l,i){l&&o(y.prototype,l),i&&o(y,i)}(y,[{key:"push",value:function(i){var b={data:i,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(i){var b={data:i,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(0!==this.length){var i=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,i}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(i){if(0===this.length)return"";for(var b=this.head,E=""+b.data;b=b.next;)E+=i+b.data;return E}},{key:"concat",value:function(i){if(0===this.length)return e.alloc(0);for(var b=e.allocUnsafe(i>>>0),E=this.head,S=0;E;)p(E.data,b,S),S+=E.data.length,E=E.next;return b}},{key:"consume",value:function(i,b){var E;return i<this.head.data.length?(E=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):E=i===this.head.data.length?this.shift():b?this._getString(i):this._getBuffer(i),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(i){var b=this.head,E=1,S=b.data;for(i-=S.length;b=b.next;){var I=b.data,R=i>I.length?I.length:i;if(S+=R===I.length?I:I.slice(0,i),0==(i-=R)){R===I.length?(++E,this.head=b.next?b.next:this.tail=null):(this.head=b,b.data=I.slice(R));break}++E}return this.length-=E,S}},{key:"_getBuffer",value:function(i){var b=e.allocUnsafe(i),E=this.head,S=1;for(E.data.copy(b),i-=E.data.length;E=E.next;){var I=E.data,R=i>I.length?I.length:i;if(I.copy(b,b.length-i,0,R),0==(i-=R)){R===I.length?(++S,this.head=E.next?E.next:this.tail=null):(this.head=E,E.data=I.slice(R));break}++S}return this.length-=S,b}},{key:s,value:function(i,b){return c(this,function(y){for(var l=1;l<arguments.length;l++){var i=null!=arguments[l]?arguments[l]:{};l%2?m(Object(i),!0).forEach(function(b){g(y,b,i[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(i,b))})}return y}({},b,{depth:0,customInspect:!1}))}}]),y}()},{buffer:17,util:16}],63:[function(A,H,j){(function(m){(function(){"use strict";function g(e,n){t(e,n),d(e)}function d(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function t(e,n){e.emit("error",n)}H.exports={destroy:function(e,n){var c=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(t,this,e)):m.nextTick(t,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(y){!n&&y?c._writableState?c._writableState.errorEmitted?m.nextTick(d,c):(c._writableState.errorEmitted=!0,m.nextTick(g,c,y)):m.nextTick(g,c,y):n?(m.nextTick(d,c),n(y)):m.nextTick(d,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,n){var c=e._readableState,s=e._writableState;c&&c.autoDestroy||s&&s.autoDestroy?e.destroy(n):e.emit("error",n)}}}).call(this)}).call(this,A("_process"))},{_process:50}],64:[function(A,H,j){"use strict";var m=A("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function g(){}H.exports=function o(t,r,e){if("function"==typeof r)return o(t,null,r);r||(r={}),e=function(t){var r=!1;return function(){if(!r){r=!0;for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];t.apply(this,n)}}}(e||g);var n=r.readable||!1!==r.readable&&t.readable,c=r.writable||!1!==r.writable&&t.writable,s=function(){t.writable||y()},p=t._writableState&&t._writableState.finished,y=function(){c=!1,p=!0,n||e.call(t)},l=t._readableState&&t._readableState.endEmitted,i=function(){n=!1,l=!0,c||e.call(t)},b=function(R){e.call(t,R)},E=function(){var R;return n&&!l?((!t._readableState||!t._readableState.ended)&&(R=new m),e.call(t,R)):c&&!p?((!t._writableState||!t._writableState.ended)&&(R=new m),e.call(t,R)):void 0},S=function(){t.req.on("finish",y)};return function(t){return t.setHeader&&"function"==typeof t.abort}(t)?(t.on("complete",y),t.on("abort",E),t.req?S():t.on("request",S)):c&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",i),t.on("finish",y),!1!==r.error&&t.on("error",b),t.on("close",E),function(){t.removeListener("complete",y),t.removeListener("abort",E),t.removeListener("request",S),t.req&&t.req.removeListener("finish",y),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",y),t.removeListener("end",i),t.removeListener("error",b),t.removeListener("close",E)}}},{"../../../errors":55}],65:[function(A,H,j){H.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(A,H,j){"use strict";var m;var g=A("../../../errors").codes,d=g.ERR_MISSING_ARGS,o=g.ERR_STREAM_DESTROYED;function t(y){if(y)throw y}function e(y,l,i,b){b=function(y){var l=!1;return function(){l||(l=!0,y.apply(void 0,arguments))}}(b);var E=!1;y.on("close",function(){E=!0}),void 0===m&&(m=A("./end-of-stream")),m(y,{readable:l,writable:i},function(I){if(I)return b(I);E=!0,b()});var S=!1;return function(I){if(!E&&!S){if(S=!0,function(y){return y.setHeader&&"function"==typeof y.abort}(y))return y.abort();if("function"==typeof y.destroy)return y.destroy();b(I||new o("pipe"))}}}function n(y){y()}function c(y,l){return y.pipe(l)}function s(y){return y.length&&"function"==typeof y[y.length-1]?y.pop():t}H.exports=function(){for(var y=arguments.length,l=new Array(y),i=0;i<y;i++)l[i]=arguments[i];var b=s(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new d("streams");var E,S=l.map(function(I,R){var M=R<l.length-1;return e(I,M,R>0,function(f){E||(E=f),f&&S.forEach(n),!M&&(S.forEach(n),b(E))})});return l.reduce(c)}},{"../../../errors":55,"./end-of-stream":64}],67:[function(A,H,j){"use strict";var m=A("../../../errors").codes.ERR_INVALID_OPT_VALUE;H.exports={getHighWaterMark:function(d,o,t,r){var e=function(d,o,t){return null!=d.highWaterMark?d.highWaterMark:o?d[t]:null}(o,r,t);if(null!=e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new m(r?t:"highWaterMark",e);return Math.floor(e)}return d.objectMode?16:16384}}},{"../../../errors":55}],68:[function(A,H,j){H.exports=A("events").EventEmitter},{events:22}],69:[function(A,H,j){(j=H.exports=A("./lib/_stream_readable.js")).Stream=j,j.Readable=j,j.Writable=A("./lib/_stream_writable.js"),j.Duplex=A("./lib/_stream_duplex.js"),j.Transform=A("./lib/_stream_transform.js"),j.PassThrough=A("./lib/_stream_passthrough.js"),j.finished=A("./lib/internal/streams/end-of-stream.js"),j.pipeline=A("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(A,H,j){"use strict";function m(g,d,o){var t=this;this._callback=g,this._args=o,this._interval=setInterval(g,d,this._args),this.reschedule=function(r){r||(r=t._interval),t._interval&&clearInterval(t._interval),t._interval=setInterval(t._callback,r,t._args)},this.clear=function(){t._interval&&(clearInterval(t._interval),t._interval=void 0)},this.destroy=function(){t._interval&&clearInterval(t._interval),t._callback=void 0,t._interval=void 0,t._args=void 0}}H.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var g;if(arguments.length>0){g=new Array(arguments.length-2);for(var d=0;d<g.length;d++)g[d]=arguments[d+2]}return new m(arguments[0],arguments[1],g)}},{}],71:[function(A,H,j){"use strict";H.exports=A("./index.js")()},{"./index.js":72}],72:[function(A,H,j){(function(m){(function(){"use strict";function v(o){return o instanceof m?m.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}H.exports=function(o){return(o=o||{}).circles?function(o){var t=[],r=[];return o.proto?c:n;function e(s,p){for(var y=Object.keys(s),l=new Array(y.length),i=0;i<y.length;i++){var b=y[i],E=s[b];if("object"!=typeof E||null===E)l[b]=E;else if(E instanceof Date)l[b]=new Date(E);else if(ArrayBuffer.isView(E))l[b]=v(E);else{var S=t.indexOf(E);l[b]=-1!==S?r[S]:p(E)}}return l}function n(s){if("object"!=typeof s||null===s)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return e(s,n);if(s instanceof Map)return new Map(e(Array.from(s),n));if(s instanceof Set)return new Set(e(Array.from(s),n));var p={};for(var y in t.push(s),r.push(p),s)if(!1!==Object.hasOwnProperty.call(s,y)){var l=s[y];if("object"!=typeof l||null===l)p[y]=l;else if(l instanceof Date)p[y]=new Date(l);else if(l instanceof Map)p[y]=new Map(e(Array.from(l),n));else if(l instanceof Set)p[y]=new Set(e(Array.from(l),n));else if(ArrayBuffer.isView(l))p[y]=v(l);else{var i=t.indexOf(l);p[y]=-1!==i?r[i]:n(l)}}return t.pop(),r.pop(),p}function c(s){if("object"!=typeof s||null===s)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return e(s,c);if(s instanceof Map)return new Map(e(Array.from(s),c));if(s instanceof Set)return new Set(e(Array.from(s),c));var p={};for(var y in t.push(s),r.push(p),s){var l=s[y];if("object"!=typeof l||null===l)p[y]=l;else if(l instanceof Date)p[y]=new Date(l);else if(l instanceof Map)p[y]=new Map(e(Array.from(l),c));else if(l instanceof Set)p[y]=new Set(e(Array.from(l),c));else if(ArrayBuffer.isView(l))p[y]=v(l);else{var i=t.indexOf(l);p[y]=-1!==i?r[i]:c(l)}}return t.pop(),r.pop(),p}}(o):o.proto?function e(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var c={};for(var s in n){var p=n[s];c[s]="object"!=typeof p||null===p?p:p instanceof Date?new Date(p):p instanceof Map?new Map(t(Array.from(p),e)):p instanceof Set?new Set(t(Array.from(p),e)):ArrayBuffer.isView(p)?v(p):e(p)}return c}:function r(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,r);if(n instanceof Map)return new Map(t(Array.from(n),r));if(n instanceof Set)return new Set(t(Array.from(n),r));var c={};for(var s in n)if(!1!==Object.hasOwnProperty.call(n,s)){var p=n[s];c[s]="object"!=typeof p||null===p?p:p instanceof Date?new Date(p):p instanceof Map?new Map(t(Array.from(p),r)):p instanceof Set?new Set(t(Array.from(p),r)):ArrayBuffer.isView(p)?v(p):r(p)}return c};function t(n,c){for(var s=Object.keys(n),p=new Array(s.length),y=0;y<s.length;y++){var l=s[y],i=n[l];p[l]="object"!=typeof i||null===i?i:i instanceof Date?new Date(i):ArrayBuffer.isView(i)?v(i):c(i)}return p}}}).call(this)}).call(this,A("buffer").Buffer)},{buffer:17}],73:[function(A,H,j){var m=A("buffer"),v=m.Buffer;function g(o,t){for(var r in o)t[r]=o[r]}function d(o,t,r){return v(o,t,r)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?H.exports=m:(g(m,j),j.Buffer=d),d.prototype=Object.create(v.prototype),g(v,d),d.from=function(o,t,r){if("number"==typeof o)throw new TypeError("Argument must not be a number");return v(o,t,r)},d.alloc=function(o,t,r){if("number"!=typeof o)throw new TypeError("Argument must be a number");var e=v(o);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},d.allocUnsafe=function(o){if("number"!=typeof o)throw new TypeError("Argument must be a number");return v(o)},d.allocUnsafeSlow=function(o){if("number"!=typeof o)throw new TypeError("Argument must be a number");return m.SlowBuffer(o)}},{buffer:17}],74:[function(A,H,j){H.exports=function(g){var d=g._readableState;return d?d.objectMode||"number"==typeof g._duplexState?g.read():g.read(function(g){return g.buffer.length?g.buffer.head?g.buffer.head.data.length:g.buffer[0].length:g.length}(d)):null}},{}],75:[function(A,H,j){"use strict";var m=A("safe-buffer").Buffer,v=m.isEncoding||function(S){switch((S=""+S)&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(S){var I;switch(this.encoding=function(S){var I=function(S){if(!S)return"utf8";for(var I;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(I)return;S=(""+S).toLowerCase(),I=!0}}(S);if("string"!=typeof I&&(m.isEncoding===v||!v(S)))throw new Error("Unknown encoding: "+S);return I||S}(S),this.encoding){case"utf16le":this.text=p,this.end=y,I=4;break;case"utf8":this.fillLast=n,I=4;break;case"base64":this.text=l,this.end=i,I=3;break;default:return this.write=b,void(this.end=E)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(I)}function t(S){return S<=127?0:S>>5==6?2:S>>4==14?3:S>>3==30?4:S>>6==2?-1:-2}function n(S){var I=this.lastTotal-this.lastNeed,R=function(S,I,R){if(128!=(192&I[0]))return S.lastNeed=0,"\ufffd";if(S.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return S.lastNeed=1,"\ufffd";if(S.lastNeed>2&&I.length>2&&128!=(192&I[2]))return S.lastNeed=2,"\ufffd"}}(this,S);return void 0!==R?R:this.lastNeed<=S.length?(S.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(S.copy(this.lastChar,I,0,S.length),void(this.lastNeed-=S.length))}function p(S,I){if((S.length-I)%2==0){var R=S.toString("utf16le",I);if(R){var M=R.charCodeAt(R.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",I,S.length-1)}function y(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function l(S,I){var R=(S.length-I)%3;return 0===R?S.toString("base64",I):(this.lastNeed=3-R,this.lastTotal=3,1===R?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",I,S.length-R))}function i(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function b(S){return S.toString(this.encoding)}function E(S){return S&&S.length?this.write(S):""}j.StringDecoder=o,o.prototype.write=function(S){if(0===S.length)return"";var I,R;if(this.lastNeed){if(void 0===(I=this.fillLast(S)))return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<S.length?I?I+this.text(S,R):this.text(S,R):I||""},o.prototype.end=function(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+"\ufffd":I},o.prototype.text=function(S,I){var R=function(S,I,R){var M=I.length-1;if(M<R)return 0;var q=t(I[M]);return q>=0?(q>0&&(S.lastNeed=q-1),q):--M<R||-2===q?0:(q=t(I[M]))>=0?(q>0&&(S.lastNeed=q-2),q):--M<R||-2===q?0:(q=t(I[M]))>=0?(q>0&&(2===q?q=0:S.lastNeed=q-3),q):0}(this,S,I);if(!this.lastNeed)return S.toString("utf8",I);this.lastTotal=R;var M=S.length-(R-this.lastNeed);return S.copy(this.lastChar,0,M),S.toString("utf8",I,M)},o.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length}},{"safe-buffer":73}],76:[function(A,H,j){"use strict";var m=A("punycode"),v=A("./util");function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}j.parse=I,j.resolve=function(f,_){return I(f,!1,!0).resolve(_)},j.resolveObject=function(f,_){return f?I(f,!1,!0).resolveObject(_):_},j.format=function(f){return v.isString(f)&&(f=I(f)),f instanceof g?f.format():g.prototype.format.call(f)},j.Url=g;var d=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,t=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,e=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),n=["'"].concat(e),c=["%","/","?",";","#"].concat(n),s=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,i={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=A("querystring");function I(f,_,w){if(f&&v.isObject(f)&&f instanceof g)return f;var B=new g;return B.parse(f,_,w),B}g.prototype.parse=function(f,_,w){if(!v.isString(f))throw new TypeError("Parameter 'url' must be a string, not "+typeof f);var B=f.indexOf("?"),K=-1!==B&&B<f.indexOf("#")?"?":"#",Q=f.split(K);Q[0]=Q[0].replace(/\\/g,"/");var T=f=Q.join(K);if(T=T.trim(),!w&&1===f.split("#").length){var k=t.exec(T);if(k)return this.path=T,this.href=T,this.pathname=k[1],k[2]?(this.search=k[2],this.query=_?S.parse(this.search.substr(1)):this.search.substr(1)):_&&(this.search="",this.query={}),this}var D=d.exec(T);if(D){var Z=(D=D[0]).toLowerCase();this.protocol=Z,T=T.substr(D.length)}if(w||D||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var ie="//"===T.substr(0,2);ie&&(!D||!b[D])&&(T=T.substr(2),this.slashes=!0)}if(!b[D]&&(ie||D&&!E[D])){for(var re=-1,W=0;W<s.length;W++)-1!==(V=T.indexOf(s[W]))&&(-1===re||V<re)&&(re=V);var te,J;for(-1!==(J=-1===re?T.lastIndexOf("@"):T.lastIndexOf("@",re))&&(te=T.slice(0,J),T=T.slice(J+1),this.auth=decodeURIComponent(te)),re=-1,W=0;W<c.length;W++){var V;-1!==(V=T.indexOf(c[W]))&&(-1===re||V<re)&&(re=V)}-1===re&&(re=T.length),this.host=T.slice(0,re),T=T.slice(re),this.parseHost(),this.hostname=this.hostname||"";var se="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!se)for(var ne=this.hostname.split(/\./),N=(W=0,ne.length);W<N;W++){var L=ne[W];if(L&&!L.match(y)){for(var Y="",oe=0,O=L.length;oe<O;oe++)L.charCodeAt(oe)>127?Y+="x":Y+=L[oe];if(!Y.match(y)){var P=ne.slice(0,W),F=ne.slice(W+1),G=L.match(l);G&&(P.push(G[1]),F.unshift(G[2])),F.length&&(T="/"+F.join(".")+T),this.hostname=P.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),se||(this.hostname=m.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==T[0]&&(T="/"+T))}if(!i[Z])for(W=0,N=n.length;W<N;W++){var h=n[W];if(-1!==T.indexOf(h)){var a=encodeURIComponent(h);a===h&&(a=escape(h)),T=T.split(h).join(a)}}var u=T.indexOf("#");-1!==u&&(this.hash=T.substr(u),T=T.slice(0,u));var x=T.indexOf("?");return-1!==x?(this.search=T.substr(x),this.query=T.substr(x+1),_&&(this.query=S.parse(this.query)),T=T.slice(0,x)):_&&(this.search="",this.query={}),T&&(this.pathname=T),E[Z]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},g.prototype.format=function(){var f=this.auth||"";f&&(f=(f=encodeURIComponent(f)).replace(/%3A/i,":"),f+="@");var _=this.protocol||"",w=this.pathname||"",B=this.hash||"",K=!1,Q="";this.host?K=f+this.host:this.hostname&&(K=f+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(K+=":"+this.port)),this.query&&v.isObject(this.query)&&Object.keys(this.query).length&&(Q=S.stringify(this.query));var z=this.search||Q&&"?"+Q||"";return _&&":"!==_.substr(-1)&&(_+=":"),this.slashes||(!_||E[_])&&!1!==K?(K="//"+(K||""),w&&"/"!==w.charAt(0)&&(w="/"+w)):K||(K=""),B&&"#"!==B.charAt(0)&&(B="#"+B),z&&"?"!==z.charAt(0)&&(z="?"+z),_+K+(w=w.replace(/[?#]/g,function(T){return encodeURIComponent(T)}))+(z=z.replace("#","%23"))+B},g.prototype.resolve=function(f){return this.resolveObject(I(f,!1,!0)).format()},g.prototype.resolveObject=function(f){if(v.isString(f)){var _=new g;_.parse(f,!1,!0),f=_}for(var w=new g,B=Object.keys(this),K=0;K<B.length;K++){var Q=B[K];w[Q]=this[Q]}if(w.hash=f.hash,""===f.href)return w.href=w.format(),w;if(f.slashes&&!f.protocol){for(var z=Object.keys(f),T=0;T<z.length;T++){var k=z[T];"protocol"!==k&&(w[k]=f[k])}return E[w.protocol]&&w.hostname&&!w.pathname&&(w.path=w.pathname="/"),w.href=w.format(),w}if(f.protocol&&f.protocol!==w.protocol){if(!E[f.protocol]){for(var D=Object.keys(f),Z=0;Z<D.length;Z++){var ie=D[Z];w[ie]=f[ie]}return w.href=w.format(),w}if(w.protocol=f.protocol,f.host||b[f.protocol])w.pathname=f.pathname;else{for(var N=(f.pathname||"").split("/");N.length&&!(f.host=N.shift()););f.host||(f.host=""),f.hostname||(f.hostname=""),""!==N[0]&&N.unshift(""),N.length<2&&N.unshift(""),w.pathname=N.join("/")}return w.search=f.search,w.query=f.query,w.host=f.host||"",w.auth=f.auth,w.hostname=f.hostname||f.host,w.port=f.port,(w.pathname||w.search)&&(w.path=(w.pathname||"")+(w.search||"")),w.slashes=w.slashes||f.slashes,w.href=w.format(),w}var V=w.pathname&&"/"===w.pathname.charAt(0),te=f.host||f.pathname&&"/"===f.pathname.charAt(0),J=te||V||w.host&&f.pathname,se=J,ne=w.pathname&&w.pathname.split("/")||[],L=(N=f.pathname&&f.pathname.split("/")||[],w.protocol&&!E[w.protocol]);if(L&&(w.hostname="",w.port=null,w.host&&(""===ne[0]?ne[0]=w.host:ne.unshift(w.host)),w.host="",f.protocol&&(f.hostname=null,f.port=null,f.host&&(""===N[0]?N[0]=f.host:N.unshift(f.host)),f.host=null),J=J&&(""===N[0]||""===ne[0])),te)w.host=f.host||""===f.host?f.host:w.host,w.hostname=f.hostname||""===f.hostname?f.hostname:w.hostname,w.search=f.search,w.query=f.query,ne=N;else if(N.length)ne||(ne=[]),ne.pop(),ne=ne.concat(N),w.search=f.search,w.query=f.query;else if(!v.isNullOrUndefined(f.search))return L&&(w.hostname=w.host=ne.shift(),(Y=!!(w.host&&w.host.indexOf("@")>0)&&w.host.split("@"))&&(w.auth=Y.shift(),w.host=w.hostname=Y.shift())),w.search=f.search,w.query=f.query,(!v.isNull(w.pathname)||!v.isNull(w.search))&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.href=w.format(),w;if(!ne.length)return w.pathname=null,w.path=w.search?"/"+w.search:null,w.href=w.format(),w;for(var oe=ne.slice(-1)[0],O=(w.host||f.host||ne.length>1)&&("."===oe||".."===oe)||""===oe,P=0,F=ne.length;F>=0;F--)"."===(oe=ne[F])?ne.splice(F,1):".."===oe?(ne.splice(F,1),P++):P&&(ne.splice(F,1),P--);if(!J&&!se)for(;P--;P)ne.unshift("..");J&&""!==ne[0]&&(!ne[0]||"/"!==ne[0].charAt(0))&&ne.unshift(""),O&&"/"!==ne.join("/").substr(-1)&&ne.push("");var Y,G=""===ne[0]||ne[0]&&"/"===ne[0].charAt(0);return L&&(w.hostname=w.host=G?"":ne.length?ne.shift():"",(Y=!!(w.host&&w.host.indexOf("@")>0)&&w.host.split("@"))&&(w.auth=Y.shift(),w.host=w.hostname=Y.shift())),(J=J||w.host&&ne.length)&&!G&&ne.unshift(""),ne.length?w.pathname=ne.join("/"):(w.pathname=null,w.path=null),(!v.isNull(w.pathname)||!v.isNull(w.search))&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.auth=f.auth||w.auth,w.slashes=w.slashes||f.slashes,w.href=w.format(),w},g.prototype.parseHost=function(){var f=this.host,_=o.exec(f);_&&(":"!==(_=_[0])&&(this.port=_.substr(1)),f=f.substr(0,f.length-_.length)),f&&(this.hostname=f)}},{"./util":77,punycode:51,querystring:54}],77:[function(A,H,j){"use strict";H.exports={isString:function(m){return"string"==typeof m},isObject:function(m){return"object"==typeof m&&null!==m},isNull:function(m){return null===m},isNullOrUndefined:function(m){return null==m}}},{}],78:[function(A,H,j){(function(m){(function(){function g(d){try{if(!m.localStorage)return!1}catch(t){return!1}var o=m.localStorage[d];return null!=o&&"true"===String(o).toLowerCase()}H.exports=function(d,o){if(g("noDeprecation"))return d;var t=!1;return function(){if(!t){if(g("throwDeprecation"))throw new Error(o);g("traceDeprecation")?console.trace(o):console.warn(o),t=!0}return d.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(A,H,j){H.exports=function m(v,g){if(v&&g)return m(v)(g);if("function"!=typeof v)throw new TypeError("need wrapper function");return Object.keys(v).forEach(function(o){d[o]=v[o]}),d;function d(){for(var o=new Array(arguments.length),t=0;t<o.length;t++)o[t]=arguments[t];var r=v.apply(this,o),e=o[o.length-1];return"function"==typeof r&&r!==e&&Object.keys(e).forEach(function(n){r[n]=e[n]}),r}}},{}],80:[function(A,H,j){"use strict";H.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(A,H,j){H.exports=function(){for(var g={},d=0;d<arguments.length;d++){var o=arguments[d];for(var t in o)m.call(o,t)&&(g[t]=o[t])}return g};var m=Object.prototype.hasOwnProperty},{}],82:[function(A,H,j){"use strict";H.exports=function(m){m.prototype[Symbol.iterator]=function*(){for(let v=this.head;v;v=v.next)yield v.value}}},{}],83:[function(A,H,j){"use strict";function m(t){var r=this;if(r instanceof m||(r=new m),r.tail=null,r.head=null,r.length=0,t&&"function"==typeof t.forEach)t.forEach(function(c){r.push(c)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)r.push(arguments[e]);return r}function v(t,r,e){var n=r===t.head?new o(e,null,r,t):new o(e,r,r.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function g(t,r){t.tail=new o(r,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function d(t,r){t.head=new o(r,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function o(t,r,e,n){if(!(this instanceof o))return new o(t,r,e,n);this.list=n,this.value=t,r?(r.next=this,this.prev=r):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}H.exports=m,m.Node=o,m.create=m,m.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var r=t.next,e=t.prev;return r&&(r.prev=e),e&&(e.next=r),t===this.head&&(this.head=r),t===this.tail&&(this.tail=e),t.list.length--,t.next=null,t.prev=null,t.list=null,r},m.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var r=this.head;t.list=this,t.next=r,r&&(r.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},m.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var r=this.tail;t.list=this,t.prev=r,r&&(r.next=t),this.tail=t,this.head||(this.head=t),this.length++}},m.prototype.push=function(){for(var t=0,r=arguments.length;t<r;t++)g(this,arguments[t]);return this.length},m.prototype.unshift=function(){for(var t=0,r=arguments.length;t<r;t++)d(this,arguments[t]);return this.length},m.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},m.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},m.prototype.forEach=function(t,r){r=r||this;for(var e=this.head,n=0;null!==e;n++)t.call(r,e.value,n,this),e=e.next},m.prototype.forEachReverse=function(t,r){r=r||this;for(var e=this.tail,n=this.length-1;null!==e;n--)t.call(r,e.value,n,this),e=e.prev},m.prototype.get=function(t){for(var r=0,e=this.head;null!==e&&r<t;r++)e=e.next;if(r===t&&null!==e)return e.value},m.prototype.getReverse=function(t){for(var r=0,e=this.tail;null!==e&&r<t;r++)e=e.prev;if(r===t&&null!==e)return e.value},m.prototype.map=function(t,r){r=r||this;for(var e=new m,n=this.head;null!==n;)e.push(t.call(r,n.value,this)),n=n.next;return e},m.prototype.mapReverse=function(t,r){r=r||this;for(var e=new m,n=this.tail;null!==n;)e.push(t.call(r,n.value,this)),n=n.prev;return e},m.prototype.reduce=function(t,r){var e,n=this.head;if(arguments.length>1)e=r;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,e=this.head.value}for(var c=0;null!==n;c++)e=t(e,n.value,c),n=n.next;return e},m.prototype.reduceReverse=function(t,r){var e,n=this.tail;if(arguments.length>1)e=r;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,e=this.tail.value}for(var c=this.length-1;null!==n;c--)e=t(e,n.value,c),n=n.prev;return e},m.prototype.toArray=function(){for(var t=new Array(this.length),r=0,e=this.head;null!==e;r++)t[r]=e.value,e=e.next;return t},m.prototype.toArrayReverse=function(){for(var t=new Array(this.length),r=0,e=this.tail;null!==e;r++)t[r]=e.value,e=e.prev;return t},m.prototype.slice=function(t,r){(r=r||this.length)<0&&(r+=this.length),(t=t||0)<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=0,c=this.head;null!==c&&n<t;n++)c=c.next;for(;null!==c&&n<r;n++,c=c.next)e.push(c.value);return e},m.prototype.sliceReverse=function(t,r){(r=r||this.length)<0&&(r+=this.length),(t=t||0)<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=this.length,c=this.tail;null!==c&&n>r;n--)c=c.prev;for(;null!==c&&n>t;n--,c=c.prev)e.push(c.value);return e},m.prototype.splice=function(t,r,...e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,c=this.head;null!==c&&n<t;n++)c=c.next;var s=[];for(n=0;c&&n<r;n++)s.push(c.value),c=this.removeNode(c);for(null===c&&(c=this.tail),c!==this.head&&c!==this.tail&&(c=c.prev),n=0;n<e.length;n++)c=v(this,c,e[n]);return s},m.prototype.reverse=function(){for(var t=this.head,r=this.tail,e=t;null!==e;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=r,this.tail=t,this};try{A("./iterator.js")(m)}catch(t){}},{"./iterator.js":82}]},{},[12])(12)}}]);
//# sourceMappingURL=301.ff583f0fa739439a.js.map