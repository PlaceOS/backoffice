button[mat-button].mat-button,
a[button] {
    background-color: var(--primary);
    border: 1px solid var(--primary);
    color: var(--font-light);
    font-weight: 300;
    border-radius: 4px;

    &.inverse {
        background-color: #fff;
        color: var(--primary);
    }

    &.clear {
        background: none;
        border: none;
        color: inherit;
    }

    &:focus {
        outline: none;
    }

    &[disabled] {
        background-color: rgba(#000, 0.12);
        color: rgba(#000, 0.2);
        border-color: rgba(#000, 0.2);
        pointer-events: none;
    }
}

button.mat-icon-button {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 2.5em;
    width: 2.5em;
    font-size: 1em;

    &:focus {
        outline: none;
    }

    .mat-button-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    app-icon {
        font-size: 1.5em;
    }
}

mat-form-field {
    &.mat-form-field-appearance-outline.mat-focused {
        .mat-form-field-outline-thick {
            color: var(--primary);
        }
    }

    &.metrics {
        .mat-form-field-wrapper {
            padding: 0;
        }

        .mat-form-field-outline {
            border-radius: 4px;

            * {
                color: #fff;
                border-color: #fff;
            }
        }

        .mat-select-value {
            color: #fff;
        }
    }
}

.mat-form-field-infix {
    border-top: none;
    top: 0.1em !important;
}

.mat-select-panel {
    .mat-option {
        &.mat-selected {
            &:not(.mat-option-disabled) {
                color: var(--primary);
            }
        }
    }
}

mat-select {
    .mat-select-trigger {
        .mat-select-arrow-wrapper {
            transform: none;
        }
    }
}

.tab-group[widget] {
    main {
        min-height: 1px;
        max-height: calc(100vh - 13em);
    }
    .tab-headers {
        width: 100%;
    }
}

.overlay-backdrop {
    background-color: rgba(#000, 0.6);
}

mat-dialog-container.mat-dialog-container {
    padding: 0;

    mat-dialog-content {
        margin: 0;
        padding: 0;
    }

    header {
        display: flex;
        align-items: center;
        padding: 0.5em 1em;
        width: 100%;
        background-color: var(--primary);
        color: var(--font-light);

        h1,
        h2,
        h3,
        h4 {
            flex: 1;
            min-width: 50%;
        }

        > * {
            margin: 0;
        }
    }

    .body,
    main {
        padding: 1em;
        pointer-events: auto;
        overflow: hidden auto;
    }

    mat-dialog-actions {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0;
    }
}

.mat-simple-snackbar {
    button.mat-button {
        background: none;
        border: none;
    }
}

.mat-snack-bar-container {
    &.success {
        background-color: var(--success);
        color: #fff;
    }
    &.warn {
        background-color: var(--pending);
        color: #fff;
    }
    &.error {
        background-color: var(--error);
        color: #fff;
    }
    &.info {
        background-color: var(--secondary);
        color: #fff;
    }

    span {
        white-space: pre-line;
    }
}

.mat-tooltip {
    background-color: var(--bg)-dark;
    font-size: 0.8em;
    white-space: pre-line;
}

.formatted-driver-name {
    display: flex;
    align-items: center;

    .icon {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 1.2em;
        width: 1.2em;
        font-size: 1.5em;
    }
}

sidebar,
mat-option {
    span.small,
    div.small {
        font-size: 0.8em;
        margin: 0 0.5rem;
        opacity: 0.75;
    }

    .item {
        span {
            &:hover {
                opacity: 1;
            }
        }
    }
}

mat-expansion-panel {
    &.no-padding {
        .mat-expansion-panel-body {
            padding: 0 !important;
        }
    }

    mat-expansion-panel-header {
        .mat-content {
            overflow: visible;
        }
    }
}

mat-checkbox {
    label {
        @apply max-w-full flex;

        .mat-checkbox-label {
            @apply flex-1 min-w-0;
        }
    }
}

.dark-mode {
    button[mat-button].mat-button {
        &[disabled] {
            background-color: rgba(#fff, 0.35);
            border-color: rgba(#fff, 0.2);
        }
    }

    system-modules,
    driver-devices {
        .state {
            background-color: #fff;
        }
    }

    app-debug-output {
        .header {
            color: #fff;
            background-color: #424242;
        }

        .content {
            border: 1px solid #999;
        }
    }

    app-upload-list {
        .upload-list {
            background-color: #424242;
            color: #fff;

            ul li {
                &:nth-child(2n) {
                    background-color: rgba(#fff, 0.1);
                }
                &:hover {
                    background-color: rgba(#fff, 0.2);
                }
            }
        }
    }
}

.editor {
    .external-setting {
        text-decoration: underline;
    }
    .external-setting-margin {
        background-color: #d500f9;
        width: 5px !important;
        margin-left: 3px;
    }
    .encryption-none {
        text-decoration: underline;
    }
    .encryption-none-margin {
        background-color: #43a047;
        width: 5px !important;
        margin-left: 3px;
    }
    .encryption-support {
        text-decoration: underline;
    }
    .encryption-support-margin {
        background-color: #fdd835;
        width: 5px !important;
        margin-left: 3px;
    }
    .encryption-admin {
        text-decoration: underline;
    }
    .encryption-admin-margin {
        background-color: #fb8c00;
        width: 5px !important;
        margin-left: 3px;
    }
    .encryption-hide {
        text-decoration: underline;
    }
    .encryption-hide-margin {
        background-color: #e53935;
        width: 5px !important;
        margin-left: 3px;
    }
}

mat-panel-title {
    display: flex;
    align-items: center;
}

[table-head] {
    @apply flex items-center bg-gray-300 border-b border-black divide-x divide-gray-400 font-medium;

    > div {
        @apply flex items-center;
        height: 2.75rem;
    }
}

[table-row] {
    @apply flex items-center border-b border-gray-300 divide-x divide-gray-300 hover:bg-gray-100;
    height: 3.25rem;

    > div {
        @apply flex items-center overflow-hidden;
        flex-shrink: 0;
        height: 3.25rem;
        min-width: 2rem;
        user-select: text;
    }
}

[empty-state] {
    @apply flex flex-col items-center p-8 space-y-4;
}

#placeos .dark-mode [table-head] {
    @apply bg-gray-600 border-gray-300;
}

.dark-mode [table-row] {
    @apply hover:bg-opacity-10;
}

.cdk-drag-preview {
    @apply bg-white rounded border-none shadow;
}

.mat-button-wrapper {
    @apply flex items-center justify-center h-full;
}

.monaco-editor-hover {
    @apply pointer-events-none;
}
