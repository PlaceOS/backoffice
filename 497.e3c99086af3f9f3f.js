"use strict";(self.webpackChunkbackoffice=self.webpackChunkbackoffice||[]).push([[497],{2497:(k,c,s)=>{s.r(c),s.d(c,{AppUsersModule:()=>j});var a=s(6895),u=s(4719),m=s(6581),r=s(6123),e=s(6353),p=s(7331),C=s(3499);function E(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e.SDv(2,13),e.qZA(),e.TgZ(3,"div",14)(4,"a",15),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("href","mailto:"+(null==t.item?null:t.item.email),e.LSH),e.xp6(1),e.Oqu(null==t.item?null:t.item.email)}}function T(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e.SDv(2,16),e.qZA(),e.TgZ(3,"div",14),e._uU(4),e.ALo(5,"dateFrom"),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,1,1e3*(null==t.item?null:t.item.created_at))," ")}}function U(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e.SDv(2,17),e.qZA(),e.TgZ(3,"div",14),e._uU(4),e.ALo(5,"dateFrom"),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,1,1e3*(null==t.item?null:t.item.updated_at))," ")}}function v(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e.SDv(2,18),e.qZA(),e.TgZ(3,"div",19),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",null==t.item?null:t.item.authority_id," ")}}function P(n,i){if(1&n&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}function R(n,i){if(1&n&&(e.TgZ(0,"div",14)(1,"mat-chip-list",23),e.YNc(2,P,2,1,"mat-chip",24),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.item.groups)}}function O(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"label",20),e.SDv(2,21),e.qZA(),e.YNc(3,R,3,1,"div",22),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(24);e.xp6(3),e.Q6J("ngIf",null==t.item.groups?null:t.item.groups.length)("ngIfElse",o)}}function b(n,i){1&n&&(e.TgZ(0,"div",14),e._uU(1,"No Access Groups"),e.qZA())}let M=(()=>{class n{constructor(t){this._service=t}get item(){return this._service.active_item}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["user-about"]],decls:25,vars:7,consts:function(){let i,t,o,l,_,f,g,A;return i=$localize`:@@techSupportRole␟031b6f40313933f6363bf8501916fb1167661df3␟7524309407036744400: User Role `,t=$localize`:@@techSupportRole␟2c67d427fc4370f7ebbc262e58af19c48a3cef5b␟3160540339920565657: Tech Support `,o=$localize`:@@systemAdminRole␟41029fd65510d474588802219fa1a77f3764381e␟8405084038860811251: System Admin `,l=$localize`:@@userCreatedAtLabel␟91b96d7228b6e05c238fa4e39abfc17ad51a6eef␟6631334172623029500:Email:`,_=$localize`:@@userCreatedAtLabel␟a5ed099ffc9e96f6970df843289ade8a7d20ab9f␟1616250945945379783:Created:`,f=$localize`:@userUpdatedAtLabel␟f94240161f912dbd8758b858877cddeab80f36cb␟1116759395536210856:Updated:`,g=$localize`:@userUpdatedAtLabel␟ce59f677986b7ffb7d9aecd079f5d117c5d4021b␟1873791838056734854:Authority ID:`,A=$localize`:@@userGroupsLabel␟de3e25c09f9ea2b26ac8502f589ec8cdeaa2ada0␟1800028427787031247:User Groups:`,[[1,"mb-4","space-y-2"],["class","flex items-center space-x-2",4,"ngIf"],["role","table"],["table-head",""],[1,"w-40","p-2"],i,[1,"flex-1","p-2"],["table-body",""],["table-row",""],t,o,["empty_group_state",""],[1,"flex","items-center","space-x-2"],l,[1,"value"],[3,"href"],_,f,g,[1,"value","mono"],["for","groups",1,"my-1"],A,["class","value",4,"ngIf","ngIfElse"],["name","groups"],[4,"ngFor","ngForOf"]]},template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,E,6,2,"div",1),e.YNc(2,T,6,3,"div",1),e.YNc(3,U,6,3,"div",1),e.YNc(4,v,5,1,"div",1),e.YNc(5,O,4,2,"div",1),e.qZA(),e.TgZ(6,"section")(7,"div",2)(8,"div",3)(9,"div",4),e.SDv(10,5),e.qZA(),e._UZ(11,"div",6),e.qZA(),e.TgZ(12,"div",7)(13,"div",8)(14,"div",4),e.SDv(15,9),e.qZA(),e.TgZ(16,"div",6),e._uU(17),e.qZA()(),e.TgZ(18,"div",8)(19,"div",4),e.SDv(20,10),e.qZA(),e.TgZ(21,"div",6),e._uU(22),e.qZA()()()()(),e.YNc(23,b,2,0,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.created_at),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.created_at),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.updated_at),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.authority_id),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.groups),e.xp6(12),e.hij(" ",!0===(null==o.item?null:o.item.support)," "),e.xp6(5),e.hij(" ",!0===(null==o.item?null:o.item.sys_admin)," "))},dependencies:[a.sg,a.O5,p.qn,p.HS,C.R],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]}),n})();var S=s(1843);function h(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"div",4),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",4)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11,"View"),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,3,t.start,"MMM d, y, h:mm a")," "),e.xp6(3),e.hij(" ",e.xi3(6,6,t.end,"MMM d, y, h:mm a")," "),e.xp6(4),e.Oqu(t.systems.length)}}function N(n,i){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,5),e.qZA(),e.TgZ(4,"div",4),e.SDv(5,6),e.qZA(),e.TgZ(6,"div",4),e.SDv(7,7),e.qZA()(),e.TgZ(8,"div",8),e.YNc(9,h,12,9,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.logs)}}function I(n,i){1&n&&(e.TgZ(0,"div",11),e.SDv(1,12),e.qZA())}let Z=(()=>{class n extends S.K{constructor(t){super(),this._service=t,this.logs=[]}get item(){return this._service.active_item}ngOnInit(){this.subscription("item",this._service.item.subscribe(t=>{this.loadUserLogs()}))}loadUserLogs(t=0){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["user-history"]],features:[e.qOj],decls:3,vars:2,consts:function(){let i,t,o,l;return i=$localize`:@@logEventStart␟8d06853e46a6d74951ff1cf9617f069c91fd50c5␟2130731909238927129:Session Start`,t=$localize`:@@logEventEnd␟e5cdb48c00597060251112914bcac2582f564c38␟4243735233618363847:Ended`,o=$localize`:@@logEventAction␟5b0d0e1718f55dc2d351402810b8cd61b139400f␟7550650761322890930: Systems Accessed `,l=$localize`:@@logTableEmpty␟721160b85c58426d8f14dc1d83290969edb6585c␟1736905540793055600: No logs found `,[["role","table",4,"ngIf","ngIfElse"],["empty_state",""],["role","table"],["table-head",""],[1,"w-1/3"],i,t,o,["table-body",""],["table-row","",4,"ngFor","ngForOf"],["table-row",""],[1,"p-8","text-center"],l]},template:function(t,o){if(1&t&&(e.YNc(0,N,10,1,"div",0),e.YNc(1,I,2,0,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",null==o.logs?null:o.logs.length)("ngIfElse",l)}},dependencies:[a.sg,a.O5,a.uU],styles:["[_nghost-%COMP%]{height:100%;width:100%}"]}),n})();var y=s(9960),x=s(7639);function $(n,i){if(1&n&&e._UZ(0,"metadata-display",1),2&n){const t=e.oxw();e.Q6J("item",t.item)}}let F=(()=>{class n{constructor(t){this._service=t}get item(){return this._service.active_item}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["user-metadata"]],decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"]],template:function(t,o){1&t&&e.YNc(0,$,1,1,"metadata-display",0),2&t&&e.Q6J("ngIf",o.item)},dependencies:[a.O5,x.J]}),n})();var L=s(8537),B=s(5341),G=s(4834),X=s(3409),K=s(3182),J=s(1535),Y=s(1551),z=s(4859),q=s(266),w=s(3238);function Q(n,i){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"item-details",13)(2,"item-tablist",14),e.TgZ(3,"div",15,16),e.NdJ("scroll",function(){e.CHM(t);const l=e.MAs(4),_=e.oxw();return e.KtG(_.scroll=l.scrollTop)}),e._UZ(5,"router-outlet"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("can_edit",!0)("item",t.item),e.xp6(1),e.Q6J("base",t.name)("tabs",t.tab_list)("scrolled",t.scroll>0)}}const H=[{path:":id",component:(()=>{class n extends S.K{constructor(t){super(),this._service=t,this.name="users",this.open_menu=!1,this.tab_list=[],this.newItem=()=>this._service.create(),this.bulkAdd=()=>this._service.bulkAdd()}get item(){return this._service.active_item}get extensions(){return(0,L.fq)(this._service.active_item,this.name)}updateTabList(t){this.tab_list=[{id:"about",name:"About",icon:{class:"backoffice-info-with-circle"}},{id:"metadata",name:"Metadata",count:t?.metadata,icon:{class:"backoffice-gist"}},{id:"history",name:"History",icon:{class:"backoffice-list"}}].concat(this.extensions)}ngOnInit(){this.subscription("item",this._service.item.subscribe(()=>this.updateTabList())),this.updateTabList()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["new-users-view"]],features:[e.qOj],decls:14,vars:5,consts:[[1,"absolute","inset-0","flex","items-center","divide-y","sm:divide-y-0","sm:divide-x","divide-gray-300","dark:divide-neutral-600","bg-white","dark:bg-neutral-700"],[1,"sm:h-full",3,"open","openChange"],["title","Users",1,"hidden","sm:block",3,"route"],[1,"flex-1","w-1/2","h-full","relative","flex","flex-col","z-0"],["title","Users",1,"z-20","sm:hidden",3,"route"],["mat-icon-button","",1,"sm:hidden","mr-2",3,"click"],["className","backoffice-menu"],[1,"flex","flex-col","flex-1","h-1/2"],[4,"ngIf"],["matTooltip","New user","matTooltipPosition","right","matRipple","",1,"absolute","bottom-2","left-2","sm:-left-9","w-12","h-12","flex","items-center","justify-center","bg-primary","dark:bg-pink","rounded-lg","shadow","z-30","text-white",3,"click"],[1,"text-3xl",3,"className"],["matTooltip","Bulk add users","matTooltipPosition","right","matRipple","",1,"absolute","bottom-16","left-2","sm:-left-8","w-10","h-10","flex","items-center","justify-center","bg-primary","dark:bg-pink","rounded-lg","shadow","z-30","text-white",3,"click"],[1,"text-2xl"],["type","User",3,"can_edit","item"],[1,"z-10",3,"base","tabs","scrolled"],[1,"flex-1","h-1/2","w-full","overflow-auto","p-4","z-0","relative",3,"scroll"],["el",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"sidebar-menu",1),e.NdJ("openChange",function(_){return o.open_menu=_}),e.qZA(),e._UZ(2,"item-sidebar",2),e.TgZ(3,"div",3)(4,"item-selection",4)(5,"button",5),e.NdJ("click",function(){return o.open_menu=!0}),e._UZ(6,"app-icon",6),e.qZA()(),e.TgZ(7,"div",7),e.YNc(8,Q,6,5,"ng-container",8),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return o.newItem()}),e._UZ(10,"app-icon",10),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return o.bulkAdd()}),e.TgZ(12,"app-icon",12),e._uU(13,"playlist_add"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("open",o.open_menu),e.xp6(1),e.Q6J("route",o.name),e.xp6(2),e.Q6J("route",o.name),e.xp6(4),e.Q6J("ngIf",null==o.item?null:o.item.id),e.xp6(2),e.Q6J("className","backoffice-plus"))},dependencies:[a.O5,m.lC,B.o,G.$,X.V,K.K,J.r,Y.l,z.lW,q.gM,w.wG]}),n})(),children:[{path:"about",component:M},{path:"metadata",component:F},{path:"history",component:Z},{path:"extend/:id",component:y.z},{path:"**",redirectTo:"about"}]},{path:"**",redirectTo:"-"}];var D=s(1166);let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.ez,u.u5,u.UX,m.Bz.forChild(H),D.X]}),n})()}}]);