"use strict";(self.webpackChunkbackoffice=self.webpackChunkbackoffice||[]).push([[115],{115:(W,u,s)=>{s.r(u),s.d(u,{AppUsersModule:()=>V});var a=s(6814),m=s(285),p=s(4641),r=s(3540),e=s(2948),C=s(2557),T=s(8902);function v(n,_){if(1&n&&(e.TgZ(0,"div",12)(1,"label",13),e.SDv(2,14),e.qZA(),e.TgZ(3,"div",15)(4,"a",16),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("href","mailto:"+(null==t.item?null:t.item.email),e.LSH),e.xp6(1),e.Oqu(null==t.item?null:t.item.email)}}function U(n,_){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e.SDv(2,17),e.qZA(),e.TgZ(3,"div",15),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(null==t.item?null:t.item.department)}}function P(n,_){if(1&n&&(e.TgZ(0,"div",12)(1,"label",13),e.SDv(2,18),e.qZA(),e.TgZ(3,"div",15),e._uU(4),e.ALo(5,"dateFrom"),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,1,1e3*(null==t.item?null:t.item.created_at))," ")}}function R(n,_){if(1&n&&(e.TgZ(0,"div",12)(1,"label",13),e.SDv(2,19),e.qZA(),e.TgZ(3,"div",15),e._uU(4),e.ALo(5,"dateFrom"),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,1,1e3*(null==t.item?null:t.item.updated_at))," ")}}function O(n,_){if(1&n&&(e.TgZ(0,"div",12)(1,"label",13),e.SDv(2,20),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",null==t.item?null:t.item.authority_id," ")}}function h(n,_){if(1&n&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&n){const t=_.$implicit;e.xp6(1),e.Oqu(t)}}function b(n,_){if(1&n&&(e.TgZ(0,"div",15)(1,"mat-chip-list",25),e.YNc(2,h,2,1,"mat-chip",26),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.item.groups)}}function M(n,_){if(1&n&&(e.TgZ(0,"div",12)(1,"label",22),e.SDv(2,23),e.qZA(),e.YNc(3,b,3,1,"div",24),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(25);e.xp6(3),e.Q6J("ngIf",null==t.item.groups?null:t.item.groups.length)("ngIfElse",i)}}function N(n,_){1&n&&(e.TgZ(0,"div",15),e._uU(1,"No Access Groups"),e.qZA())}let I=(()=>{class n{get item(){return this._service.active_item}constructor(t){this._service=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(r.L))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["user-about"]],decls:26,vars:8,consts:function(){let t,i,o,l,c,f,A,g,E;return t=$localize`:@@techSupportRole␟031b6f40313933f6363bf8501916fb1167661df3␟7524309407036744400: User Role `,i=$localize`:@@techSupportRole␟2c67d427fc4370f7ebbc262e58af19c48a3cef5b␟3160540339920565657: Tech Support `,o=$localize`:@@systemAdminRole␟41029fd65510d474588802219fa1a77f3764381e␟8405084038860811251: System Admin `,l=$localize`:@@userCreatedAtLabel␟91b96d7228b6e05c238fa4e39abfc17ad51a6eef␟6631334172623029500:Email:`,c=$localize`:@@userCreatedAtLabel␟3b7743d164178950cacdb9c8f8ac656d9902af87␟767033744065829870:Department:`,f=$localize`:@@userCreatedAtLabel␟a5ed099ffc9e96f6970df843289ade8a7d20ab9f␟1616250945945379783:Created:`,A=$localize`:@userUpdatedAtLabel␟f94240161f912dbd8758b858877cddeab80f36cb␟1116759395536210856:Updated:`,g=$localize`:@userUpdatedAtLabel␟ce59f677986b7ffb7d9aecd079f5d117c5d4021b␟1873791838056734854:Authority ID:`,E=$localize`:@@userGroupsLabel␟de3e25c09f9ea2b26ac8502f589ec8cdeaa2ada0␟1800028427787031247:User Groups:`,[[1,"mb-4","space-y-2"],["class","flex items-center space-x-2",4,"ngIf"],["role","table"],["table-head",""],[1,"w-40","p-2"],t,[1,"flex-1","p-2"],["table-body",""],["table-row",""],i,o,["empty_group_state",""],[1,"flex","items-center","space-x-2"],[1,"w-24"],l,[1,"value"],[3,"href"],c,f,A,g,[1,"value","mono"],["for","groups",1,"my-1","w-24"],E,["class","value",4,"ngIf","ngIfElse"],["name","groups"],[4,"ngFor","ngForOf"]]},template:function(i,o){1&i&&(e.TgZ(0,"section",0),e.YNc(1,v,6,2,"div",1),e.YNc(2,U,5,1,"div",1),e.YNc(3,P,6,3,"div",1),e.YNc(4,R,6,3,"div",1),e.YNc(5,O,5,1,"div",1),e.YNc(6,M,4,2,"div",1),e.qZA(),e.TgZ(7,"section")(8,"div",2)(9,"div",3)(10,"div",4),e.SDv(11,5),e.qZA(),e._UZ(12,"div",6),e.qZA(),e.TgZ(13,"div",7)(14,"div",8)(15,"div",4),e.SDv(16,9),e.qZA(),e.TgZ(17,"div",6),e._uU(18),e.qZA()(),e.TgZ(19,"div",8)(20,"div",4),e.SDv(21,10),e.qZA(),e.TgZ(22,"div",6),e._uU(23),e.qZA()()()()(),e.YNc(24,N,2,0,"ng-template",null,11,e.W1O)),2&i&&(e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.created_at),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.department),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.created_at),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.updated_at),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.authority_id),e.xp6(1),e.Q6J("ngIf",null==o.item?null:o.item.groups),e.xp6(12),e.hij(" ",!0===(null==o.item?null:o.item.support)," "),e.xp6(5),e.hij(" ",!0===(null==o.item?null:o.item.sys_admin)," "))},dependencies:[a.sg,a.O5,C.HS,T.R],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return n})();var S=s(4424);function Z(n,_){if(1&n&&(e.TgZ(0,"div",10)(1,"div",4),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",4)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11,"View"),e.qZA()()()),2&n){const t=_.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,3,t.start,"MMM d, y, h:mm a")," "),e.xp6(3),e.hij(" ",e.xi3(6,6,t.end,"MMM d, y, h:mm a")," "),e.xp6(4),e.Oqu(t.systems.length)}}function y(n,_){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,5),e.qZA(),e.TgZ(4,"div",4),e.SDv(5,6),e.qZA(),e.TgZ(6,"div",4),e.SDv(7,7),e.qZA()(),e.TgZ(8,"div",8),e.YNc(9,Z,12,9,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.logs)}}function x(n,_){1&n&&(e.TgZ(0,"div",11),e.SDv(1,12),e.qZA())}let $=(()=>{class n extends S.c{get item(){return this._service.active_item}constructor(t){super(),this._service=t,this.logs=[]}ngOnInit(){this.subscription("item",this._service.item.subscribe(t=>{this.loadUserLogs()}))}loadUserLogs(t=0){}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(r.L))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["user-history"]],features:[e.qOj],decls:3,vars:2,consts:function(){let t,i,o,l;return t=$localize`:@@logEventStart␟8d06853e46a6d74951ff1cf9617f069c91fd50c5␟2130731909238927129:Session Start`,i=$localize`:@@logEventEnd␟e5cdb48c00597060251112914bcac2582f564c38␟4243735233618363847:Ended`,o=$localize`:@@logEventAction␟5b0d0e1718f55dc2d351402810b8cd61b139400f␟7550650761322890930: Systems Accessed `,l=$localize`:@@logTableEmpty␟721160b85c58426d8f14dc1d83290969edb6585c␟1736905540793055600: No logs found `,[["role","table",4,"ngIf","ngIfElse"],["empty_state",""],["role","table"],["table-head",""],[1,"w-1/3"],t,i,o,["table-body",""],["table-row","",4,"ngFor","ngForOf"],["table-row",""],[1,"p-8","text-center"],l]},template:function(i,o){if(1&i&&(e.YNc(0,y,10,1,"div",0),e.YNc(1,x,2,0,"ng-template",null,1,e.W1O)),2&i){const l=e.MAs(2);e.Q6J("ngIf",null==o.logs?null:o.logs.length)("ngIfElse",l)}},dependencies:[a.sg,a.O5,a.uU],styles:["[_nghost-%COMP%]{height:100%;width:100%}"]})}return n})();var F=s(6497),L=s(1557);function B(n,_){if(1&n&&e._UZ(0,"metadata-display",1),2&n){const t=e.oxw();e.Q6J("item",t.item)}}let G=(()=>{class n{get item(){return this._service.active_item}constructor(t){this._service=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(r.L))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["user-metadata"]],decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"]],template:function(i,o){1&i&&e.YNc(0,B,1,1,"metadata-display",0),2&i&&e.Q6J("ngIf",o.item)},dependencies:[a.O5,L.J]})}return n})();var X=s(2941),K=s(5997),J=s(2637),Y=s(8771),q=s(6529),z=s(4331),w=s(1387),Q=s(2596),D=s(3680);function H(n,_){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"item-details",13)(2,"item-tablist",14),e.TgZ(3,"div",15,16),e.NdJ("scroll",function(){e.CHM(t);const o=e.MAs(4),l=e.oxw();return e.KtG(l.scroll=o.scrollTop)}),e._UZ(5,"router-outlet"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("can_edit",!0)("item",t.item),e.xp6(1),e.Q6J("base",t.name)("tabs",t.tab_list)("scrolled",t.scroll>0)}}const j=[{path:":id",component:(()=>{class n extends S.c{get item(){return this._service.active_item}get extensions(){return(0,X.fq)(this._service.active_item,this.name)}updateTabList(t){this.tab_list=[{id:"about",name:"About",icon:{class:"backoffice-info-with-circle"}},{id:"metadata",name:"Metadata",count:t?.metadata,icon:{class:"backoffice-gist"}},{id:"history",name:"History",icon:{class:"backoffice-list"}}].concat(this.extensions)}constructor(t){super(),this._service=t,this.name="users",this.open_menu=!1,this.tab_list=[],this.newItem=()=>this._service.create(),this.bulkAdd=()=>this._service.bulkAdd()}ngOnInit(){this.subscription("item",this._service.item.subscribe(()=>this.updateTabList())),this.updateTabList()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(r.L))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["new-users-view"]],features:[e.qOj],decls:14,vars:5,consts:[[1,"absolute","inset-0","flex","items-center","divide-y","sm:divide-y-0","sm:divide-x","divide-base-200","bg-base-100"],[1,"sm:h-full",3,"open","openChange"],["title","Users",1,"hidden","sm:block",3,"route"],[1,"flex-1","w-1/2","h-full","relative","flex","flex-col","z-0"],["title","Users",1,"z-20","sm:hidden",3,"route"],["btn","","icon","",1,"sm:hidden","mr-2",3,"click"],["className","backoffice-menu"],[1,"flex","flex-col","flex-1","h-1/2"],[4,"ngIf"],["matTooltip","New user","matTooltipPosition","right","matRipple","",1,"absolute","bottom-2","left-2","sm:-left-9","w-12","h-12","flex","items-center","justify-center","bg-secondary","rounded-lg","shadow","z-30","text-secondary-content",3,"click"],[1,"text-3xl",3,"className"],["matTooltip","Bulk add users","matTooltipPosition","right","matRipple","",1,"absolute","bottom-16","left-2","sm:-left-8","w-10","h-10","flex","items-center","justify-center","bg-secondary","rounded-lg","shadow","z-30","text-secondary-content",3,"click"],[1,"text-2xl"],["type","User",3,"can_edit","item"],[1,"z-10",3,"base","tabs","scrolled"],[1,"flex-1","h-1/2","w-full","overflow-auto","p-4","z-0","relative",3,"scroll"],["el",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"sidebar-menu",1),e.NdJ("openChange",function(c){return o.open_menu=c}),e.qZA(),e._UZ(2,"item-sidebar",2),e.TgZ(3,"div",3)(4,"item-selection",4)(5,"button",5),e.NdJ("click",function(){return o.open_menu=!0}),e._UZ(6,"app-icon",6),e.qZA()(),e.TgZ(7,"div",7),e.YNc(8,H,6,5,"ng-container",8),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return o.newItem()}),e._UZ(10,"app-icon",10),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return o.bulkAdd()}),e.TgZ(12,"app-icon",12),e._uU(13,"playlist_add"),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("open",o.open_menu),e.xp6(1),e.Q6J("route",o.name),e.xp6(2),e.Q6J("route",o.name),e.xp6(4),e.Q6J("ngIf",null==o.item?null:o.item.id),e.xp6(2),e.Q6J("className","backoffice-plus"))},dependencies:[a.O5,p.lC,K.o,J.$,Y.V,q.K,z.r,w.l,Q.gM,D.wG]})}return n})(),children:[{path:"about",component:I},{path:"metadata",component:G},{path:"history",component:$},{path:"extend/:id",component:F.z},{path:"**",redirectTo:"about"}]},{path:"**",redirectTo:"-"}];var k=s(5858);let V=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[a.ez,m.u5,m.UX,p.Bz.forChild(j),k.X]})}return n})()}}]);