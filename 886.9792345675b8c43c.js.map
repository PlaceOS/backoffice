{"version":3,"file":"886.9792345675b8c43c.js","mappings":"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","names":["ZonesStateService","constructor","_service","_dialog","this","BehaviorSubject","_loading","asObservable","item","combineLatest","active_item$","_change","pipe","debounceTime","switchMap","d","PlaceZone","_this","next","details","Promise","all","querySystems","zone_id","id","limit","map","total","toPromise","catch","_","listZoneTriggers","listMetadata","length","queryZones","parent","systems","triggers","metadata","children","list","data","catchError","shareReplay","of","setTimeout","getValue","active_item","selectTrigger","ref","_this2","open","SelectItemModalComponent","service_name","query_fn","queryTriggers","q","resp","race","componentInstance","event","first","reason","afterClosed","close","zone","addTrigger","replaceItem","trigger","updateZone","_this3","unique","removeTrigger","openConfirmModal","title","content","name","icon","type","class","_this4","filter","t","err","notifyError","statusText","message","notifySuccess","i0","factory","ZoneAboutComponent","parsed_description","marked","description","tag_list","tags","selectors","$localize","ZoneSystemsComponent","_state","filter$","search","toLowerCase","sys","includes","ctx","ZoneTriggersComponent","loading","ZoneChildrenComponent","zones","ZoneMetadataComponent","ROUTES","path","component","ZonesComponent","BaseClass","_item","_route","_router","super","create","bulkAdd","extensions","extensionsForItem","updateTabList","tab_list","count","concat","ngOnInit","subscription","subscribe","counts","ExtensionOutletComponent","SettingsHistoryViewComponent","redirectTo","AppZonesModule","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","SharedContentModule"],"sourceRoot":"webpack:///","sources":["./apps/backoffice/src/app/zones/zones-state.service.ts","./apps/backoffice/src/app/zones/zone-about.component.ts","./apps/backoffice/src/app/zones/zone-systems.component.ts","./apps/backoffice/src/app/zones/zone-triggers.component.ts","./apps/backoffice/src/app/zones/zone-children.component.ts","./apps/backoffice/src/app/zones/zone-metadata.component.ts","./apps/backoffice/src/app/zones/zones.component.ts","./apps/backoffice/src/app/zones/zones.routes.ts","./apps/backoffice/src/app/zones/zones.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    listZoneTriggers,\n    PlaceMetadata,\n    PlaceTrigger,\n    PlaceZone,\n    querySystems,\n    queryTriggers,\n    queryZones,\n    listMetadata,\n    updateZone,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport { catchError, debounceTime, first, map, shareReplay, switchMap } from 'rxjs/operators';\nimport { openConfirmModal, unique } from '../common/general';\nimport { ActiveItemService } from '../common/item.service';\nimport { notifyError, notifySuccess } from '../common/notifications';\nimport {\n    SelectItemModalComponent,\n    SelectItemModalData,\n} from '../overlays/select-item-modal/select-item-modal.component';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ZonesStateService {\n    private _loading = new BehaviorSubject<boolean>(false);\n    private _change = new BehaviorSubject<boolean>(false);\n\n    public readonly loading = this._loading.asObservable();\n\n    public readonly item = this._service.item;\n\n    public readonly counts = combineLatest([this._service.active_item$, this._change]).pipe(\n        debounceTime(300),\n        switchMap(async (d) => {\n            const [item] = d;\n            if (!(item instanceof PlaceZone)) return {};\n            this._loading.next(true);\n            const details = await Promise.all([\n                querySystems({ zone_id: item.id, limit: 1 })\n                    .pipe(map((d) => d.total))\n                    .toPromise()\n                    .catch((_) => 0),\n                listZoneTriggers(item.id)\n                    .pipe(map((d) => d.total))\n                    .toPromise()\n                    .catch((_) => 0),\n                listMetadata(item.id)\n                    .pipe(map((d) => d.length))\n                    .toPromise()\n                    .catch((_) => 0),\n                queryZones({ parent: item.id, limit: 1 })\n                    .pipe(map((d) => d.total))\n                    .toPromise()\n                    .catch((_) => 0),\n            ]);\n            const [systems, triggers, metadata, children] = details;\n            this._loading.next(false);\n            return {\n                systems,\n                triggers,\n                metadata,\n                children,\n            };\n        })\n    );\n\n    public readonly systems = this.item.pipe(\n        switchMap((item) => {\n            if (!(item instanceof PlaceZone)) return [];\n            return querySystems({ zone_id: item.id });\n        }),\n        map((list) => list.data),\n        catchError((_) => []),\n        shareReplay()\n    );\n\n    public readonly triggers = this.item.pipe(\n        switchMap((item) => {\n            if (!(item instanceof PlaceZone)) return [];\n            return listZoneTriggers(item.id);\n        }),\n        map((list) => list.data),\n        catchError((_) => []),\n        shareReplay()\n    );\n\n    public readonly metadata: Observable<PlaceMetadata[]> = this.item.pipe(\n        switchMap((item) => {\n            if (!(item instanceof PlaceZone)) return of([]);\n            return listMetadata(item.id);\n        }),\n        catchError((_) => []),\n        shareReplay(1)\n    );\n\n    public readonly children = this.item.pipe(\n        switchMap((item) => {\n            if (!(item instanceof PlaceZone)) return [];\n            return queryZones({ parent: item.id });\n        }),\n        map((list) => list.data),\n        catchError((_) => []),\n        shareReplay()\n    );\n\n    public get active_item(): PlaceZone {\n        return this._service.active_item as any;\n    }\n\n    constructor(private _service: ActiveItemService, private _dialog: MatDialog) {\n        setTimeout(() => this._change.next(!this._change.getValue()), 1000);\n    }\n\n    public async selectTrigger() {\n        const ref = this._dialog.open<SelectItemModalComponent, SelectItemModalData>(\n            SelectItemModalComponent,\n            {\n                data: {\n                    service_name: 'Triggers',\n                    query_fn: (_) => queryTriggers({ q: _ }).pipe(map((resp) => resp.data)),\n                },\n            }\n        );\n        const details = await Promise.race([\n            ref.componentInstance.event.pipe(first((_) => _.reason === 'action')).toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (!details || !details.reason) return ref.close();\n        const zone = await this.addTrigger(ref.componentInstance.item);\n        ref.close();\n        if (zone) this._service.replaceItem(zone);\n    }\n\n    public async addTrigger(trigger: PlaceTrigger) {\n        return updateZone(this.active_item.id, {\n            ...this.active_item,\n            triggers: unique([...this.active_item.triggers, trigger.id]),\n        }).toPromise();\n    }\n\n    public async removeTrigger(trigger: PlaceTrigger) {\n        const details = await openConfirmModal(\n            {\n                title: `Remove trigger`,\n                content: `<p>Are you sure you want remove trigger \"${trigger.name}\"?</p><p>Configuration will be updated <strong>immediately</strong>.</p>`,\n                icon: { type: 'icon', class: 'backoffice-trash' },\n            },\n            this._dialog\n        );\n        if (!details || !details.reason) return;\n        const zone = await updateZone(this.active_item.id, {\n            ...this.active_item,\n            triggers: this.active_item.triggers.filter((t) => t !== trigger.id),\n        })\n            .toPromise()\n            .catch((err) => {\n                details.close();\n                notifyError(\n                    `Error removing trigger ${trigger.id} from zone. Error: ${\n                        err.statusText || err.message || err\n                    }`\n                );\n                throw err;\n            });\n        details.close();\n        notifySuccess(`Successfully removed trigger from zone.`);\n        if (zone) this._service.replaceItem(zone);\n    }\n}\n","import { Component } from '@angular/core';\nimport { PlaceZone, PlaceSystem } from '@placeos/ts-client';\n\nimport { ZonesStateService } from './zones-state.service';\n\nimport { marked } from 'marked';\n\n@Component({\n    selector: 'zone-about',\n    template: `\n        <section *ngIf=\"(systems | async)?.length\" class=\"mb-4 flex space-x-2\">\n            <div\n                class=\"rounded p-2 border border-gray-200 dark:border-neutral-500 space-y-2 w-1/3 flex-1 flex flex-col\"\n            >\n                <header\n                    class=\"font-medium text-lg\"\n                    *ngIf=\"(systems | async)?.length\"\n                    i18n=\"@@execHeader\"\n                >\n                    Execute Command\n                </header>\n                <mat-form-field appearance=\"outline\" class=\"h-12\">\n                    <mat-select\n                        [(ngModel)]=\"active_system\"\n                        placeholder=\"Select system\"\n                    >\n                        <mat-option\n                            *ngFor=\"let system of systems | async\"\n                            [value]=\"system\"\n                        >\n                            {{ system.name }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n                <execute-method-field\n                    *ngIf=\"active_system && active_system.id\"\n                    [system]=\"active_system\"\n                ></execute-method-field>\n            </div>\n            <div\n                class=\"rounded p-4 border border-gray-200 dark:border-neutral-500 space-y-2 w-1/3 flex-1 flex flex-col\"\n            >\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"item?.parent_id\"\n                >\n                    <label i18n=\"@@zoneParentLabel\">Parent ID:</label>\n                    <div class=\"value underline mono\">\n                        <a\n                            [routerLink]=\"['/zones', item?.parent_id, 'about']\"\n                            >{{ item?.parent_id }}</a\n                        >\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"item?.created_at\"\n                >\n                    <label i18n=\"@@zoneCreatedAtLabel\">Created:</label>\n                    <div class=\"value\">\n                        {{ item?.created_at * 1000 | dateFrom }}\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"item?.updated_at\"\n                >\n                    <label i18n=\"@@zoneUpdatedAtLabel\">Updated:</label>\n                    <div class=\"value\">\n                        {{ item?.updated_at * 1000 | dateFrom }}\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.location\">\n                    <label i18n=\"@@zoneLocationLabel\">Location:</label>\n                    <div class=\"value\">{{ item?.location }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.code\">\n                    <label i18n=\"@@zoneCodeLabel\">Code:</label>\n                    <div class=\"value\">{{ item?.code }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.type\">\n                    <label i18n=\"@@zoneTypeLabel\">Type:&nbsp;</label>\n                    <div class=\"value\">{{ item?.type }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.count\">\n                    <label i18n=\"@@zoneCountLabel\">Count:</label>\n                    <div class=\"value\">{{ item?.count }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.capacity\">\n                    <label i18n=\"@@zoneCapacityLabel\">Capacity:</label>\n                    <div class=\"value\">{{ item?.capacity }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.map_id\">\n                    <label i18n=\"@@zoneMapLabel\">Map:</label>\n                    <a class=\"underline\" [href]=\"item?.map_id\">{{\n                        item?.map_id\n                    }}</a>\n                </div>\n                <div class=\"flex items-center space-x-2\" *ngIf=\"item?.tags\">\n                    <label class=\"my-1\" for=\"tags\" i18n=\"@@zoneTagsLabel\"\n                        >Tags:</label\n                    >\n                    <div\n                        class=\"value flex flex-wrap\"\n                        *ngIf=\"\n                            tag_list && tag_list.length;\n                            else empty_tag_state\n                        \"\n                    >\n                        <div\n                            *ngFor=\"let tag of tag_list\"\n                            class=\"mono text-xs px-3 py-2 m-2 bg-gray-200 dark:bg-neutral-500 rounded-2xl\"\n                        >\n                            {{ tag }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <header\n            class=\"font-medium text-lg\"\n            *ngIf=\"item?.description\"\n            i18n=\"@@descriptionLabel\"\n        >\n            Description\n        </header>\n        <section\n            class=\"description\"\n            *ngIf=\"item?.description\"\n            [innerHTML]=\"parsed_description\"\n        ></section>\n        <hr class=\"my-4\" />\n        <header class=\"font-medium text-lg\" i18n=\"@@settingsLabel\">\n            Settings\n        </header>\n        <section *ngIf=\"item?.settings; else load_state\">\n            <a-settings-form\n                [merge]=\"true\"\n                [id]=\"item?.id\"\n                [settings]=\"item?.settings\"\n            ></a-settings-form>\n        </section>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8\">\n                <mat-spinner class=\"mb-4\" diameter=\"48\"></mat-spinner>\n                <p i18n=\"@@zoneLoadingLabel\">Loading zone settings...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_tag_state>\n            <p class=\"text-center py-1\" i18n=\"@@zoneTagsEmpty\">\n                &lt;No Tags&gt;\n            </p>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class ZoneAboutComponent {\n    /** List of associated systems */\n    public readonly systems = this._service.systems;\n    /** Selected system */\n    public active_system: PlaceSystem;\n\n    public get item(): PlaceZone {\n        return this._service.active_item as any;\n    }\n\n    public get parsed_description() {\n        return this.item ? marked(this.item?.description) : '';\n    }\n\n    /** List of tags associated with the zone */\n    public get tag_list(): string[] {\n        return this.item ? this.item?.tags : [];\n    }\n\n    constructor(private _service: ZonesStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { combineLatest, BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { ZonesStateService } from './zones-state.service';\n\n@Component({\n    selector: 'zone-systems',\n    template: `\n        <div class=\"flex\">\n            <mat-form-field class=\"flex-1\" appearance=\"outline\">\n                <app-icon\n                    matPrefix\n                    class=\"text-lg\"\n                    className=\"backoffice-magnifying-glass\"\n                ></app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"''\"\n                    (ngModelChange)=\"filter$.next($event)\"\n                    name=\"search-filter\"\n                    placeholder=\"Filter Systems\"\n                />\n            </mat-form-field>\n        </div>\n        <div role=\"table\" *ngIf=\"(systems | async)?.length; else empty_state\">\n            <div table-head>\n                <div class=\"flex-1 p-2\" i18n=\"@@systemTableName\">Name</div>\n                <div class=\"w-28 p-2\" i18n=\"@@systemTablePanelCount\">No. Modules</div>\n                <div class=\"w-32 p-2\" i18n=\"@@systemTableCreated\">Created</div>\n            </div>\n            <div table-body>\n                <div table-row *ngFor=\"let item of systems | async\">\n                    <div class=\"flex-1 p-2 underline\">\n                        <a\n                            [routerLink]=\"['/systems', item.id]\"\n                            [matTooltip]=\"item.id\"\n                            matTooltipPosition=\"right\"\n                        >\n                            {{ item.name }}\n                        </a>\n                    </div>\n                    <div class=\"w-28 p-2\">{{ item.modules.length }}</div>\n                    <div class=\"w-32 p-2\">{{ item?.created_at * 1000 | dateFrom }}</div>\n                </div>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <div class=\"flex flex-col items-center p-8\">\n                <p i18n=\"@@systemTableEmpty\">No systems found</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class ZoneSystemsComponent {\n    public readonly filter$ = new BehaviorSubject<string>('');\n\n    public readonly systems = combineLatest([this.filter$, this._state.systems]).pipe(\n        map((details) => {\n            const [filter, systems] = details;\n            const search = filter.toLowerCase();\n            return !filter\n                ? systems\n                : systems.filter((sys) => sys.name.toLowerCase().includes(search));\n        })\n    );\n\n    constructor(private _state: ZonesStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { PlaceZone } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { ZonesStateService } from './zones-state.service';\n\n@Component({\n    selector: 'zone-triggers',\n    template: `\n        <section class=\"flex items-center mb-4 space-x-2\">\n            <button mat-button style=\"min-width: 8rem\" (click)=\"selectTrigger()\">\n                Add Trigger\n            </button>\n            <mat-form-field appearance=\"outline\" class=\"h-12 flex-1\">\n                <app-icon matPrefix className=\"backoffice-magnifying-glass text-xl mr-2\"></app-icon>\n                <input\n                    [ngModel]=\"''\"\n                    (ngModelChange)=\"filter$.next($event)\"\n                    matInput\n                    placeholder=\"Filter triggers...\"\n                    class=\"rounded-none\"\n                />\n            </mat-form-field>\n        </section>\n        <section>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <div\n                    role=\"table\"\n                    class=\"overflow-x-auto\"\n                    *ngIf=\"(triggers | async)?.length; else empty_state\"\n                >\n                    <div table-head>\n                        <div flex class=\"flex-1 p-2\" i18n=\"@@nameLabel\">Name</div>\n                        <div class=\"w-28 p-2\" i18n=\"@@descriptionLabel\">Added</div>\n                        <div class=\"w-32 p-2\"></div>\n                    </div>\n                    <div table-body class=\"overflow-y-auto\">\n                        <div table-row *ngFor=\"let trigger of triggers | async; let i = index\">\n                            <div flex class=\"flex-1 p-2\">\n                                <a class=\"truncate\" [routerLink]=\"['/triggers', trigger.id]\">{{\n                                    trigger.name\n                                }}</a>\n                            </div>\n                            <div desc class=\"w-28 p-2\">\n                                {{ +trigger.created_at * 1000 | dateFrom }}\n                            </div>\n                            <div class=\"w-32 p-2 items-center justify-center\">\n                                <button mat-icon-button (click)=\"deleteTrigger(trigger)\">\n                                    <app-icon className=\"backoffice-trash\"></app-icon>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </ng-container>\n        </section>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 mx-auto\">\n                <mat-spinner [diameter]=\"48\" class=\"mb-4\"></mat-spinner>\n                <p>Loading triggers...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div class=\"flex flex-col items-center p-8 mx-auto\">\n                <p>No triggers for zone</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class ZoneTriggersComponent {\n    public readonly filter$ = new BehaviorSubject<string>('');\n    /** List of triggers associated with the zone */\n    public readonly triggers = combineLatest([this.filter$, this._state.triggers]).pipe(\n        map((details) => {\n            const [filter, systems] = details;\n            const search = filter.toLowerCase();\n            return !filter\n                ? systems\n                : systems.filter((sys) => sys.name.toLowerCase().includes(search));\n        })\n    );\n\n    public readonly loading = this._state.loading;\n\n    public readonly selectTrigger = () => this._state.selectTrigger();\n    public readonly deleteTrigger = (t) => this._state.removeTrigger(t);\n\n    public get item(): PlaceZone {\n        return this._state.active_item as any;\n    }\n\n    constructor(private _state: ZonesStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { PlaceZone } from '@placeos/ts-client';\nimport { combineLatest, BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { ZonesStateService } from './zones-state.service';\n\n@Component({\n    selector: 'zone-children',\n    template: `\n        <div class=\"flex items-center\">\n            <mat-form-field class=\"flex-1\" appearance=\"outline\">\n                <app-icon class=\"text-lg\" matPrefix className=\"backoffice-magnifying-glass\"></app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"''\"\n                    (ngModelChange)=\"filter$.next($event)\"\n                    name=\"search-filter\"\n                    placeholder=\"Filter Zones\"\n                    i18n-placeholder=\"@@zoneChildrenTableFilter\"\n                />\n            </mat-form-field>\n        </div>\n        <div role=\"table\" *ngIf=\"(children | async)?.length > 0; else empty_state\">\n            <div table-head>\n                <div class=\"flex-1 p-2\" i18n=\"@@zoneChildrenTableName\">Name</div>\n                <div class=\"w-3/5 p-2\" i18n=\"@@descriptionLabel\">Description</div>\n            </div>\n            <div table-body>\n                <div table-row *ngFor=\"let item of children | async\">\n                    <div class=\"flex-1 p-2 underline\">\n                        <a\n                            [routerLink]=\"['/zones', item.id]\"\n                            routerLinkActive=\"router-link-active\"\n                            [matTooltip]=\"item.id\"\n                        >\n                            {{ item.name }} (<span class=\"id\">{{ item.id }}</span\n                            >)\n                        </a>\n                    </div>\n                    <div class=\"w-3/5 p-2\">{{ item.description }}</div>\n                </div>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <div class=\"flex flex-col items-center p-8\" i18n=\"@@zoneChildrenTableEmpty\">\n                No child zones found\n            </div>\n        </ng-template>\n    `,\n    styles: [`\n        :host {\n            width: 100%;\n            height: 100%;\n        }\n    `],\n})\nexport class ZoneChildrenComponent {\n    public readonly filter$ = new BehaviorSubject<string>('');\n    /** List of triggers associated with the zone */\n    public readonly children = combineLatest([this.filter$, this._state.children]).pipe(\n        map((details) => {\n            const [filter, zones] = details;\n            const search = filter.toLowerCase();\n            return !filter ? zones : zones.filter((sys) => sys.name.toLowerCase().includes(search));\n        })\n    );\n\n    public readonly loading = this._state.loading;\n\n    public get item(): PlaceZone {\n        return this._state.active_item as any;\n    }\n\n    constructor(private _state: ZonesStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { PlaceZone } from '@placeos/ts-client';\nimport { ActiveItemService } from 'apps/backoffice/src/app/common/item.service';\n\n@Component({\n    selector: 'zone-metadata',\n    template: `\n        <metadata-display *ngIf=\"item\" [item]=\"item\"></metadata-display>\n    `,\n    styles: [``],\n})\nexport class ZoneMetadataComponent {\n    public get item(): PlaceZone {\n        return this._service.active_item as any;\n    }\n\n    constructor(private _service: ActiveItemService) {}\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { extensionsForItem } from '../common/api';\nimport { BaseClass } from '../common/base.class';\nimport { ActiveItemService } from '../common/item.service';\nimport { ZonesStateService } from './zones-state.service';\n\n@Component({\n    selector: 'new-zones-view',\n    template: `\n        <div\n            class=\"absolute inset-0 flex items-center divide-y sm:divide-y-0 sm:divide-x divide-gray-300 dark:divide-neutral-600 bg-white dark:bg-neutral-700\"\n        >\n            <sidebar-menu [(open)]=\"open_menu\" class=\"sm:h-full\"></sidebar-menu>\n            <item-sidebar class=\"hidden sm:block\" [route]=\"name\" title=\"Zones\"></item-sidebar>\n            <div class=\"flex-1 w-1/2 h-full relative flex flex-col z-0\">\n                <item-selection class=\"z-20 sm:hidden\" [route]=\"name\" title=\"Zones\">\n                    <button\n                        mat-icon-button\n                        class=\"sm:hidden mr-2\"\n                        (click)=\"open_menu = true\"\n                    >\n                        <app-icon className=\"backoffice-menu\"></app-icon>\n                    </button>\n                </item-selection>\n                <div class=\"flex flex-col flex-1 h-1/2\">\n                    <ng-container *ngIf=\"item?.id\">\n                        <item-details\n                            [can_edit]=\"true\"\n                            [item]=\"item\"\n                            type=\"Zone\"\n                        ></item-details>\n                        <item-tablist\n                            [base]=\"name\"\n                            [tabs]=\"tab_list\"\n                            [scrolled]=\"scroll > 0\"\n                            class=\"z-10\"\n                        ></item-tablist>\n                        <div\n                            #el\n                            class=\"flex-1 h-1/2 w-full overflow-auto p-4 z-0 relative\"\n                            (scroll)=\"scroll = el.scrollTop\"\n                        >\n                            <router-outlet></router-outlet>\n                        </div>\n                    </ng-container>\n                </div>\n                <button\n                    class=\"absolute bottom-2 left-2 sm:-left-9 w-12 h-12 flex items-center justify-center bg-primary dark:bg-pink rounded-lg shadow z-30 text-white\"\n                    matTooltip=\"New zone\"\n                    matTooltipPosition=\"right\"\n                    matRipple\n                    (click)=\"newItem()\"\n                >\n                    <app-icon\n                        [className]=\"'backoffice-plus'\"\n                        class=\"text-3xl\"\n                    ></app-icon>\n                </button>\n                <button\n                    class=\"absolute bottom-16 left-2 sm:-left-8 w-10 h-10 flex items-center justify-center bg-primary dark:bg-pink rounded-lg shadow z-30 text-white\"\n                    matTooltip=\"Bulk add zones\"\n                    matTooltipPosition=\"right\"\n                    matRipple\n                    (click)=\"bulkAdd()\"\n                >\n                    <app-icon class=\"text-2xl\">playlist_add</app-icon>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ZonesComponent extends BaseClass {\n    public readonly name = 'zones';\n    public open_menu = false;\n\n    public tab_list = [];\n\n    public readonly newItem = () => this._item.create();\n    public readonly bulkAdd = () => this._item.bulkAdd();\n\n    public get item() {\n        return this._service.active_item;\n    }\n\n    public get extensions() {\n        return extensionsForItem(this._service.active_item, this.name);\n    }\n\n    public updateTabList(details: Record<string, number>) {\n        this.tab_list = [\n            {\n                id: 'about',\n                name: 'About',\n                icon: { class: 'backoffice-info-with-circle' },\n            },\n            {\n                id: 'systems',\n                name: 'Systems',\n                count: details.systems ?? '?',\n                icon: { class: 'backoffice-documents' },\n            },\n            {\n                id: 'triggers',\n                name: 'Triggers',\n                count: details.triggers ?? '?',\n                icon: { class: 'backoffice-stopwatch' },\n            },\n            {\n                id: 'metadata',\n                name: 'Metadata',\n                count: details.metadata ?? '?',\n                icon: { class: 'backoffice-gist' },\n            },\n            {\n                id: 'children',\n                name: 'Children',\n                count: details.children ?? '?',\n                icon: { class: 'backoffice-flow-tree' },\n            },\n            {\n                id: 'history',\n                name: 'Settings History',\n                icon: { class: 'backoffice-clock' },\n            },\n        ].concat(this.extensions);\n    }\n\n    constructor(\n        protected _service: ZonesStateService,\n        protected _item: ActiveItemService,\n        protected _route: ActivatedRoute,\n        protected _router: Router\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription('item-change', this._item.active_item$.subscribe(() => this.updateTabList({})));\n        this.subscription(\n            'item',\n            this._service.counts.subscribe((details) =>\n                this.updateTabList(details)\n            )\n        );\n    }\n}\n","import { Routes } from '@angular/router';\n\nimport { ZoneAboutComponent } from './zone-about.component';\nimport { ZoneSystemsComponent } from './zone-systems.component';\nimport { ZoneTriggersComponent } from './zone-triggers.component';\nimport { ZoneChildrenComponent } from './zone-children.component';\nimport { ZoneMetadataComponent } from './zone-metadata.component';\nimport { ExtensionOutletComponent } from '../ui/extension-outlet.component';\nimport { SettingsHistoryViewComponent } from '../ui/settings-history-view.component';\nimport { ZonesComponent } from './zones.component';\n\nexport const ROUTES: Routes = [\n    {\n        path: ':id',\n        component: ZonesComponent,\n        children: [\n            { path: 'about', component: ZoneAboutComponent },\n            { path: 'systems', component: ZoneSystemsComponent },\n            { path: 'triggers', component: ZoneTriggersComponent },\n            { path: 'children', component: ZoneChildrenComponent },\n            { path: 'metadata', component: ZoneMetadataComponent },\n            { path: 'extend/:id', component: ExtensionOutletComponent },\n            { path: 'history', component: SettingsHistoryViewComponent },\n            { path: '**', redirectTo: 'about' },\n        ],\n    },\n    { path: '**', redirectTo: '-' },\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { ROUTES } from './zones.routes';\nimport { SharedContentModule } from 'apps/backoffice/src/app/ui/ui.module';\n\nimport { ZoneAboutComponent } from './zone-about.component';\nimport { ZoneSystemsComponent } from './zone-systems.component';\nimport { ZoneTriggersComponent } from './zone-triggers.component';\nimport { ZoneChildrenComponent } from './zone-children.component';\nimport { ZoneMetadataComponent } from './zone-metadata.component';\nimport { ZonesComponent } from './zones.component';\n\n@NgModule({\n    declarations: [\n        ZoneAboutComponent,\n        ZoneSystemsComponent,\n        ZoneTriggersComponent,\n        ZoneChildrenComponent,\n        ZoneMetadataComponent,\n        ZonesComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        RouterModule.forChild(ROUTES),\n        SharedContentModule,\n    ],\n})\nexport class AppZonesModule {}\n"],"x_google_ignoreList":[]}